/*! For license information please see main.3873bb00.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,f(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+T(l,0):a,w(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+T(o=e[c],c);l+=P(o,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,u=a+T(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",function(e){return t.call(n,e,s++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},I={transition:null},A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<s&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(v=!1,b(e),!f)if(null!==r(c))f=!0,I(j);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function j(e,n){f=!1,v&&(v=!1,y(C),C=-1),p=!0;var a=m;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{h=null,m=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,S=null,C=-1,E=5,T=-1;function P(){return!(t.unstable_now()-T<E)}function _(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(N=!1,S=null)}}else N=!1}if("function"===typeof x)k=function(){x(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=_,k=function(){O.postMessage(null)}}else k=function(){g(_,0)};function I(e){S=e,N||(N=!0,k())}function A(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(v?(y(C),C=-1):v=!0,A(w,a-i))):(e.sortIndex=o,n(c,e),f||p||(f=!0,I(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=v.hasOwnProperty(t)?v[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,D=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case S:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function G(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function Se(e){if(e=xs(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),je(e.stateNode,e.type,t))}}function Ce(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Pe(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==ke||null!==Ne)&&(Pe(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Ie=!1}function Le(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,De=null,ze=!1,Ue=null,Fe={onError:function(e){Me=!0,De=e}};function Be(e,t,n,r,s,a,i,o,l){Me=!1,De=null,Le.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Ze=s.unstable_requestPaint,Xe=s.unstable_now,Ge=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=dt(o):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~s)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,Nt,St,Ct=!1,Et=[],Tt=null,Pt=null,_t=null,Rt=new Map,Ot=new Map,It=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dt(e){var t=ys(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){zt(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==_t&&zt(_t)&&(_t=null),Rt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),null!==_t&&Bt(_t,e),Rt.forEach(t),Ot.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Dt(n),null===n.blockedOn&&It.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=xt,a=qt.transition;qt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=s,qt.transition=a}}function Qt(e,t,n,r){var s=xt,a=qt.transition;qt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=s,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var s=Yt(e,t,n,r);if(null===s)Hr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,s),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,s),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==s;){var a=xs(s);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,$t,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Yt(e,t,n,r){if($t=null,null!==(e=ys(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ge()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Gt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Gt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=D({},cn,{view:0,detail:0}),hn=sn(dn),mn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(mn),fn=sn(D({},mn,{dataTransfer:0})),vn=sn(D({},dn,{relatedTarget:0})),gn=sn(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(yn),bn=sn(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Nn}var Cn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Cn),Tn=sn(D({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),_n=sn(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=D({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Rn),In=[9,13,27,32],An=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Dn=u&&(!An||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function $n(e){zr(e,0)}function Yn(e){if(K(bs(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Gn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Gn=Jn}else Gn=!1;Xn=Gn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Re($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ur(n,a);var i=ur(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==$(r)||("selectionStart"in(r=vr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Qr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Nr={};function Sr(e){if(kr[e])return kr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Cr=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Pr=Sr("transitionend"),_r=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){_r.set(e,t),l(t,[e])}for(var Ir=0;Ir<Rr.length;Ir++){var Ar=Rr[Ir];Or(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=De;Me=!1,De=null,ze||(ze=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Dr(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Dr(s,o,c),a=l}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Ur(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Zt(t)){case 1:var s=Wt;break;case 4:s=Qt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ys(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Re(function(){var r=a,s=we(n),i=[];e:{var o=_r.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case Er:case Tr:l=gn;break;case Pr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=r;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Oe(p,h))&&u.push(Wr(p,f,m)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bs(l),m=null==c?o:bs(c),(o=new u(f,p+"leave",l,n,s)).target=d,o.relatedTarget=m,f=null,ys(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,p=0,m=u=l;m;m=Kr(m))p++;for(m=0,f=h;f;f=Kr(f))m++;for(;0<p-m;)u=Kr(u),p--;for(;0<m-p;)h=Kr(h),m--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&$r(i,o,l,u,!1),null!==c&&null!==d&&$r(i,d,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Zn;else if(Hn(o))if(Xn)v=ir;else{v=sr;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(i,v,n,s):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?bs(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(i,n,s);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(i,n,s)}var y;if(An)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vn?Fn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Vn&&(y=en()):(Gt="value"in(Xt=s)?Xt.value:Xt.textContent,Vn=!0)),0<(g=Qr(r,x)).length&&(x=new bn(x,e,null,n,s),i.push({event:x,listeners:g}),y?x.data=y:null!==(y=Bn(n))&&(x.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,zn);case"textInput":return(e=t.data)===zn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Jt=Gt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}zr(i,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,s)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Oe(n,a))&&i.unshift(Wr(n,l,o)):s||null!=(l=Oe(n,a))&&i.push(Wr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function Gr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ms="__reactProps$"+ds,ps="__reactContainer$"+ds,fs="__reactEvents$"+ds,vs="__reactListeners$"+ds,gs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ms]||null}var js=[],ks=-1;function Ns(e){return{current:e}}function Ss(e){0>ks||(e.current=js[ks],js[ks]=null,ks--)}function Cs(e,t){ks++,js[ks]=e.current,e.current=t}var Es={},Ts=Ns(Es),Ps=Ns(!1),_s=Es;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Os(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Is(){Ss(Ps),Ss(Ts)}function As(e,t,n){if(Ts.current!==Es)throw Error(a(168));Cs(Ts,t),Cs(Ps,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,q(e)||"Unknown",s));return D({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,_s=Ts.current,Cs(Ts,e),Cs(Ps,Ps.current),!0}function Ds(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ls(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Ts),Cs(Ts,e)):Ss(Ps),Cs(Ps,n)}var zs=null,Us=!1,Fs=!1;function Bs(e){null===zs?zs=[e]:zs.push(e)}function Vs(){if(!Fs&&null!==zs){Fs=!0;var e=0,t=xt;try{var n=zs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zs=null,Us=!1}catch(s){throw null!==zs&&(zs=zs.slice(e+1)),Ke(Je,Vs),s}finally{xt=t,Fs=!1}}return null}var qs=[],Hs=0,Ws=null,Qs=0,Ks=[],$s=0,Ys=null,Zs=1,Xs="";function Gs(e,t){qs[Hs++]=Qs,qs[Hs++]=Ws,Ws=e,Qs=t}function Js(e,t,n){Ks[$s++]=Zs,Ks[$s++]=Xs,Ks[$s++]=Ys,Ys=e;var r=Zs;e=Xs;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Zs=1<<32-it(t)+s|n<<s|r,Xs=a+e}else Zs=1<<a|n<<s|r,Xs=e}function ea(e){null!==e.return&&(Gs(e,1),Js(e,1,0))}function ta(e){for(;e===Ws;)Ws=qs[--Hs],qs[Hs]=null,Qs=qs[--Hs],qs[Hs]=null;for(;e===Ys;)Ys=Ks[--$s],Ks[$s]=null,Xs=Ks[--$s],Ks[$s]=null,Zs=Ks[--$s],Ks[$s]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Zs,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&oa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!sa)return ua(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cs(e.nextSibling)}function ma(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=b.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ya(a)===t.type)?((r=s(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function m(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case j:return n.key===s?u(e,t,n,r):null;case O:return m(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:d(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case O:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function f(s,a,o,l){for(var c=null,u=null,d=a,f=a=0,v=null;null!==d&&f<o.length;f++){d.index>f?(v=d,d=null):v=d.sibling;var g=m(s,d,o[f],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,f),null===u?c=g:u.sibling=g,u=g,d=v}if(f===o.length)return n(s,d),sa&&Gs(s,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(s,o[f],l))&&(a=i(d,a,f),null===u?c=d:u.sibling=d,u=d);return sa&&Gs(s,f),c}for(d=r(s,d);f<o.length;f++)null!==(v=p(d,s,f,o[f],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?f:v.key),a=i(v,a,f),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(s,e)}),sa&&Gs(s,f),c}function v(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,f=o,v=o=0,g=null,y=l.next();null!==f&&!y.done;v++,y=l.next()){f.index>v?(g=f,f=null):g=f.sibling;var x=m(s,f,y.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(s,f),o=i(x,o,v),null===d?u=x:d.sibling=x,d=x,f=g}if(y.done)return n(s,f),sa&&Gs(s,v),u;if(null===f){for(;!y.done;v++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return sa&&Gs(s,v),u}for(f=r(s,f);!y.done;v++,y=l.next())null!==(y=p(f,s,v,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),sa&&Gs(s,v),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){n(r,u.sibling),(a=s(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ya(c)===u.type){n(r,u.sibling),(a=s(u,i.props)).ref=va(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===k?((a=Lc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Ac(i.type,i.key,i.props,null,r.mode,l)).ref=va(r,a,i),l.return=r,r=l)}return o(r);case j:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(i,r.mode,l)).return=r,r=a}return o(r);case O:return e(r,a,(u=i._init)(i._payload),l)}if(te(i))return f(r,a,i,l);if(L(i))return v(r,a,i,l);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Dc(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var ba=xa(!0),wa=xa(!1),ja=Ns(null),ka=null,Na=null,Sa=null;function Ca(){Sa=Na=ka=null}function Ea(e){var t=ja.current;Ss(ja),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){ka=e,Sa=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===ka)throw Error(a(308));Na=e,ka.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ra=null;function Oa(e){null===Ra?Ra=[e]:Ra.push(e)}function Ia(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Oa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Aa(e,n)}return null===(s=r.interleaved)?(t.next=t,Oa(r)):(t.next=s.next,s.next=t),r.interleaved=t,Aa(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=d}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ha={},Wa=Ns(Ha),Qa=Ns(Ha),Ka=Ns(Ha);function $a(e){if(e===Ha)throw Error(a(174));return e}function Ya(e,t){switch(Cs(Ka,t),Cs(Qa,e),Cs(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Wa),Cs(Wa,t)}function Za(){Ss(Wa),Ss(Qa),Ss(Ka)}function Xa(e){$a(Ka.current);var t=$a(Wa.current),n=le(t,e.type);t!==n&&(Cs(Qa,e),Cs(Wa,n))}function Ga(e){Qa.current===e&&(Ss(Wa),Ss(Qa))}var Ja=Ns(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,si=b.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function mi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Gi:Ji,e=n(r,s),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,s)}while(ui)}if(ri.current=Xi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function vi(){var e=0!==di;return di=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ai&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Ml|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);or(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function ki(e,t){var n=ii,r=yi(),s=t(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,xo=!0),r=r.queue,Li(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,_i(9,Si.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||Ni(n,t,s)}return s}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&Ti(e)}function Ci(e,t,n){return n(function(){Ei(t)&&Ti(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ti(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function _i(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ri(){return yi().memoizedState}function Oi(e,t,n,r){var s=gi();ii.flags|=e,s.memoizedState=_i(1|t,n,void 0,void 0===r?null:r)}function Ii(e,t,n,r){var s=yi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(s.memoizedState=_i(t,n,a,r))}ii.flags|=e,s.memoizedState=_i(1|t,n,a,r)}function Ai(e,t){return Oi(8390656,8,e,t)}function Li(e,t){return Ii(2048,8,e,t)}function Mi(e,t){return Ii(4,2,e,t)}function Di(e,t){return Ii(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ii(4,4,zi.bind(null,t,e),n)}function Fi(){}function Bi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ii.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hi(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{xt=n,si.transition=r}}function Wi(){return yi().memoizedState}function Qi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e))Yi(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),Zi(n,t,r)}}function Ki(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Yi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(s.next=s,Oa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ia(e,t,s,r))&&(nc(n,e,r,s=ec()),Zi(n,t,r))}}function $i(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xi={readContext:_a,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Gi={readContext:_a,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Ai,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Fi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Hi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=gi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&ai)||Ni(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ai(Ci.bind(null,r,i,e),[e]),r.flags|=2048,_i(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Pl.identifierPrefix;if(sa){var n=Xs;t=":"+t+"R"+(n=(Zs&~(1<<32-it(Zs)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ji={readContext:_a,useCallback:Bi,useContext:_a,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Mi,useLayoutEffect:Di,useMemo:Vi,useReducer:bi,useRef:Ri,useState:function(){return bi(xi)},useDebugValue:Fi,useDeferredValue:function(e){return qi(yi(),oi.memoizedState,e)},useTransition:function(){return[bi(xi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:_a,useCallback:Bi,useContext:_a,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Mi,useLayoutEffect:Di,useMemo:Vi,useReducer:wi,useRef:Ri,useState:function(){return wi(xi)},useDebugValue:Fi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:qi(t,oi.memoizedState,e)},useTransition:function(){return[wi(xi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Fa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Fa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=za(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ua(e,s,r))&&(nc(t,e,r,n),Fa(t,e,r))}};function so(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function ao(e,t,n){var r=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(s=Os(t)?_s:Ts.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):Es),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=_a(a):(a=Os(t)?_s:Ts.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Va(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function wo(e,t,n,r,s){n=n.render;var a=t.ref;return Pa(t,s),r=fi(e,t,n,r,a,s),n=vi(),null===e||xo?(sa&&n&&ea(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function jo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ho(e,t,s)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Ho(e,t,s);0!==(131072&e.flags)&&(xo=!0)}}return Co(e,t,n,r,s)}function No(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Il,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Il,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Cs(Il,Ol),Ol|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Cs(Il,Ol),Ol|=r;return bo(e,t,s,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var a=Os(n)?_s:Ts.current;return a=Rs(t,a),Pa(t,s),n=fi(e,t,n,r,a,s),r=vi(),null===e||xo?(sa&&r&&ea(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function Eo(e,t,n,r,s){if(Os(n)){var a=!0;Ms(t)}else a=!1;if(Pa(t,s),null===t.stateNode)qo(e,t),ao(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Rs(t,c=Os(n)?_s:Ts.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),La=!1;var h=t.memoizedState;i.state=h,Va(t,r,i,s),l=t.memoizedState,o!==r||h!==l||Ps.current||La?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=La||so(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Da(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=_a(l):l=Rs(t,l=Os(n)?_s:Ts.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),La=!1,h=t.memoizedState,i.state=h,Va(t,r,i,s);var p=t.memoizedState;o!==d||h!==p||Ps.current||La?("function"===typeof m&&(no(t,n,m,r),p=t.memoizedState),(c=La||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,a,s)}function To(e,t,n,r,s,a){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Ds(t,n,!1),Ho(e,t,a);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=r.state,s&&Ds(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?As(0,t.pendingContext,t.pendingContext!==t.context):t.context&&As(0,t.context,!1),Ya(e,t.containerInfo)}function _o(e,t,n,r,s){return ma(),pa(s),t.flags|=256,bo(e,t,n,r),t.child}var Ro,Oo,Io,Ao,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var r,s=t.pendingProps,i=Ja.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cs(Ja,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,s,0,null),e=Lc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):zo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),(i=Lc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Aa(e,s),nc(r,e,s,-1))}return fc(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ks[$s++]=Zs,Ks[$s++]=Xs,Ks[$s++]=Ys,Zs=e.id,Xs=e.overflow,Ys=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ic(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Ic(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,s}return e=(o=e.child).sibling,s=Ic(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function zo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&pa(r),ba(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function Bo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Vo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Ja.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(Ja,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Os(t.type)&&Is(),Qo(t),null;case 3:return r=t.stateNode,Za(),Ss(Ps),Ss(Ts),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Oo(e,t),Qo(t),null;case 5:Ga(t);var s=$a(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qo(t),null}if(e=$a(Wa.current),da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[ms]=i,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Ur(Lr[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Z(r,i),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",r);break;case"textarea":se(r,i),Ur("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":Q(r),J(r,i,!0);break;case"textarea":Q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ms]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Ur(Lr[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":Z(e,r),s=Y(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=D({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(i in ye(n,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ve(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Ur("scroll",e):null!=u&&x(e,i,u,l))}switch(n){case"input":Q(e),J(e,r,!1);break;case"textarea":Q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Ao(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Ka.current),$a(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Gr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Qo(t),null;case 13:if(Ss(Ja),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ma(),t.flags|=98560,i=!1;else if(i=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hs]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Al&&(Al=3):fc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return Za(),Oo(e,t),null===e&&Vr(t.stateNode.containerInfo),Qo(t),null;case 10:return Ea(t.type._context),Qo(t),null;case 19:if(Ss(Ja),null===(i=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Wo(i,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Wo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Vl&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Qo(t),null}else 2*Xe()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Ja.current,Cs(Ja,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $o(e,t){switch(ta(t),t.tag){case 1:return Os(t.type)&&Is(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Za(),Ss(Ps),Ss(Ts),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ga(t),null;case 13:if(Ss(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Ja),null;case 4:return Za(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Io=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$a(Wa.current);var a,i=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),i=[];break;case"select":s=D({},s,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ao=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Zo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Go=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ms],delete t[fs],delete t[vs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Zo||Jo(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Zo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(n,t,i),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Zo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zo=(r=Zo)||null!==n.memoizedState,hl(e,t,n),Zo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));ml(i,o,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Nc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Nc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Nc(e,e.return,v)}}break;case 1:fl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(fl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(v){Nc(e,e.return,v)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(s,i),xe(l,o);var u=xe(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ve(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":G(s,i);break;case"textarea":ae(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[ms]=i}catch(v){Nc(e,e.return,v)}}break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Nc(e,e.return,v)}}break;case 3:if(fl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Nc(e,e.return,v)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zo=(u=Zo)||d,fl(t,e),Zo=u):fl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Go=e,d=e.child;null!==d;){for(h=Go=d;null!==Go;){switch(p=(m=Go).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Jo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){Nc(r,n,v)}}break;case 5:Jo(m,m.return);break;case 22:if(null!==m.memoizedState){wl(h);continue}}null!==p?(p.return=m,Go=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(v){Nc(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Nc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Go=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Go;){var s=Go,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Yo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Zo;o=Yo;var c=Zo;if(Yo=i,(Zo=l)&&!c)for(Go=s;null!==Go;)l=(i=Go).child,22===i.tag&&null!==i.memoizedState?jl(s):null!==l?(l.return=i,Go=l):jl(s);for(;null!==a;)Go=a,xl(a,t,n),a=a.sibling;Go=s,Yo=o,Zo=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Go=a):bl(e)}}function bl(e){for(;null!==Go;){var t=Go;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Zo||512&t.flags&&sl(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Go=null;break}if(null!==(n=t.sibling)){n.return=t.return,Go=n;break}Go=t.return}}function wl(e){for(;null!==Go;){var t=Go;if(t===e){Go=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Go=n;break}Go=t.return}}function jl(e){for(;null!==Go;){var t=Go;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Nc(t,s,l)}}var a=t.return;try{sl(t)}catch(l){Nc(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Go=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Go=o;break}Go=t.return}}var kl,Nl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Pl=null,_l=null,Rl=0,Ol=0,Il=Ns(0),Al=0,Ll=null,Ml=0,Dl=0,zl=0,Ul=null,Fl=null,Bl=0,Vl=1/0,ql=null,Hl=!1,Wl=null,Ql=null,Kl=!1,$l=null,Yl=0,Zl=0,Xl=null,Gl=-1,Jl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Gl?Gl:Gl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==fa.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(a(185));gt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Dl|=n),4===Al&&oc(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Xe()+500,Us&&Vs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=mt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Pl?Rl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Us=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),is(function(){0===(6&Tl)&&Vs()}),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Gl=-1,Jl=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var s=Tl;Tl|=2;var i=pc();for(Pl===e&&Rl===t||(ql=null,Vl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}Ca(),Sl.current=i,Tl=s,null!==_l?t=0:(Pl=null,Rl=0,t=Al)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Ll,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Ll,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Fl,ql),t);break}wc(e,Fl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Fl,ql),r);break}wc(e,Fl,ql);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fl,Fl=n,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function oc(e,t){for(t&=~zl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,ql),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Xe()+500,Us&&Vs())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Tl)&&jc();var t=Tl;Tl|=1;var n=El.transition,r=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=r,El.transition=n,0===(6&(Tl=t))&&Vs()}}function dc(){Ol=Il.current,Ss(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Is();break;case 3:Za(),Ss(Ps),Ss(Ts),ni();break;case 5:Ga(r);break;case 4:Za();break;case 13:case 19:Ss(Ja);break;case 10:Ea(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,_l=e=Ic(e.current,null),Rl=Ol=t,Al=0,Ll=null,zl=Dl=Ml=0,Fl=Ul=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Ra=null}return e}function mc(e,t){for(;;){var n=_l;try{if(Ca(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ai=0,li=oi=ii=null,ui=!1,di=0,Cl.current=null,null===n||null===n.return){Al=1,Ll=t,_l=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&fo(i,u,t),c=u;var f=(t=p).updateQueue;if(null===f){var v=new Set;v.add(c),t.updateQueue=v}else f.add(c);break e}if(0===(1&t)){fo(i,u,t),fc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),pa(lo(c,l));break e}}i=c=lo(c,l),4!==Al&&(Al=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,mo(0,c,t));break e;case 1:l=c;var y=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ql||!Ql.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(b){t=b,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xi,null===e?Xi:e}function fc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Pl||0===(268435455&Ml)&&0===(268435455&Dl)||oc(Pl,Rl)}function vc(e,t){var n=Tl;Tl|=2;var r=pc();for(Pl===e&&Rl===t||(ql=null,hc(e,t));;)try{gc();break}catch(s){mc(e,s)}if(Ca(),Tl=n,Sl.current=r,null!==_l)throw Error(a(261));return Pl=null,Rl=0,Al}function gc(){for(;null!==_l;)xc(_l)}function yc(){for(;null!==_l&&!Ye();)xc(_l)}function xc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):_l=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ol)))return void(_l=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Al=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,n){var r=xt,s=El.transition;try{El.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==$l);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Pl&&(_l=Pl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var o=xt;xt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(es=Ht,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Go=t;null!==Go;)if(e=(t=Go).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Go=e;else for(;null!==Go;){t=Go;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var v=f.memoizedProps,g=f.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Go=e;break}Go=t.return}f=tl,tl=!1}(e,n),vl(n,e),pr(ts),Ht=!!es,ts=es=null,e.current=n,yl(n,e,s),Ze(),Tl=l,xt=o,El.transition=i}else e.current=n;if(Kl&&(Kl=!1,$l=e,Yl=s),i=e.pendingLanes,0===i&&(Ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,Vs()}(e,t,n,r)}finally{El.transition=s,xt=r}return null}function jc(){if(null!==$l){var e=bt(Yl),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Tl))throw Error(a(331));var s=Tl;for(Tl|=4,Go=e.current;null!==Go;){var i=Go,o=i.child;if(0!==(16&Go.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Go=u;null!==Go;){var d=Go;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Go=h;else for(;null!==Go;){var m=(d=Go).sibling,p=d.return;if(al(d),d===u){Go=null;break}if(null!==m){m.return=p,Go=m;break}Go=p}}}var f=i.alternate;if(null!==f){var v=f.child;if(null!==v){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Go=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Go=o;else e:for(;null!==Go;){if(0!==(2048&(i=Go).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Go=y;break e}Go=i.return}}var x=e.current;for(Go=x;null!==Go;){var b=(o=Go).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Go=b;else e:for(o=x;null!==Go;){if(0!==(2048&(l=Go).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===o){Go=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Go=w;break e}Go=l.return}}if(Tl=s,Vs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}r=!0}return r}finally{xt=n,El.transition=t}}return!1}function kc(e,t,n){e=Ua(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Ua(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Rl&n)===n&&(4===Al||3===Al&&(130023424&Rl)===Rl&&500>Xe()-Bl?hc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Aa(e,t))&&(gt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Ke(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new _c(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Lc(n.children,s,i,t);case N:o=8,s|=8;break;case S:return(e=Rc(12,n,t,2|s)).elementType=S,e.lanes=i,e;case P:return(e=Rc(13,n,t,s)).elementType=P,e.lanes=i,e;case _:return(e=Rc(19,n,t,s)).elementType=_,e.lanes=i,e;case I:return Mc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case T:o=11;break e;case R:o=14;break e;case O:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,s,a,i,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Bc(e){if(!e)return Es;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Os(n))return Ls(e,n,t)}return t}function Vc(e,t,n,r,s,a,i,o,l){return(e=Fc(n,r,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=za(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function qc(e,t,n,r){var s=t.current,a=ec(),i=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(s,t,i))&&(nc(e,s,i,a),Fa(e,s,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),ma();break;case 5:Xa(t);break;case 1:Os(t.type)&&Ms(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(ja,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(Ja,1&Ja.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Cs(Ja,1&Ja.current),null!==(e=Ho(e,t,n))?e.sibling:null);Cs(Ja,1&Ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,sa&&0!==(1048576&t.flags)&&Js(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var s=Rs(t,Ts.current);Pa(t,n),s=fi(null,t,r,e,s,n);var i=vi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(r)?(i=!0,Ms(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ma(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),bo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=to(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Da(e,t),Va(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=_o(e,t,r,n,s=lo(Error(a(423)),t));break e}if(r!==s){t=_o(e,t,r,n,s=lo(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===s){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==i&&ns(r,i)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Do(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Cs(ja,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===s.children&&!Ps.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=za(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ta(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pa(t,n),r=r(s=_a(s)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),jo(e,t,r,s=to(r.type,s),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),qo(e,t),t.tag=1,Os(r)?(e=!0,Ms(t)):e=!1,Pa(t,n),ao(t,r,s),oo(t,r,s,n),To(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return No(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gc(){}function Jc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Hc(i);o.call(e)}}qc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Hc(i);a.call(e)}}var i=Vc(t,r,e,0,null,!1,0,"",Gc);return e._reactRootContainer=i,e[ps]=i.current,Vr(8===e.nodeType?e.parentNode:e),uc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Gc);return e._reactRootContainer=l,e[ps]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,s,r);return Hc(i)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(Vl=Xe()+500,Vs()))}break;case 13:uc(function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Qc(e,1)}},jt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},Nt=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(a(90));K(r),G(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[xs,bs,ws,Ce,Ee,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,s,0,i,o),e[ps]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Dr,hasStandardBrowserEnv:()=>Ur,hasStandardBrowserWebWorkerEnv:()=>Fr,navigator:()=>zr,origin:()=>Br});var s,a=n(43),i=n.t(a,2),o=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=s.Pop,c=null,m=g();function g(){return(o.state||{idx:null}).idx}function y(){l=s.Pop;let e=g(),t=null==e?null:e-m;m=e,c&&c({action:l,location:b.location,delta:t})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(u({},o.state,{idx:m}),""));let b={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(d,y),c=e,()=>{a.removeEventListener(d,y),c=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let r=f(b.location,e,t);n&&n(r,e),m=g()+1;let u=p(r,m),d=b.createHref(r);try{o.pushState(u,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(d)}i&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=s.Replace;let r=f(b.location,e,t);n&&n(r,e),m=g();let a=p(r,m),u=b.createHref(r);o.replaceState(a,"",u),i&&c&&c({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let a=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=A(s);i=O(a[o],e,r)}return i}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(h(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=q([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:R(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))s(e,t,r);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=k(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,S=3,C=2,E=1,T=10,P=-2,_=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=P),t&&(r+=C),n.filter(e=>!_(e)).reduce((e,t)=>e+(N.test(t)?S:""===t?E:T),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:q([a,u.pathname]),pathnameBase:H(q([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=q([a,u.pathnameBase]))}return i}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const M=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){void 0===t&&(t="/");let n,{pathname:r,search:s="",hash:a=""}="string"===typeof e?g(e):e;if(r)if(i=r,M.test(i))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),m(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?z(r.substring(1),"/"):z(r,t)}else n=t;var i;return{pathname:n,search:W(s),hash:Q(a)}}function z(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function U(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function V(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=u({},e),h(!s.pathname||!s.pathname.includes("?"),U("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),U("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),U("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=D(s,a),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const q=e=>e.join("/").replace(/\/\/+/g,"/"),H=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],Y=(new Set($),["get",...$]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}const X=a.createContext(null);const G=a.createContext(null);const J=a.createContext(null);const ee=a.createContext(null);const te=a.createContext({outlet:null,matches:[],isDataRoute:!1});const ne=a.createContext(null);function re(){return null!=a.useContext(ee)}function se(){return re()||h(!1),a.useContext(ee).location}function ae(e){a.useContext(J).static||a.useLayoutEffect(e)}function ie(){let{isDataRoute:e}=a.useContext(te);return e?function(){let{router:e}=ye(ve.UseNavigateStable),t=be(ge.UseNavigateStable),n=a.useRef(!1);return ae(()=>{n.current=!0}),a.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Z({fromRouteId:t},s)))},[e,t])}():function(){re()||h(!1);let e=a.useContext(X),{basename:t,future:n,navigator:r}=a.useContext(J),{matches:s}=a.useContext(te),{pathname:i}=se(),o=JSON.stringify(B(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return ae(()=>{l.current=!0}),a.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=V(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:q([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[t,r,o,i,e])}()}const oe=a.createContext(null);function le(){let{matches:e}=a.useContext(te),t=e[e.length-1];return t?t.params:{}}function ce(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(J),{matches:s}=a.useContext(te),{pathname:i}=se(),o=JSON.stringify(B(s,r.v7_relativeSplatPath));return a.useMemo(()=>V(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ue(e,t,n,r){re()||h(!1);let{navigator:i}=a.useContext(J),{matches:o}=a.useContext(te),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,m=se();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=m;let f=d.pathname||"/",v=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let x=fe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:q([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:q([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&x?a.createElement(ee.Provider,{value:{location:Z({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},x):x}function de(){let e=function(){var e;let t=a.useContext(ne),n=xe(ge.UseRouteError),r=be(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const he=a.createElement(de,null);class me extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(te.Provider,{value:this.props.routeContext},a.createElement(ne.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pe(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(X);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(te.Provider,{value:t},r)}function fe(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,d=!1,h=null,m=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||he,c&&(u<0&&0===s?(p="route-fallback",!1||we[p]||(we[p]=!0),d=!0,m=null):u===s&&(d=!0,m=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),v=()=>{let t;return t=i?h:d?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(pe,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(me,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:v(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):v()},null)}var ve=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ve||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function ye(e){let t=a.useContext(X);return t||h(!1),t}function xe(e){let t=a.useContext(G);return t||h(!1),t}function be(e){let t=function(){let e=a.useContext(te);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const we={};function je(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ke(e){let{to:t,replace:n,state:r,relative:s}=e;re()||h(!1);let{future:i,static:o}=a.useContext(J),{matches:l}=a.useContext(te),{pathname:c}=se(),u=ie(),d=V(t,B(l,i.v7_relativeSplatPath),c,"path"===s),m=JSON.stringify(d);return a.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:s}),[u,m,s,n,r]),null}function Ne(e){return function(e){let t=a.useContext(te).outlet;return t?a.createElement(oe.Provider,{value:e},t):t}(e.context)}function Se(e){h(!1)}function Ce(e){let{basename:t="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:l=!1,future:c}=e;re()&&h(!1);let u=t.replace(/^\/*/,"/"),d=a.useMemo(()=>({basename:u,navigator:o,static:l,future:Z({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=g(r));let{pathname:m="/",search:p="",hash:f="",state:v=null,key:y="default"}=r,x=a.useMemo(()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:p,hash:f,state:v,key:y},navigationType:i}},[u,m,p,f,v,y,i]);return null==x?null:a.createElement(J.Provider,{value:d},a.createElement(ee.Provider,{children:n,value:x}))}function Ee(e){let{children:t,location:n}=e;return ue(Te(t),n)}new Promise(()=>{});a.Component;function Te(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Te(e.props.children,s));e.type!==Se&&h(!1),e.props.index&&e.props.children&&h(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Te(e.props.children,s)),n.push(i)}),n}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Gi){}new Map;const Oe=i.startTransition;c.flushSync,i.useId;function Ie(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return f("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,o)));let l=i.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback(e=>{d&&Oe?Oe(()=>u(e)):u(e)},[u,d]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>je(r),[r]),a.createElement(Ce,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,p=_e(e,Re),{basename:f}=a.useContext(J),g=!1;if("string"===typeof u&&Le.test(u)&&(n=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Gi){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;re()||h(!1);let{basename:r,navigator:s}=a.useContext(J),{hash:i,pathname:o,search:l}=ce(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:q([r,o])),s.createHref({pathname:c,search:l,hash:i})}(u,{relative:s}),x=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ie(),u=se(),d=ce(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:v(u)===v(d);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});return a.createElement("a",Pe({},p,{href:n||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var De,ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ze||(ze={}));function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Fe(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function Be(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(t){Be(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function He(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function We(e,t,n){He(e,t),t.set(e,n)}function Qe(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Ke(e,t){return e.get(Qe(e,t))}function $e(e,t,n){return e.set(Qe(e,t),n),n}var Ye,Ze,Xe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ge=new(Ye=new WeakMap,Ze=new WeakMap,class{constructor(){We(this,Ye,Xe),We(this,Ze,!1)}setTimeoutProvider(e){$e(Ye,this,e)}setTimeout(e,t){return Ke(Ye,this).setTimeout(e,t)}clearTimeout(e){Ke(Ye,this).clearTimeout(e)}setInterval(e,t){return Ke(Ye,this).setInterval(e,t)}clearInterval(e){Ke(Ye,this).clearInterval(e)}});var Je="undefined"===typeof window||"Deno"in globalThis;function et(){}function tt(e){return"number"===typeof e&&e>=0&&e!==1/0}function nt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rt(e,t){return"function"===typeof e?e(t):e}function st(e,t){return"function"===typeof e?e(t):e}function at(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==ot(i,t.options))return!1}else if(!ct(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(a&&!a(t)))}function it(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(lt(t.options.mutationKey)!==lt(a))return!1}else if(!ct(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function ot(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||lt)(e)}function lt(e){return JSON.stringify(e,(e,t)=>pt(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function ct(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>ct(e[n],t[n])))}var ut=Object.prototype.hasOwnProperty;function dt(e,t){if(e===t)return e;const n=mt(e)&&mt(t);if(!n&&(!pt(e)||!pt(t)))return t;const r=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),a=s.length,i=n?new Array(a):{};let o=0;for(let l=0;l<a;l++){const a=n?l:s[l],c=e[a],u=t[a];if(c===u){i[a]=c,(n?l<r:ut.call(e,a))&&o++;continue}if(null===c||null===u||"object"!==typeof c||"object"!==typeof u){i[a]=u;continue}const d=dt(c,u);i[a]=d,d===c&&o++}return r===a&&o===r?e:i}function ht(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function mt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pt(e){if(!ft(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ft(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function ft(e){return"[object Object]"===Object.prototype.toString.call(e)}function vt(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?dt(e,t):t}function gt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var xt=Symbol();function bt(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==xt?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function wt(e,t){return"function"===typeof e?e(...t):!!e}function jt(e,t){He(e,t),t.add(e)}var kt=function(e){setTimeout(e,0)};var Nt,St,Ct,Et,Tt,Pt,_t=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=kt;const a=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a(()=>{e(...n)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),Rt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ot=new(Nt=new WeakMap,St=new WeakMap,Ct=new WeakMap,class extends Rt{constructor(){super(),We(this,Nt,void 0),We(this,St,void 0),We(this,Ct,void 0),$e(Ct,this,e=>{if(!Je&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ke(St,this)||this.setEventListener(Ke(Ct,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Ke(St,this))||void 0===e||e.call(this),$e(St,this,void 0))}setEventListener(e){var t;$e(Ct,this,e),null===(t=Ke(St,this))||void 0===t||t.call(this),$e(St,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){Ke(Nt,this)!==e&&($e(Nt,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof Ke(Nt,this)?Ke(Nt,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),It=new(Et=new WeakMap,Tt=new WeakMap,Pt=new WeakMap,class extends Rt{constructor(){super(),We(this,Et,!0),We(this,Tt,void 0),We(this,Pt,void 0),$e(Pt,this,e=>{if(!Je&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){Ke(Tt,this)||this.setEventListener(Ke(Pt,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Ke(Tt,this))||void 0===e||e.call(this),$e(Tt,this,void 0))}setEventListener(e){var t;$e(Pt,this,e),null===(t=Ke(Tt,this))||void 0===t||t.call(this),$e(Tt,this,e(this.setOnline.bind(this)))}setOnline(e){Ke(Et,this)!==e&&($e(Et,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Ke(Et,this)}});function At(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function Lt(e){return Math.min(1e3*2**e,3e4)}function Mt(e){return"online"!==(null!==e&&void 0!==e?e:"online")||It.isOnline()}var Dt,zt=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function Ut(e){let t,n=!1,r=0;const s=At(),a=()=>"pending"!==s.status,i=()=>Ot.isFocused()&&("always"===e.networkMode||It.isOnline())&&e.canRun(),o=()=>Mt(e.networkMode)&&e.canRun(),l=e=>{var n;a()||(null===(n=t)||void 0===n||n(),s.resolve(e))},c=e=>{var n;a()||(null===(n=t)||void 0===n||n(),s.reject(e))},u=()=>new Promise(n=>{var r;t=e=>{(a()||i())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,a())||(null===(n=e.onContinue)||void 0===n||n.call(e))}),d=()=>{if(a())return;let t;const s=0===r?e.initialPromise:void 0;try{t=null!==s&&void 0!==s?s:e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var s,o,l;if(a())return;const h=null!==(s=e.retry)&&void 0!==s?s:Je?0:3,m=null!==(o=e.retryDelay)&&void 0!==o?o:Lt,p="function"===typeof m?m(r,t):m,f=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var v;!n&&f?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(v=p,new Promise(e=>{Ge.setTimeout(e,v)})).then(()=>i()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:s,status:()=>s.status,cancel:t=>{if(!a()){var n;const r=new zt(t);c(r),null===(n=e.onCancel)||void 0===n||n.call(e,r)}},continue:()=>{var e;return null===(e=t)||void 0===e||e(),s},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),s)}}var Ft,Bt,Vt,qt,Ht,Wt,Qt,Kt,$t,Yt=(Dt=new WeakMap,class{constructor(){We(this,Dt,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tt(this.gcTime)&&$e(Dt,this,Ge.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:Je?1/0:3e5)}clearGcTimeout(){Ke(Dt,this)&&(Ge.clearTimeout(Ke(Dt,this)),$e(Dt,this,void 0))}}),Zt=(Ft=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,Qt=new WeakMap,Kt=new WeakSet,class extends Yt{constructor(e){var t;super(),jt(this,Kt),We(this,Ft,void 0),We(this,Bt,void 0),We(this,Vt,void 0),We(this,qt,void 0),We(this,Ht,void 0),We(this,Wt,void 0),We(this,Qt,void 0),$e(Qt,this,!1),$e(Wt,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],$e(qt,this,e.client),$e(Vt,this,Ke(qt,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$e(Ft,this,en(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:Ke(Ft,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=Ke(Ht,this))||void 0===e?void 0:e.promise}setOptions(e){if(this.options=qe(qe({},Ke(Wt,this)),e),this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=en(this.options);void 0!==e.data&&(this.setState(Jt(e.data,e.dataUpdatedAt)),$e(Ft,this,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Ke(Vt,this).remove(this)}setData(e,t){const n=vt(this.state.data,e,this.options);return Qe(Kt,this,Xt).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){Qe(Kt,this,Xt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=Ke(Ht,this))||void 0===t?void 0:t.promise;return null===(n=Ke(Ht,this))||void 0===n||n.cancel(e),r?r.then(et).catch(et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ke(Ft,this))}isActive(){return this.observers.some(e=>!1!==st(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===rt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!nt(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Ke(Ht,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Ke(Ht,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ke(Vt,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Ke(Ht,this)&&(Ke(Qt,this)?Ke(Ht,this).cancel({revert:!0}):Ke(Ht,this).cancelRetry()),this.scheduleGc()),Ke(Vt,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(Kt,this,Xt).call(this,{type:"invalidate"})}async fetch(e,t){var n,r,s;if("idle"!==this.state.fetchStatus&&"rejected"!==(null===(n=Ke(Ht,this))||void 0===n?void 0:n.status()))if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(Ke(Ht,this))return Ke(Ht,this).continueRetry(),Ke(Ht,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>($e(Qt,this,!0),a.signal)})},o=()=>{const e=bt(this.options,t),n=(()=>{const e={client:Ke(qt,this),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return $e(Qt,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},l=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Ke(qt,this),state:this.state,fetchFn:o};return i(e),e})();var c;(null===(r=this.options.behavior)||void 0===r||r.onFetch(l,this),$e(Bt,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(s=l.fetchOptions)||void 0===s?void 0:s.meta))&&Qe(Kt,this,Xt).call(this,{type:"fetch",meta:null===(c=l.fetchOptions)||void 0===c?void 0:c.meta});$e(Ht,this,Ut({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:l.fetchFn,onCancel:e=>{e instanceof zt&&e.revert&&this.setState(qe(qe({},Ke(Bt,this)),{},{fetchStatus:"idle"})),a.abort()},onFail:(e,t)=>{Qe(Kt,this,Xt).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Qe(Kt,this,Xt).call(this,{type:"pause"})},onContinue:()=>{Qe(Kt,this,Xt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{var u,d,h,m;const e=await Ke(Ht,this).start();if(void 0===e)throw new Error("".concat(this.queryHash," data is undefined"));return this.setData(e),null===(u=(d=Ke(Vt,this).config).onSuccess)||void 0===u||u.call(d,e,this),null===(h=(m=Ke(Vt,this).config).onSettled)||void 0===h||h.call(m,e,this.state.error,this),e}catch(y){var p,f,v,g;if(y instanceof zt){if(y.silent)return Ke(Ht,this).promise;if(y.revert){if(void 0===this.state.data)throw y;return this.state.data}}throw Qe(Kt,this,Xt).call(this,{type:"error",error:y}),null===(p=(f=Ke(Vt,this).config).onError)||void 0===p||p.call(f,y,this),null===(v=(g=Ke(Vt,this).config).onSettled)||void 0===v||v.call(g,this.state.data,y,this),y}finally{this.scheduleGc()}}});function Xt(e){this.state=(t=>{var n;switch(e.type){case"failed":return qe(qe({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return qe(qe({},t),{},{fetchStatus:"paused"});case"continue":return qe(qe({},t),{},{fetchStatus:"fetching"});case"fetch":return qe(qe(qe({},t),Gt(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":const r=qe(qe(qe({},t),Jt(e.data,e.dataUpdatedAt)),{},{dataUpdateCount:t.dataUpdateCount+1},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return $e(Bt,this,e.manual?r:void 0),r;case"error":const s=e.error;return qe(qe({},t),{},{error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"});case"invalidate":return qe(qe({},t),{},{isInvalidated:!0});case"setState":return qe(qe({},t),e.state)}})(this.state),_t.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Ke(Vt,this).notify({query:this,type:"updated",action:e})})}function Gt(e,t){return qe({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mt(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}function Jt(e,t){return{data:e,dataUpdatedAt:null!==t&&void 0!==t?t:Date.now(),error:null,isInvalidated:!1,status:"success"}}function en(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tn,nn,rn,sn,an,on,ln,cn,un=($t=new WeakMap,class extends Rt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),We(this,$t,void 0),this.config=e,$e($t,this,new Map)}build(e,t,n){var r;const s=t.queryKey,a=null!==(r=t.queryHash)&&void 0!==r?r:ot(s,t);let i=this.get(a);return i||(i=new Zt({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){Ke($t,this).has(e.queryHash)||(Ke($t,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ke($t,this).get(e.queryHash);t&&(e.destroy(),t===e&&Ke($t,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ke($t,this).get(e)}getAll(){return[...Ke($t,this).values()]}find(e){const t=qe({exact:!0},e);return this.getAll().find(e=>at(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>at(e,t)):t}notify(e){_t.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),dn=(tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,sn=new WeakMap,an=new WeakSet,class extends Yt{constructor(e){super(),jt(this,an),We(this,tn,void 0),We(this,nn,void 0),We(this,rn,void 0),We(this,sn,void 0),$e(tn,this,e.client),this.mutationId=e.mutationId,$e(rn,this,e.mutationCache),$e(nn,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ke(nn,this).includes(e)||(Ke(nn,this).push(e),this.clearGcTimeout(),Ke(rn,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$e(nn,this,Ke(nn,this).filter(t=>t!==e)),this.scheduleGc(),Ke(rn,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ke(nn,this).length||("pending"===this.state.status?this.scheduleGc():Ke(rn,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=Ke(sn,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{Qe(an,this,hn).call(this,{type:"continue"})},r={client:Ke(tn,this),meta:this.options.meta,mutationKey:this.options.mutationKey};$e(sn,this,Ut({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Qe(an,this,hn).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Qe(an,this,hn).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ke(rn,this).canRun(this)}));const s="pending"===this.state.status,a=!Ke(sn,this).canStart();try{var i,o,l,c,u,d,h,m;if(s)n();else{var p,f,v,g;Qe(an,this,hn).call(this,{type:"pending",variables:e,isPaused:a}),await(null===(p=(f=Ke(rn,this).config).onMutate)||void 0===p?void 0:p.call(f,e,this,r));const t=await(null===(v=(g=this.options).onMutate)||void 0===v?void 0:v.call(g,e,r));t!==this.state.context&&Qe(an,this,hn).call(this,{type:"pending",context:t,variables:e,isPaused:a})}const t=await Ke(sn,this).start();return await(null===(i=(o=Ke(rn,this).config).onSuccess)||void 0===i?void 0:i.call(o,t,e,this.state.context,this,r)),await(null===(l=(c=this.options).onSuccess)||void 0===l?void 0:l.call(c,t,e,this.state.context,r)),await(null===(u=(d=Ke(rn,this).config).onSettled)||void 0===u?void 0:u.call(d,t,null,this.state.variables,this.state.context,this,r)),await(null===(h=(m=this.options).onSettled)||void 0===h?void 0:h.call(m,t,null,e,this.state.context,r)),Qe(an,this,hn).call(this,{type:"success",data:t}),t}catch(C){try{var y,x,b,w,j,k,N,S;throw await(null===(y=(x=Ke(rn,this).config).onError)||void 0===y?void 0:y.call(x,C,e,this.state.context,this,r)),await(null===(b=(w=this.options).onError)||void 0===b?void 0:b.call(w,C,e,this.state.context,r)),await(null===(j=(k=Ke(rn,this).config).onSettled)||void 0===j?void 0:j.call(k,void 0,C,this.state.variables,this.state.context,this,r)),await(null===(N=(S=this.options).onSettled)||void 0===N?void 0:N.call(S,void 0,C,e,this.state.context,r)),C}finally{Qe(an,this,hn).call(this,{type:"error",error:C})}}finally{Ke(rn,this).runNext(this)}}});function hn(e){this.state=(t=>{switch(e.type){case"failed":return qe(qe({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return qe(qe({},t),{},{isPaused:!0});case"continue":return qe(qe({},t),{},{isPaused:!1});case"pending":return qe(qe({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return qe(qe({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return qe(qe({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),_t.batch(()=>{Ke(nn,this).forEach(t=>{t.onMutationUpdate(e)}),Ke(rn,this).notify({mutation:this,type:"updated",action:e})})}var mn,pn,fn,vn,gn,yn,xn,bn,wn=(on=new WeakMap,ln=new WeakMap,cn=new WeakMap,class extends Rt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),We(this,on,void 0),We(this,ln,void 0),We(this,cn,void 0),this.config=e,$e(on,this,new Set),$e(ln,this,new Map),$e(cn,this,0)}build(e,t,n){var r;const s=new dn({client:e,mutationCache:this,mutationId:$e(cn,this,(r=Ke(cn,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){Ke(on,this).add(e);const t=jn(e);if("string"===typeof t){const n=Ke(ln,this).get(t);n?n.push(e):Ke(ln,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ke(on,this).delete(e)){const t=jn(e);if("string"===typeof t){const n=Ke(ln,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Ke(ln,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=jn(e);if("string"===typeof t){const n=Ke(ln,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=jn(e);if("string"===typeof t){var n,r;const s=null===(n=Ke(ln,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===s||void 0===s?void 0:s.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){_t.batch(()=>{Ke(on,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ke(on,this).clear(),Ke(ln,this).clear()})}getAll(){return Array.from(Ke(on,this))}find(e){const t=qe({exact:!0},e);return this.getAll().find(e=>it(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>it(e,t))}notify(e){_t.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return _t.batch(()=>Promise.all(e.map(e=>e.continue().catch(et))))}});function jn(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function kn(e){return{onFetch:(t,n)=>{var r,s,a;const i=t.options,o=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(s=t.state.data)||void 0===s?void 0:s.pages)||[],c=(null===(a=t.state.data)||void 0===a?void 0:a.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let n=!1;const r=bt(t.options,t.fetchOptions),s=async(e,s,a)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),o=await r(i),{maxPages:l}=t.options,c=a?yt:gt;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,s,l)}};if(o&&l.length){const e="backward"===o,t={pages:l,pageParams:c},n=(e?Sn:Nn)(i,t);u=await s(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var a;const e=0===d?null!==(a=c[0])&&void 0!==a?a:i.initialPageParam:Nn(i,u);if(d>0&&null==e)break;u=await s(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Nn(e,t){let{pages:n,pageParams:r}=t;const s=n.length-1;return n.length>0?e.getNextPageParam(n[s],n,r[s],r):void 0}function Sn(e,t){var n;let{pages:r,pageParams:s}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,s[0],s):void 0}var Cn=(mn=new WeakMap,pn=new WeakMap,fn=new WeakMap,vn=new WeakMap,gn=new WeakMap,yn=new WeakMap,xn=new WeakMap,bn=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};We(this,mn,void 0),We(this,pn,void 0),We(this,fn,void 0),We(this,vn,void 0),We(this,gn,void 0),We(this,yn,void 0),We(this,xn,void 0),We(this,bn,void 0),$e(mn,this,e.queryCache||new un),$e(pn,this,e.mutationCache||new wn),$e(fn,this,e.defaultOptions||{}),$e(vn,this,new Map),$e(gn,this,new Map),$e(yn,this,0)}mount(){var e;$e(yn,this,(e=Ke(yn,this),e++,e)),1===Ke(yn,this)&&($e(xn,this,Ot.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ke(mn,this).onFocus())})),$e(bn,this,It.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ke(mn,this).onOnline())})))}unmount(){var e,t,n;$e(yn,this,(e=Ke(yn,this),e--,e)),0===Ke(yn,this)&&(null===(t=Ke(xn,this))||void 0===t||t.call(this),$e(xn,this,void 0),null===(n=Ke(bn,this))||void 0===n||n.call(this),$e(bn,this,void 0))}isFetching(e){return Ke(mn,this).findAll(qe(qe({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return Ke(pn,this).findAll(qe(qe({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Ke(mn,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ke(mn,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(rt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ke(mn,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Ke(mn,this).get(r.queryHash),a=function(e,t){return"function"===typeof e?e(t):e}(t,null===s||void 0===s?void 0:s.state.data);if(void 0!==a)return Ke(mn,this).build(this,r).setData(a,qe(qe({},n),{},{manual:!0}))}setQueriesData(e,t,n){return _t.batch(()=>Ke(mn,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Ke(mn,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=Ke(mn,this);_t.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=Ke(mn,this);return _t.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(qe({type:"active"},e),t)))}cancelQueries(e){const t=qe({revert:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=_t.batch(()=>Ke(mn,this).findAll(e).map(e=>e.cancel(t)));return Promise.all(n).then(et).catch(et)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _t.batch(()=>{var n,r;return Ke(mn,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries(qe(qe({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=qe(qe({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),s=_t.batch(()=>Ke(mn,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(et)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(et)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Ke(mn,this).build(this,t);return n.isStaleByTime(rt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(et).catch(et)}fetchInfiniteQuery(e){return e.behavior=kn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(et).catch(et)}ensureInfiniteQueryData(e){return e.behavior=kn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return It.isOnline()?Ke(pn,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ke(mn,this)}getMutationCache(){return Ke(pn,this)}getDefaultOptions(){return Ke(fn,this)}setDefaultOptions(e){$e(fn,this,e)}setQueryDefaults(e,t){Ke(vn,this).set(lt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ke(vn,this).values()],n={};return t.forEach(t=>{ct(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){Ke(gn,this).set(lt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ke(gn,this).values()],n={};return t.forEach(t=>{ct(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=qe(qe(qe(qe({},Ke(fn,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=ot(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xt&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:qe(qe(qe(qe({},Ke(fn,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){Ke(mn,this).clear(),Ke(pn,this).clear()}}),En=n(579),Tn=a.createContext(void 0),Pn=e=>{const t=a.useContext(Tn);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_n=e=>{let{client:t,children:n}=e;return a.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,En.jsx)(Tn.Provider,{value:t,children:n})},Rn=function(){return null};function On(e,t){return function(){return e.apply(t,arguments)}}const{toString:In}=Object.prototype,{getPrototypeOf:An}=Object,{iterator:Ln,toStringTag:Mn}=Symbol,Dn=(zn=Object.create(null),e=>{const t=In.call(e);return zn[t]||(zn[t]=t.slice(8,-1).toLowerCase())});var zn;const Un=e=>(e=e.toLowerCase(),t=>Dn(t)===e),Fn=e=>t=>typeof t===e,{isArray:Bn}=Array,Vn=Fn("undefined");function qn(e){return null!==e&&!Vn(e)&&null!==e.constructor&&!Vn(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Hn=Un("ArrayBuffer");const Wn=Fn("string"),Qn=Fn("function"),Kn=Fn("number"),$n=e=>null!==e&&"object"===typeof e,Yn=e=>{if("object"!==Dn(e))return!1;const t=An(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Mn in e)&&!(Ln in e)},Zn=Un("Date"),Xn=Un("File"),Gn=Un("Blob"),Jn=Un("FileList"),er=Un("URLSearchParams"),[tr,nr,rr,sr]=["ReadableStream","Request","Response","Headers"].map(Un);function ar(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Bn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(qn(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function ir(e,t){if(qn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const or="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,lr=e=>!Vn(e)&&e!==or;const cr=(ur="undefined"!==typeof Uint8Array&&An(Uint8Array),e=>ur&&e instanceof ur);var ur;const dr=Un("HTMLFormElement"),hr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),mr=Un("RegExp"),pr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ar(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const fr=Un("AsyncFunction"),vr=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],or.addEventListener("message",e=>{let{source:t,data:s}=e;t===or&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),or.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Qn(or.postMessage)),gr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(or):"undefined"!==typeof process&&process.nextTick||vr,yr={isArray:Bn,isArrayBuffer:Hn,isBuffer:qn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qn(e.append)&&("formdata"===(t=Dn(e))||"object"===t&&Qn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Hn(e.buffer),t},isString:Wn,isNumber:Kn,isBoolean:e=>!0===e||!1===e,isObject:$n,isPlainObject:Yn,isEmptyObject:e=>{if(!$n(e)||qn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Gi){return!1}},isReadableStream:tr,isRequest:nr,isResponse:rr,isHeaders:sr,isUndefined:Vn,isDate:Zn,isFile:Xn,isBlob:Gn,isRegExp:mr,isFunction:Qn,isStream:e=>$n(e)&&Qn(e.pipe),isURLSearchParams:er,isTypedArray:cr,isFileList:Jn,forEach:ar,merge:function e(){const{caseless:t,skipUndefined:n}=lr(this)&&this||{},r={},s=(s,a)=>{const i=t&&ir(r,a)||a;Yn(r[i])&&Yn(s)?r[i]=e(r[i],s):Yn(s)?r[i]=e({},s):Bn(s)?r[i]=s.slice():n&&Vn(s)||(r[i]=s)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ar(arguments[a],s);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ar(t,(t,r)=>{n&&Qn(t)?e[r]=On(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&An(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Dn,kindOfTest:Un,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Bn(e))return e;let t=e.length;if(!Kn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ln]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:dr,hasOwnProperty:hr,hasOwnProp:hr,reduceDescriptors:pr,freezeMethods:e=>{pr(e,(t,n)=>{if(Qn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Qn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Bn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ir,global:or,isContextDefined:lr,isSpecCompliantForm:function(e){return!!(e&&Qn(e.append)&&"FormData"===e[Mn]&&e[Ln])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if($n(e)){if(t.indexOf(e)>=0)return;if(qn(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Bn(e)?[]:{};return ar(e,(e,t)=>{const a=n(e,r+1);!Vn(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:fr,isThenable:e=>e&&($n(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch),setImmediate:vr,asap:gr,isIterable:e=>null!=e&&Qn(e[Ln])};function xr(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}yr.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yr.toJSONObject(this.config),code:this.code,status:this.status}}});const br=xr.prototype,wr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wr[e]={value:e}}),Object.defineProperties(xr,wr),Object.defineProperty(br,"isAxiosError",{value:!0}),xr.from=(e,t,n,r,s,a)=>{const i=Object.create(br);yr.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return xr.call(i,o,l,n,r,s),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const jr=xr;function kr(e){return yr.isPlainObject(e)||yr.isArray(e)}function Nr(e){return yr.endsWith(e,"[]")?e.slice(0,-2):e}function Sr(e,t,n){return e?e.concat(t).map(function(e,t){return e=Nr(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Cr=yr.toFlatObject(yr,{},null,function(e){return/^is[A-Z]/.test(e)});const Er=function(e,t,n){if(!yr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=yr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yr.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yr.isSpecCompliantForm(t);if(!yr.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(yr.isDate(e))return e.toISOString();if(yr.isBoolean(e))return e.toString();if(!o&&yr.isBlob(e))throw new jr("Blob is not supported. Use a Buffer instead.");return yr.isArrayBuffer(e)||yr.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(yr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(yr.isArray(e)&&function(e){return yr.isArray(e)&&!e.some(kr)}(e)||(yr.isFileList(e)||yr.endsWith(n,"[]"))&&(o=yr.toArray(e)))return n=Nr(n),o.forEach(function(e,r){!yr.isUndefined(e)&&null!==e&&t.append(!0===i?Sr([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!kr(e)||(t.append(Sr(s,n,a),l(e)),!1)}const u=[],d=Object.assign(Cr,{defaultVisitor:c,convertValue:l,isVisitable:kr});if(!yr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!yr.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),yr.forEach(n,function(n,a){!0===(!(yr.isUndefined(n)||null===n)&&s.call(t,n,yr.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function Tr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Pr(e,t){this._pairs=[],e&&Er(e,this,t)}const _r=Pr.prototype;_r.append=function(e,t){this._pairs.push([e,t])},_r.toString=function(e){const t=e?function(t){return e.call(this,t,Tr)}:Tr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Rr=Pr;function Or(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ir(e,t,n){if(!t)return e;const r=n&&n.encode||Or;yr.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):yr.isURLSearchParams(t)?t.toString():new Rr(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ar=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yr.forEach(this.handlers,function(t){null!==t&&e(t)})}},Lr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Rr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Dr="undefined"!==typeof window&&"undefined"!==typeof document,zr="object"===typeof navigator&&navigator||void 0,Ur=Dr&&(!zr||["ReactNative","NativeScript","NS"].indexOf(zr.product)<0),Fr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Br=Dr&&window.location.href||"http://localhost",Vr=qe(qe({},r),Mr);const qr=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&yr.isArray(r)?r.length:a,o)return yr.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&yr.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&yr.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(yr.isFormData(e)&&yr.isFunction(e.entries)){const n={};return yr.forEachEntry(e,(e,r)=>{t(function(e){return yr.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Hr={transitional:Lr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=yr.isObject(e);s&&yr.isHTMLForm(e)&&(e=new FormData(e));if(yr.isFormData(e))return r?JSON.stringify(qr(e)):e;if(yr.isArrayBuffer(e)||yr.isBuffer(e)||yr.isStream(e)||yr.isFile(e)||yr.isBlob(e)||yr.isReadableStream(e))return e;if(yr.isArrayBufferView(e))return e.buffer;if(yr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Er(e,new Vr.classes.URLSearchParams,qe({visitor:function(e,t,n,r){return Vr.isNode&&yr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=yr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Er(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(yr.isString(e))try{return(t||JSON.parse)(e),yr.trim(e)}catch(Gi){if("SyntaxError"!==Gi.name)throw Gi}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Hr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(yr.isResponse(e)||yr.isReadableStream(e))return e;if(e&&yr.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Gi){if(n){if("SyntaxError"===Gi.name)throw jr.from(Gi,jr.ERR_BAD_RESPONSE,this,null,this.response);throw Gi}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yr.forEach(["delete","get","head","post","put","patch"],e=>{Hr.headers[e]={}});const Wr=Hr,Qr=yr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kr=Symbol("internals");function $r(e){return e&&String(e).trim().toLowerCase()}function Yr(e){return!1===e||null==e?e:yr.isArray(e)?e.map(Yr):String(e)}function Zr(e,t,n,r,s){return yr.isFunction(r)?r.call(this,t,n):(s&&(t=n),yr.isString(t)?yr.isString(r)?-1!==t.indexOf(r):yr.isRegExp(r)?r.test(t):void 0:void 0)}class Xr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=$r(t);if(!s)throw new Error("header name must be a non-empty string");const a=yr.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Yr(e))}const a=(e,t)=>yr.forEach(e,(e,n)=>s(e,n,t));if(yr.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(yr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Qr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(yr.isObject(e)&&yr.isIterable(e)){let n,r,s={};for(const t of e){if(!yr.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?yr.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=$r(e)){const n=yr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(yr.isFunction(t))return t.call(this,e,n);if(yr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$r(e)){const n=yr.findKey(this,e);return!(!n||void 0===this[n]||t&&!Zr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=$r(e)){const s=yr.findKey(n,e);!s||t&&!Zr(0,n[s],s,t)||(delete n[s],r=!0)}}return yr.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Zr(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return yr.forEach(this,(r,s)=>{const a=yr.findKey(n,s);if(a)return t[a]=Yr(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=Yr(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yr.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&yr.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Kr]=this[Kr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=$r(e);t[r]||(!function(e,t){const n=yr.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return yr.isArray(e)?e.forEach(r):r(e),this}}Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yr.reduceDescriptors(Xr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),yr.freezeMethods(Xr);const Gr=Xr;function Jr(e,t){const n=this||Wr,r=t||n,s=Gr.from(r.headers);let a=r.data;return yr.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function es(e){return!(!e||!e.__CANCEL__)}function ts(e,t,n){jr.call(this,null==e?"canceled":e,jr.ERR_CANCELED,t,n),this.name="CanceledError"}yr.inherits(ts,jr,{__CANCEL__:!0});const ns=ts;function rs(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jr("Request failed with status code "+n.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ss=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];s||(s=l),n[a]=o,r[a]=l;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const as=function(e,t){let n,r,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},a-t)))},()=>n&&i(n)]},is=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=ss(50,250);return as(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},os=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ls=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yr.asap(()=>e(...n))},cs=Vr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vr.origin),Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent)):()=>!0,us=Vr.hasStandardBrowserEnv?{write(e,t,n,r,s,a,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];yr.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),yr.isString(r)&&o.push("path=".concat(r)),yr.isString(s)&&o.push("domain=".concat(s)),!0===a&&o.push("secure"),yr.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function ds(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const hs=e=>e instanceof Gr?qe({},e):e;function ms(e,t){t=t||{};const n={};function r(e,t,n,r){return yr.isPlainObject(e)&&yr.isPlainObject(t)?yr.merge.call({caseless:r},e,t):yr.isPlainObject(t)?yr.merge({},t):yr.isArray(t)?t.slice():t}function s(e,t,n,s){return yr.isUndefined(t)?yr.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!yr.isUndefined(t))return r(void 0,t)}function i(e,t){return yr.isUndefined(t)?yr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(hs(e),hs(t),0,!0)};return yr.forEach(Object.keys(qe(qe({},e),t)),function(r){const a=l[r]||s,i=a(e[r],t[r],r);yr.isUndefined(i)&&a!==o||(n[r]=i)}),n}const ps=e=>{const t=ms({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=Gr.from(i),t.url=Ir(ds(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yr.isFormData(n))if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(yr.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(Vr.hasStandardBrowserEnv&&(r&&yr.isFunction(r)&&(r=r(t)),r||!1!==r&&cs(t.url))){const e=s&&a&&us.read(a);e&&i.set(s,e)}return t},fs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=ps(e);let s=r.data;const a=Gr.from(r.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:m}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function v(){if(!f)return;const r=Gr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());rs(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(new jr("Request aborted",jr.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new jr(r,jr.ERR_NETWORK,e,f);s.event=t||null,n(s),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Lr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new jr(t,s.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,e,f)),f=null},void 0===s&&a.setContentType(null),"setRequestHeader"in f&&yr.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),yr.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),m&&([l,u]=is(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=is(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new ns(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Vr.protocols.indexOf(g)?n(new jr("Unsupported protocol "+g+":",jr.ERR_BAD_REQUEST,e)):f.send(s||null)})},vs=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof jr?t:new ns(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new jr("timeout ".concat(t," of ms exceeded"),jr.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>yr.asap(i),o}};function gs(e,t){this.v=e,this.k=t}function ys(e){return function(){return new xs(e.apply(this,arguments))}}function xs(e){var t,n;function r(t,n){try{var a=e[t](n),i=a.value,o=i instanceof gs;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function bs(e){return new gs(e,0)}function ws(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new gs(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function js(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new ks(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function ks(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return ks=function(e){this.s=e,this.n=e.next},ks.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new ks(e)}xs.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},xs.prototype.next=function(e){return this._invoke("next",e)},xs.prototype.throw=function(e){return this._invoke("throw",e)},xs.prototype.return=function(e){return this._invoke("return",e)};const Ns=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Ss=function(){var e=ys(function*(e,t){var n,r=!1,s=!1;try{for(var a,i=js(Cs(e));r=!(a=yield bs(i.next())).done;r=!1){const e=a.value;yield*ws(js(Ns(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=i.return&&(yield bs(i.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Cs=function(){var e=ys(function*(e){if(e[Symbol.asyncIterator])return void(yield*ws(js(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield bs(t.read());if(e)break;yield n}}finally{yield bs(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Es=(e,t,n,r)=>{const s=Ss(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Ts}=yr,Ps=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(yr.global),{ReadableStream:_s,TextEncoder:Rs}=yr.global,Os=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Gi){return!1}},Is=e=>{e=yr.merge.call({skipUndefined:!0},Ps,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ts(t):"function"===typeof fetch,a=Ts(n),i=Ts(r);if(!s)return!1;const o=s&&Ts(_s),l=s&&("function"===typeof Rs?(c=new Rs,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=a&&o&&Os(()=>{let e=!1;const t=new n(Vr.origin,{body:new _s,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&o&&Os(()=>yr.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new jr("Response type '".concat(e,"' is not supported"),jr.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=yr.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(yr.isBlob(e))return e.size;if(yr.isSpecCompliantForm(e)){const t=new n(Vr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yr.isArrayBufferView(e)||yr.isArrayBuffer(e)?e.byteLength:(yr.isURLSearchParams(e)&&(e+=""),yr.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:i,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:f,onUploadProgress:v,responseType:g,headers:y,withCredentials:x="same-origin",fetchOptions:b}=ps(e),w=t||fetch;g=g?(g+"").toLowerCase():"text";let j=vs([l,c&&c.toAbortSignal()],p),k=null;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(v&&u&&"get"!==i&&"head"!==i&&0!==(S=await m(y,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(yr.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=os(S,is(ls(v)));o=Es(t.body,65536,e,n)}}yr.isString(x)||(x=x?"include":"omit");const t=a&&"credentials"in n.prototype,l=qe(qe({},b),{},{signal:j,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?x:void 0});k=a&&new n(s,l);let c=await(a?w(k,b):w(s,l));const p=d&&("stream"===g||"response"===g);if(d&&(f||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=yr.toFiniteNumber(c.headers.get("content-length")),[n,s]=f&&os(t,is(ls(f),!0))||[];c=new r(Es(c.body,65536,n,()=>{s&&s(),N&&N()}),e)}g=g||"text";let C=await h[yr.findKey(h,g)||"text"](c,e);return!p&&N&&N(),await new Promise((t,n)=>{rs(t,n,{data:C,headers:Gr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(N&&N(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new jr("Network Error",jr.ERR_NETWORK,e,k),{cause:C.cause||C});throw jr.from(C,C&&C.code,e,k)}}},As=new Map,Ls=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i,o,l=a.length,c=As;for(;l--;)i=a[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:Is(t)),c=o;return o},Ms=(Ls(),{http:null,xhr:fs,fetch:{get:Ls}});yr.forEach(Ms,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Gi){}Object.defineProperty(e,"adapterName",{value:t})}});const Ds=e=>"- ".concat(e),zs=e=>yr.isFunction(e)||null===e||!1===e;const Us={getAdapter:function(e,t){e=yr.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){let n;if(r=e[i],s=r,!zs(r)&&(s=Ms[(n=String(r)).toLowerCase()],void 0===s))throw new jr("Unknown adapter '".concat(n,"'"));if(s&&(yr.isFunction(s)||(s=s.get(t))))break;a[n||"#"+i]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Ds).join("\n"):" "+Ds(e[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:Ms};function Fs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ns(null,e)}function Bs(e){Fs(e),e.headers=Gr.from(e.headers),e.data=Jr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Us.getAdapter(e.adapter||Wr.adapter,e)(e).then(function(t){return Fs(e),t.data=Jr.call(e,e.transformResponse,t),t.headers=Gr.from(t.headers),t},function(t){return es(t)||(Fs(e),t&&t.response&&(t.response.data=Jr.call(e,e.transformResponse,t.response),t.response.headers=Gr.from(t.response.headers))),Promise.reject(t)})}const Vs="1.13.2",qs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qs[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Hs={};qs.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Vs+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new jr(r(s," has been removed"+(t?" in "+t:"")),jr.ERR_DEPRECATED);return t&&!Hs[s]&&(Hs[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},qs.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Ws={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new jr("option "+a+" must be "+n,jr.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new jr("Unknown option "+a,jr.ERR_BAD_OPTION)}},validators:qs},Qs=Ws.validators;class Ks{constructor(e){this.defaults=e||{},this.interceptors={request:new Ar,response:new Ar}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Gi){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ms(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Ws.assertOptions(n,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),null!=r&&(yr.isFunction(r)?t.paramsSerializer={serialize:r}:Ws.assertOptions(r,{encode:Qs.function,serialize:Qs.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ws.assertOptions(t,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&yr.merge(s.common,s[t.method]);s&&yr.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Gr.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Bs.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Bs.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ir(ds((e=ms(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yr.forEach(["delete","get","head","options"],function(e){Ks.prototype[e]=function(t,n){return this.request(ms(n||{},{method:e,url:t,data:(n||{}).data}))}}),yr.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(ms(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ks.prototype[e]=t(),Ks.prototype[e+"Form"]=t(!0)});const $s=Ks;class Ys{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new ns(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ys(function(t){e=t}),cancel:e}}}const Zs=Ys;const Xs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xs).forEach(e=>{let[t,n]=e;Xs[n]=t});const Gs=Xs;const Js=function e(t){const n=new $s(t),r=On($s.prototype.request,n);return yr.extend(r,$s.prototype,n,{allOwnKeys:!0}),yr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ms(t,n))},r}(Wr);Js.Axios=$s,Js.CanceledError=ns,Js.CancelToken=Zs,Js.isCancel=es,Js.VERSION=Vs,Js.toFormData=Er,Js.AxiosError=jr,Js.Cancel=Js.CanceledError,Js.all=function(e){return Promise.all(e)},Js.spread=function(e){return function(t){return e.apply(null,t)}},Js.isAxiosError=function(e){return yr.isObject(e)&&!0===e.isAxiosError},Js.mergeConfig=ms,Js.AxiosHeaders=Gr,Js.formToJSON=e=>qr(yr.isHTMLForm(e)?new FormData(e):e),Js.getAdapter=Us.getAdapter,Js.HttpStatusCode=Gs,Js.default=Js;const ea=Js.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5002/api",timeout:3e4,headers:{"Content-Type":"application/json","X-Client-Version":{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"},withCredentials:!0});let ta=0;ea.interceptors.request.use(e=>{const t=++ta,n=ra(),r=localStorage.getItem("token")||sessionStorage.getItem("token")||sa("auth_token");r&&!e.headers.Authorization&&(e.headers.Authorization="Bearer ".concat(r)),e.headers["X-Request-ID"]=na(),e.headers["X-Trace-ID"]=n,e.headers["X-Client-Request-ID"]="client_".concat(t,"_").concat(Date.now());const s=sa("csrf_token")||localStorage.getItem("csrf_token");var a;(s&&(e.headers["X-CSRF-Token"]=s),localStorage.getItem("debug_requests"))&&console.log("[API Request ".concat(t,"]"),{method:null===(a=e.method)||void 0===a?void 0:a.toUpperCase(),url:e.url,traceId:n,timestamp:(new Date).toISOString()});return e},e=>(console.error("[API Request Config Error]",e),Promise.reject(aa(e,"REQUEST_CONFIG_ERROR")))),ea.interceptors.response.use(e=>{if(localStorage.getItem("debug_responses")&&console.log("[API Response ".concat(e.config.headers["X-Client-Request-ID"],"]"),{status:e.status,url:e.config.url,timestamp:(new Date).toISOString()}),e.headers["x-new-token"]){const t=e.headers["x-new-token"];localStorage.setItem("token",t)}return e},e=>{var t,n,r,s;const a=(null===(t=e.config)||void 0===t||null===(n=t.headers)||void 0===n?void 0:n["X-Client-Request-ID"])||"unknown",i=(null===(r=e.config)||void 0===r||null===(s=r.headers)||void 0===s?void 0:s["X-Trace-ID"])||"unknown";if(ia(e,a,i),!e.response){const t=aa(e,"NETWORK_ERROR","Unable to connect to server. Please check your internet connection.");return Promise.reject(t)}const{status:o,data:l,headers:c}=e.response;switch(o){case 400:return Promise.reject(oa(e,l));case 401:return la(e);case 403:return Promise.reject(aa(e,"FORBIDDEN","You do not have permission to access this resource."));case 404:return Promise.reject(aa(e,"NOT_FOUND","The requested resource was not found."));case 408:return Promise.reject(aa(e,"TIMEOUT_ERROR","Request timeout. Please try again."));case 429:return ca(e,c);case 500:case 502:case 503:case 504:return Promise.reject(ua(e,o));default:return Promise.reject(aa(e,"UNKNOWN_ERROR","An unexpected error occurred. Please try again later."))}});const na=()=>"req_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),ra=()=>"trace_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),sa=e=>{const t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():null},aa=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{code:t,message:n||e.message,originalError:e,timestamp:(new Date).toISOString(),userFriendly:!!n}},ia=(e,t,n)=>{var r,s,a,i;(new Date).toISOString(),e.message,e.stack,null===(r=e.response)||void 0===r||r.data,null===(s=e.response)||void 0===s||s.status,null===(a=e.config)||void 0===a||a.url,null===(i=e.config)||void 0===i||i.method},oa=(e,t)=>{const n=(null===t||void 0===t?void 0:t.errors)||(null===t||void 0===t?void 0:t.validation)||{},r=(null===t||void 0===t?void 0:t.message)||"Invalid request data";return qe(qe({},aa(e,"VALIDATION_ERROR",r)),{},{validationErrors:n,fieldErrors:(null===t||void 0===t?void 0:t.fieldErrors)||{}})},la=async e=>{const t=e.config,n=localStorage.getItem("token")||sessionStorage.getItem("token");if(t._retry||!n)return localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(sessionStorage.setItem("redirectAfterLogin",window.location.pathname),window.location.href="/login?session=expired"),Promise.reject(aa(e,"AUTH_REQUIRED","Your session has expired. Please log in again."));try{t._retry=!0;const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token available");const n=await ea.post("/auth/refresh",{refreshToken:e}),{token:r,refreshToken:s}=n.data;return localStorage.setItem("token",r),localStorage.setItem("refreshToken",s),t.headers.Authorization="Bearer ".concat(r),ea(t)}catch(r){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login?session=invalid"),Promise.reject(aa(r,"REFRESH_FAILED","Unable to refresh session. Please log in again."))}},ca=(e,t)=>{const n=t["retry-after"]||t["x-ratelimit-reset"],r=t["x-ratelimit-remaining"],s=t["x-ratelimit-limit"],a={retryAfter:n?parseInt(n):null,remaining:r?parseInt(r):null,limit:s?parseInt(s):null,resetTime:n?new Date(Date.now()+1e3*n):null};return Promise.reject(qe(qe({},aa(e,"RATE_LIMITED","Too many requests. Please slow down.")),{},{rateLimitInfo:a}))},ua=(e,t)=>aa(e,"SERVER_ERROR_".concat(t),{500:"Internal server error. Our team has been notified.",502:"Bad gateway. Please try again in a few moments.",503:"Service temporarily unavailable. We are performing maintenance.",504:"Gateway timeout. The server is taking too long to respond."}[t]||"Server error. Please try again later.");"undefined"!==typeof window&&window.addEventListener("unhandledrejection",e=>{var t;null!==(t=e.reason)&&void 0!==t&&t.isAxiosError&&console.error("[Unhandled API Error]",e.reason)});const da=ea;const ha=new class{constructor(){this.events=[],this.maxEvents=100}log(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=qe(qe({id:crypto.randomUUID(),timestamp:(new Date).toISOString(),type:e},t),{},{userAgent:navigator.userAgent,url:window.location.href});this.events.unshift(n),this.events.length>this.maxEvents&&this.events.pop(),this.persistEvents(),this.sendToMonitoring(n)}persistEvents(){try{localStorage.setItem("auth_security_events",JSON.stringify(this.events))}catch(Gi){}}sendToMonitoring(e){console.log("[Security Monitor]",e)}getEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.events.slice(0,e)}clearEvents(){this.events=[],localStorage.removeItem("auth_security_events")}};const ma=new class{constructor(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,this.isRefreshing=!1,this.refreshQueue=[]}async getAccessToken(){if(this.accessToken&&this.tokenExpiry){this.tokenExpiry-Date.now()<3e5&&await this.refreshAccessToken()}return this.accessToken}async refreshAccessToken(){if(this.isRefreshing)return new Promise((e,t)=>{this.refreshQueue.push({resolve:e,reject:t})});this.isRefreshing=!0;try{const e=await da.post("/auth/refresh",{},{withCredentials:!0}),{accessToken:t}=e.data;return t&&(this.setTokens(t,this.refreshToken),this.refreshQueue.forEach(e=>{let{resolve:n}=e;return n(t)})),t}catch(e){throw this.refreshQueue.forEach(t=>{let{reject:n}=t;return n(e)}),e}finally{this.isRefreshing=!1,this.refreshQueue=[]}}setTokens(e,t){this.accessToken=e,this.refreshToken=t,this.tokenExpiry=Date.now()+9e5,sessionStorage.setItem("token_refresh_time",Date.now().toString())}clearTokens(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,sessionStorage.removeItem("token_refresh_time")}};da.interceptors.request.use(async e=>{if(e.url.includes("/auth/")&&!e.url.includes("/auth/logout"))return e;const t=await ma.getAccessToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers["X-Request-ID"]=crypto.randomUUID(),e.metadata={startTime:Date.now(),url:e.url,method:e.method},e},e=>{var t;return ha.log("request_interceptor_error",{error:e.message,url:null===(t=e.config)||void 0===t?void 0:t.url}),Promise.reject(e)}),da.interceptors.response.use(e=>{var t;const{config:n,data:r}=e,s=Date.now()-((null===(t=n.metadata)||void 0===t?void 0:t.startTime)||Date.now());var a;(n.url.includes("/auth/")&&ha.log("auth_request_success",{endpoint:n.url,method:n.method,duration:"".concat(s,"ms"),status:e.status}),n.url.includes("/auth/login")||n.url.includes("/auth/register"))&&(null!==(a=r.data)&&void 0!==a&&a.accessToken&&ma.setTokens(r.data.accessToken,r.data.refreshToken));return e},async e=>{var t;const{config:n,response:r}=e,s=n;if(null!==n&&void 0!==n&&null!==(t=n.url)&&void 0!==t&&t.includes("/auth/")&&ha.log("auth_request_failed",{endpoint:n.url,method:n.method,status:null===r||void 0===r?void 0:r.status,error:e.message,retryCount:s._retryCount||0}),401===(null===r||void 0===r?void 0:r.status)&&!s._retry){s._retry=!0;try{return await ma.refreshAccessToken(),da(s)}catch(a){return ma.clearTokens(),window.location.href="/login?session=expired",Promise.reject(a)}}if(429===(null===r||void 0===r?void 0:r.status)){const e=r.headers["retry-after"]||60;return ha.log("rate_limited",{endpoint:n.url,retryAfter:e,timestamp:(new Date).toISOString()}),new Promise(t=>{setTimeout(()=>{t(da(s))},1e3*e)})}return!r&&s._retryCount<3?(s._retryCount=(s._retryCount||0)+1,new Promise(e=>{setTimeout(()=>{e(da(s))},1e3*Math.pow(2,s._retryCount-1))})):Promise.reject(e)});const pa=new class{constructor(){this.isOnline=navigator.onLine,this.listeners=[],window.addEventListener("online",()=>this.handleOnline()),window.addEventListener("offline",()=>this.handleOffline()),setInterval(()=>this.checkConnectivity(),3e4)}handleOnline(){this.isOnline=!0,ha.log("network_online"),this.notifyListeners(!0)}handleOffline(){this.isOnline=!1,ha.log("network_offline"),this.notifyListeners(!1)}checkConnectivity(){const e=this.isOnline;this.isOnline=navigator.onLine,e!==this.isOnline&&(ha.log(this.isOnline?"network_restored":"network_lost"),this.notifyListeners(this.isOnline))}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t(e))}isConnected(){return this.isOnline}},fa={register:async e=>{try{var t,n,r,s,a;ha.log("registration_attempt",{email:e.email,role:e.role,hasStudentId:!!e.studentId}),console.log("\ud83d\udd0d Received registration data:",e);const o=["username","email","password","role"].filter(t=>!e[t]);if(o.length>0)throw new Error("Missing required fields: ".concat(o.join(", ")));const l={username:e.username.trim(),email:e.email.toLowerCase().trim(),password:e.password,role:e.role,firstName:null===(t=e.firstName)||void 0===t?void 0:t.trim(),lastName:null===(n=e.lastName)||void 0===n?void 0:n.trim(),phone:e.phone,metadata:{registrationSource:"web",userAgent:navigator.userAgent,screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,isPersonalEmail:e.isPersonalEmail||!1}};if("student"===e.role){if(!e.department)throw new Error("Department is required for student accounts");var i;l.academicInfo={studentId:null===(i=e.studentId)||void 0===i?void 0:i.trim().toUpperCase(),department:e.department.trim(),campus:e.campus||"BU",yearOfEntry:e.yearOfEntry||(new Date).getFullYear(),semester:e.semester||1,academicStatus:"active"}}else{if(!e.department)throw new Error("Department is required for staff/technician/admin accounts");{const t=e.department.toUpperCase();l.professionalInfo={department:t,employmentType:"FULL_TIME"},e.employeeId&&(l.professionalInfo.employeeId=e.employeeId.trim().toUpperCase())}}e.studentId&&"student"===e.role&&(l.studentId=e.studentId.trim().toUpperCase()),console.log("\ud83d\udd0d Final registration payload:",JSON.stringify(l,null,2));const c=await da.post("/auth/register",l);if(console.log("\ud83d\udd0d Registration response:",c.data),!c.data.success)throw console.error("\u274c Backend returned success: false",c.data),new Error(c.data.message||"Registration failed");const{data:u}=c.data;return ha.log("registration_success",{userId:null===(r=u.user)||void 0===r?void 0:r.id,email:null===(s=u.user)||void 0===s?void 0:s.email,role:null===(a=u.user)||void 0===a?void 0:a.role,requiresEmailVerification:u.requiresEmailVerification}),{success:!0,message:c.data.message,data:{user:u.user,accessToken:u.accessToken,requiresEmailVerification:u.requiresEmailVerification}}}catch(h){var o,l,c,u,d;console.error("\ud83d\udd25 REGISTRATION API ERROR DETAILS:"),console.error("\ud83d\udd25 Error:",h.message),console.error("\ud83d\udd25 Error response:",null===(o=h.response)||void 0===o?void 0:o.data),console.error("\ud83d\udd25 Error status:",null===(l=h.response)||void 0===l?void 0:l.status),ha.log("registration_failed",{email:null===e||void 0===e?void 0:e.email,role:null===e||void 0===e?void 0:e.role,error:h.message,response:null===(c=h.response)||void 0===c?void 0:c.data,status:null===(u=h.response)||void 0===u?void 0:u.status});let t="Registration failed. Please try again.";if(null!==(d=h.response)&&void 0!==d&&d.data){const{message:e,code:n,errors:r}=h.response.data;console.error("\ud83d\udd25 Backend error details:",{message:e,code:n,errors:r}),"EMAIL_EXISTS"===n?t="An account with this email already exists.":"USERNAME_EXISTS"===n?t="This username is already taken.":"STUDENT_ID_EXISTS"===n?t="This student ID is already registered.":"EMPLOYEE_ID_EXISTS"===n?t="This employee ID is already registered.":"VALIDATION_ERROR"===n&&null!==r&&void 0!==r&&r.length?t=r.map(e=>e.message||e.msg).join(". "):e&&(t=e)}else h.message.includes("Network Error")?t="Cannot connect to server. Please check your internet connection.":h.request&&(console.error("\ud83d\udd25 No response received:",h.request),t="No response from server. Please try again.");throw new Error(t)}},login:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r,s,a;if(ha.log("login_attempt",{email:e,rememberMe:n}),!e||!t)throw new Error("Email and password are required");const i=await da.post("/auth/login",{email:e.toLowerCase().trim(),password:t.trim(),rememberMe:n});if(!i.data.success)throw new Error(i.data.message||"Login failed");const{data:o}=i.data;return ha.log("login_success",{userId:null===(r=o.user)||void 0===r?void 0:r.id,email:null===(s=o.user)||void 0===s?void 0:s.email,role:null===(a=o.user)||void 0===a?void 0:a.role,requiresEmailVerification:o.requiresEmailVerification}),{success:!0,message:i.data.message,data:{user:o.user,accessToken:o.accessToken,refreshToken:o.refreshToken,requiresEmailVerification:o.requiresEmailVerification}}}catch(u){var i,o,l,c;ha.log("login_failed",{email:e,error:u.message,status:null===(i=u.response)||void 0===i?void 0:i.status,code:null===(o=u.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.code});let t="Login failed. Please check your credentials.";if(null!==(c=u.response)&&void 0!==c&&c.data){const{message:e,code:n,attemptsLeft:r,locked:s}=u.response.data;"ACCOUNT_LOCKED"===n?t="Account is locked. Try again in ".concat(u.response.data.lockDuration," minutes."):"ACCOUNT_INACTIVE"===n?t="Account is deactivated. Please contact support.":"INVALID_CREDENTIALS"===n?r>0?t="Invalid credentials. ".concat(r," attempts remaining."):s&&(t="Account locked due to too many failed attempts."):e&&(t=e)}else u.message.includes("Network Error")&&(t="Cannot connect to server. Please check your internet connection.");throw new Error(t)}},logout:async()=>{try{return ha.log("logout_attempt"),await da.post("/auth/logout",{},{withCredentials:!0}),ma.clearTokens(),sessionStorage.clear(),localStorage.removeItem("user_data"),ha.log("logout_success"),{success:!0,message:"Logged out successfully"}}catch(e){return ha.log("logout_failed",{error:e.message}),ma.clearTokens(),sessionStorage.clear(),localStorage.removeItem("user_data"),{success:!0,message:"Logged out locally"}}},getCurrentUser:async()=>{try{const e=await da.get("/auth/me",{withCredentials:!0});if(!e.data.success)throw new Error(e.data.message||"Failed to get user data");return{success:!0,data:e.data.data.user}}catch(t){var e;if(ha.log("get_current_user_failed",{error:t.message}),401===(null===(e=t.response)||void 0===e?void 0:e.status))throw ma.clearTokens(),new Error("Session expired. Please login again.");throw new Error("Failed to get user data")}},updateProfile:async e=>{try{ha.log("profile_update_attempt",{fields:Object.keys(e)});const t=await da.put("/auth/me",e,{withCredentials:!0});if(!t.data.success)throw new Error(t.data.message||"Update failed");return ha.log("profile_update_success",{fields:Object.keys(e)}),{success:!0,message:t.data.message,data:t.data.data.user}}catch(s){var t,n,r;ha.log("profile_update_failed",{error:s.message,fields:Object.keys(e)});let a="Failed to update profile.";throw null!==(t=s.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(r=n.errors)&&void 0!==r&&r.length&&(a=s.response.data.errors.map(e=>e.message).join(". ")),new Error(a)}},changePassword:async(e,t)=>{try{if(ha.log("password_change_attempt"),t.length<8)throw new Error("Password must be at least 8 characters");const n=await da.post("/auth/change-password",{currentPassword:e.trim(),newPassword:t.trim()},{withCredentials:!0});if(!n.data.success)throw new Error(n.data.message||"Password change failed");return ha.log("password_change_success"),{success:!0,message:n.data.message}}catch(s){var n,r;throw ha.log("password_change_failed",{error:s.message}),new Error((null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to change password")}},forgotPassword:async e=>{try{ha.log("password_reset_request",{email:e});const t=await da.post("/auth/forgot-password",{email:e.toLowerCase().trim()});if(!t.data.success)throw new Error(t.data.message||"Request failed");return ha.log("password_reset_request_success",{email:e}),{success:!0,message:t.data.message}}catch(t){return ha.log("password_reset_request_failed",{email:e,error:t.message}),{success:!0,message:"If an account exists with this email, you will receive reset instructions."}}},resetPassword:async(e,t,n)=>{try{if(ha.log("password_reset_attempt",{token:e.substring(0,10)+"...",userId:t}),n.length<8)throw new Error("Password must be at least 8 characters");const r=await da.post("/auth/reset-password",{token:e.trim(),userId:t.trim(),password:n.trim()});if(!r.data.success)throw new Error(r.data.message||"Password reset failed");return ha.log("password_reset_success",{userId:t}),{success:!0,message:r.data.message}}catch(a){var r,s;throw ha.log("password_reset_failed",{userId:t,error:a.message}),new Error((null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to reset password")}},verifyEmail:async e=>{try{ha.log("email_verification_attempt",{token:e.substring(0,10)+"..."});const t=await da.get("/auth/verify-email/".concat(e.trim()));if(!t.data.success)throw new Error(t.data.message||"Verification failed");return ha.log("email_verification_success"),{success:!0,message:t.data.message}}catch(r){var t,n;throw ha.log("email_verification_failed",{error:r.message}),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to verify email")}},resendVerification:async()=>{try{ha.log("verification_resend_attempt");const e=await da.post("/auth/resend-verification",{},{withCredentials:!0});if(!e.data.success)throw new Error(e.data.message||"Failed to resend verification");return ha.log("verification_resend_success"),{success:!0,message:e.data.message}}catch(n){var e,t;throw ha.log("verification_resend_failed",{error:n.message}),new Error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to resend verification")}},checkEmail:async e=>{try{return{success:!0,data:(await da.post("/auth/check-email",{email:e.toLowerCase().trim()})).data.data}}catch(t){throw ha.log("check_email_failed",{email:e,error:t.message}),new Error("Failed to check email availability")}},checkUsername:async e=>{try{return{success:!0,data:(await da.post("/auth/check-username",{username:e.trim()})).data.data}}catch(t){throw ha.log("check_username_failed",{username:e,error:t.message}),new Error("Failed to check username availability")}},getAuthStats:async()=>{try{const e=await da.get("/auth/stats",{withCredentials:!0});if(!e.data.success)throw new Error(e.data.message||"Failed to get stats");return{success:!0,data:e.data.data}}catch(e){throw ha.log("get_auth_stats_failed",{error:e.message}),new Error("Failed to get authentication statistics")}},getSecurityEvents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return ha.getEvents(e)},clearSecurityEvents:()=>{ha.clearEvents()},isAuthenticated:async()=>{try{return await(void 0).getCurrentUser(),!0}catch(e){return!1}},isOnline:()=>pa.isConnected(),onNetworkChange:e=>{pa.addListener(e)}},va=fa,ga=(0,a.createContext)(),ya=()=>{const e=(0,a.useContext)(ga);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xa=e=>{if(!e||"object"!==typeof e)return!1;const t=["_id","email","role"];for(const n of t)if(!e[n])return console.warn("Invalid user data: Missing ".concat(n)),!1;if(!["admin","technician","staff","student"].includes(e.role))return console.warn('Invalid user data: Invalid role "'.concat(e.role,'"')),!1;return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(console.warn('Invalid user data: Invalid email "'.concat(e.email,'"')),!1)},ba=e=>{if(!e)return null;const t=qe({},e);return delete t.password,delete t.tempPassword,delete t.resetToken,delete t.verificationToken,delete t.__v,t.role&&(t.role=t.role.toLowerCase()),t},wa=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(null),f=(0,a.useRef)(null),v=(0,a.useRef)(null),g=(0,a.useRef)(!1),y=(0,a.useRef)([]),x=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{try{const t=JSON.parse(localStorage.getItem("security_events")||"[]");t.push(e),t.length>50&&t.shift(),localStorage.setItem("security_events",JSON.stringify(t))}catch(Gi){}})(qe(qe({timestamp:(new Date).toISOString(),event:e,userId:null===n||void 0===n?void 0:n._id,userRole:null===n||void 0===n?void 0:n.role},t),{},{userAgent:navigator.userAgent,ip:"client-ip"}))},[n]),b=(0,a.useCallback)(()=>{h(null)},[]),w=(0,a.useCallback)(()=>{p(null)},[]),j=(0,a.useCallback)(e=>{h(e),setTimeout(()=>{h(null)},1e4)},[]),k=(0,a.useCallback)(e=>{p(e),setTimeout(()=>{p(null)},5e3)},[]),N=(0,a.useCallback)(async()=>{if(g.current)return new Promise((e,t)=>{y.current.push({resolve:e,reject:t})});try{var e,t;g.current=!0;const n=await va.refreshToken();if(!n.success||null===(e=n.data)||void 0===e||!e.accessToken||null===(t=n.data)||void 0===t||!t.user)throw new Error("Invalid refresh response");if(!xa(n.data.user))throw new Error("Invalid user data in refresh response");const s=ba(n.data.user),a=n.data.accessToken;r(s),l(!0);const i=localStorage.getItem("token")?localStorage:sessionStorage;i.setItem("token",a),i.setItem("user",JSON.stringify(s)),da.defaults.headers.common.Authorization="Bearer ".concat(a);const o=Date.now()+864e5;for(u(o),localStorage.setItem("sessionExpiry",o.toString()),S();y.current.length>0;){y.current.shift().resolve()}return n}catch(n){for(console.error("Token refresh failed:",n);y.current.length>0;){y.current.shift().reject(n)}throw n}finally{g.current=!1}},[]),S=(0,a.useCallback)(()=>{f.current&&clearTimeout(f.current);const e=c?c-3e5-Date.now():33e5;e>0&&(f.current=setTimeout(async()=>{try{await N()}catch(e){console.error("Scheduled token refresh failed:",e)}},e))},[c,N]),C=(0,a.useCallback)(()=>{v.current&&clearInterval(v.current),v.current=setInterval(()=>{c&&Date.now()>c&&(console.warn("Session expired during monitoring"),E("Session expired"))},6e4)},[c]),E=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user_initiated";r(null),l(!1),u(null),h(null),p(null),f.current&&(clearTimeout(f.current),f.current=null),v.current&&(clearInterval(v.current),v.current=null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("sessionExpiry"),localStorage.removeItem("rememberMe"),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),delete da.defaults.headers.common.Authorization,va.logout().catch(e=>{console.error("Backend logout failed:",e)}),x("logout",{reason:e}),y.current=[],console.log("\ud83d\udc4b User logged out:",e)},[x]),T=(0,a.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var s,a;h(null),p(null),i(!0),console.log("\ud83d\udd10 Attempting login for:",e);const o=await va.login(e,t,n);if(console.log("\ud83d\udd10 Login response:",o),!o.success)throw new Error(o.message||"Login failed");if(null===(s=o.data)||void 0===s||!s.user||null===(a=o.data)||void 0===a||!a.accessToken)throw new Error("Invalid login response format");if(!xa(o.data.user))throw new Error("Invalid user data received from server");const c=ba(o.data.user),d=o.data.accessToken;r(c),l(!0);const m=Date.now()+864e5;u(m);const f=n?localStorage:sessionStorage;return f.setItem("token",d),f.setItem("user",JSON.stringify(c)),n&&(localStorage.setItem("sessionExpiry",m.toString()),localStorage.setItem("rememberMe","true")),da.defaults.headers.common.Authorization="Bearer ".concat(d),S(),C(),x("login_success",{email:e,role:c.role}),console.log("\u2705 Login successful:",c.email),o}catch(d){var o,c;console.error("\u274c Login error:",d),x("login_failed",{email:e,error:d.message});const t=(null===(o=d.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||d.message||"Login failed. Please check your credentials.";throw j(t),d}finally{i(!1)}},[S,C,j,x]),P=(0,a.useCallback)(async e=>{try{var t,n,s;h(null),p(null),i(!0),console.log("\ud83d\udcdd Attempting registration for:",e.email),console.log("\ud83d\udcdd Registration data:",{username:e.username,email:e.email,role:e.role,department:e.department,studentId:e.studentId});const a=await va.register(e);if(console.log("\ud83d\udcdd Registration response:",a),!a.success)throw new Error(a.message||"Registration failed");if((null===(t=a.data)||void 0===t?void 0:t.requiresEmailVerification)||!1)return console.log("\ud83d\udce7 Email verification required"),k("Registration successful! Please check your email to verify your account."),x("registration_pending_verification",{email:e.email,role:e.role}),qe(qe({},a),{},{requiresVerification:!0,message:"Registration successful! Please check your email to verify your account."});if(null===(n=a.data)||void 0===n||!n.user||null===(s=a.data)||void 0===s||!s.accessToken)throw new Error("Invalid registration response format");if(!xa(a.data.user))throw new Error("Invalid user data received from server");const o=ba(a.data.user),c=a.data.accessToken;r(o),l(!0);const d=Date.now()+864e5;return u(d),localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("sessionExpiry",d.toString()),da.defaults.headers.common.Authorization="Bearer ".concat(c),S(),C(),x("registration_success",{email:o.email,role:o.role}),console.log("\u2705 Registration successful:",o.email),qe(qe({},a),{},{requiresVerification:!1,message:"Registration successful! You are now logged in."})}catch(v){var a,o,c,d,m,f;console.error("\u274c Registration error:",v),console.error("\u274c Error details:",{message:v.message,response:null===(a=v.response)||void 0===a?void 0:a.data,status:null===(o=v.response)||void 0===o?void 0:o.status}),x("registration_failed",{email:e.email,error:v.message,role:e.role});let t="Registration failed. Please try again.";if(v.message&&"Registration failed. Please try again."!==v.message)t=v.message;else if(null!==(c=v.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.message)t=v.response.data.message;else if(null!==(m=v.response)&&void 0!==m&&null!==(f=m.data)&&void 0!==f&&f.errors){const e=v.response.data.errors;Array.isArray(e)?t=e.map(e=>e.message||e.msg).join(". "):"object"===typeof e&&(t=Object.values(e).join(". "))}throw j(t),new Error(t)}finally{i(!1)}},[S,C,j,k,x]),_=(0,a.useCallback)(async()=>{try{i(!0),h(null),p(null);const n=localStorage.getItem("token")||sessionStorage.getItem("token"),s=localStorage.getItem("user")||sessionStorage.getItem("user"),a=localStorage.getItem("sessionExpiry");if(!n||!s)return void i(!1);let o;try{o=JSON.parse(s)}catch(e){return console.error("Error parsing saved user:",e),void E("Invalid session data")}if(!xa(o))return console.warn("Invalid user data in storage, logging out"),void E("Invalid user data");if(a){const e=parseInt(a,10);if(Date.now()>e)return console.warn("Session expired, logging out"),void E("Session expired");u(e)}da.defaults.headers.common.Authorization="Bearer ".concat(n);try{const e=await va.getCurrentUser();if(!e.success)throw new Error(e.message||"Failed to get current user");const t=e.data;if(!xa(t))throw new Error("Invalid user data received from server");const n=ba(t);r(n),l(!0);(localStorage.getItem("token")?localStorage:sessionStorage).setItem("user",JSON.stringify(n)),S(),C(),console.log("\u2705 Auth initialized successfully:",n.email)}catch(e){console.error("Token verification failed:",e);try{await N()}catch(t){console.error("Token refresh failed:",t),E("Session verification failed")}}}catch(e){console.error("Auth initialization error:",e),j("Authentication initialization failed")}finally{i(!1)}},[E,N,S,C,j]),R=(0,a.useCallback)(e=>{if(!n||!n.role)return!1;return(Array.isArray(e)?e:[e]).includes(n.role)},[n]),O=(0,a.useCallback)(e=>{if(!n||!n.permissions)return!1;return(Array.isArray(e)?e:[e]).every(e=>{var t;return null===(t=n.permissions)||void 0===t?void 0:t.includes(e)})},[n]),I=(0,a.useCallback)(async()=>{if(!n)return!1;try{return await va.getCurrentUser(),!0}catch(e){return!1}},[n]),A=(0,a.useCallback)(async e=>{try{var t;const n=await va.updateProfile(e);if(n.success&&null!==(t=n.data)&&void 0!==t&&t.user){const e=ba(n.data.user);r(e);(localStorage.getItem("token")?localStorage:sessionStorage).setItem("user",JSON.stringify(e))}return n}catch(n){throw console.error("Profile update error:",n),n}},[]),L=(0,a.useCallback)(async(e,t)=>{try{const n=await va.changePassword(e,t);return n.success&&x("password_changed"),n}catch(n){throw console.error("Password change error:",n),n}},[x]),M=(0,a.useCallback)(async e=>{try{return await va.forgotPassword(e)}catch(t){throw console.error("Forgot password error:",t),t}},[]),D=(0,a.useCallback)(async(e,t,n)=>{try{return await va.resetPassword(e,t,n)}catch(r){throw console.error("Reset password error:",r),r}},[]),z=(0,a.useCallback)(async(e,t)=>{try{return await va.verifyEmail(e,t)}catch(n){throw console.error("Email verification error:",n),n}},[]),U=(0,a.useCallback)(async e=>{try{return await va.checkEmail(e)}catch(t){throw console.error("Check email error:",t),t}},[]),F=(0,a.useCallback)(async e=>{try{return await va.checkUsername(e)}catch(t){throw console.error("Check username error:",t),t}},[]);(0,a.useEffect)(()=>(_(),()=>{f.current&&clearTimeout(f.current),v.current&&clearInterval(v.current)}),[_]),(0,a.useEffect)(()=>{const e=da.interceptors.response.use(e=>e,async e=>{var t;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!n._retry){n._retry=!0;try{await N();const e=localStorage.getItem("token")||sessionStorage.getItem("token");return e&&(n.headers.Authorization="Bearer ".concat(e)),da(n)}catch(r){return E("token_refresh_failed"),Promise.reject(r)}}return Promise.reject(e)});return()=>{da.interceptors.response.eject(e)}},[N,E]);const B={user:n,loading:s,sessionValid:o,sessionExpiresAt:c,authError:d,authSuccess:m,login:T,register:P,logout:E,refreshToken:N,checkSession:I,updateProfile:A,changePassword:L,forgotPassword:M,resetPassword:D,verifyEmail:z,checkEmail:U,checkUsername:F,hasRole:R,hasPermission:O,logSecurityEvent:x,isAuthenticated:!!n&&o,clearError:b,clearSuccess:w,setError:j,setSuccess:k};return(0,En.jsx)(ga.Provider,{value:B,children:t})};class ja extends a.Component{constructor(e){super(e),this.logErrorToService=(e,t)=>{const n={errorId:this.state.errorId,timestamp:(new Date).toISOString(),message:e.message,stack:e.stack,componentStack:t.componentStack,url:window.location.href,userAgent:navigator.userAgent,userId:localStorage.getItem("userId"),userRole:localStorage.getItem("userRole")};this.sendToErrorService(n)},this.sendToErrorService=e=>{try{const t=JSON.parse(localStorage.getItem("app_errors")||"[]");t.push(qe(qe({},e),{},{timestamp:(new Date).toISOString()})),t.length>50&&t.shift(),localStorage.setItem("app_errors",JSON.stringify(t))}catch(Gi){}},this.trackError=e=>{},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null})},this.handleGoHome=()=>{window.location.href="/"},this.handleCopyErrorDetails=()=>{var e,t,n;const r="\nError ID: ".concat(this.state.errorId,"\nTime: ").concat((new Date).toISOString(),"\nMessage: ").concat(null===(e=this.state.error)||void 0===e?void 0:e.message,"\nURL: ").concat(window.location.href,"\n\nStack Trace:\n").concat(null===(t=this.state.error)||void 0===t?void 0:t.stack,"\n\nComponent Stack:\n").concat(null===(n=this.state.errorInfo)||void 0===n?void 0:n.componentStack,"\n    ").trim();navigator.clipboard.writeText(r).then(()=>{alert("Error details copied to clipboard. Please share this with support.")}).catch(()=>{const e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Error details copied to clipboard. Please share this with support.")})},this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:"ERR_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}}componentDidCatch(e,t){this.logErrorToService(e,t),this.setState({errorInfo:t}),this.trackError(e)}render(){return this.state.hasError?(0,En.jsx)("div",{className:"error-boundary",role:"alert",children:(0,En.jsxs)("div",{className:"error-container",children:[(0,En.jsx)("div",{className:"error-icon","aria-hidden":"true",children:"\u26a0\ufe0f"}),(0,En.jsxs)("div",{className:"error-content",children:[(0,En.jsx)("h1",{className:"error-title",children:"Something went wrong"}),(0,En.jsxs)("div",{className:"error-message",children:[(0,En.jsx)("p",{children:"The application encountered an unexpected error. Our team has been notified."}),(0,En.jsxs)("div",{className:"error-details",children:[(0,En.jsxs)("p",{className:"error-id",children:[(0,En.jsx)("strong",{children:"Error ID:"})," ",this.state.errorId]}),!1]})]}),(0,En.jsxs)("div",{className:"error-actions",children:[(0,En.jsx)("button",{onClick:this.handleRetry,className:"btn btn-primary","aria-label":"Retry loading the component",children:"Try Again"}),(0,En.jsx)("button",{onClick:this.handleGoHome,className:"btn btn-secondary","aria-label":"Go to home page",children:"Go to Home"}),(0,En.jsx)("button",{onClick:this.handleCopyErrorDetails,className:"btn btn-text","aria-label":"Copy error details for support",children:"Copy Error Details"})]}),(0,En.jsxs)("div",{className:"error-support",children:[(0,En.jsx)("p",{children:"If the problem persists, please contact IT Support with the Error ID above."}),(0,En.jsx)("p",{className:"support-contact",children:"\ud83d\udcde IT Help Desk: Ext. 1234 | \ud83d\udce7 support@bugemauniv.ac.ug"})]})]})]})}):this.props.children}}const ka=ja,Na=e=>{let{message:t="Loading...",fullPage:n=!1,size:r="medium",color:s="#007bff",className:a=""}=e;const i=(()=>{const e={small:{width:"24px",height:"24px",borderWidth:"2px"},medium:{width:"40px",height:"40px",borderWidth:"3px"},large:{width:"60px",height:"60px",borderWidth:"4px"}};return e[r]||e.medium})();return(0,En.jsxs)("div",{className:"loading-spinner ".concat(n?"full-page":""," ").concat(a),role:"status","aria-live":"polite","aria-label":t,children:[(0,En.jsxs)("div",{className:"spinner-container",children:[(0,En.jsx)("div",{className:"spinner",style:{width:i.width,height:i.height,borderWidth:i.borderWidth,borderColor:"".concat(s," transparent transparent transparent")},"aria-hidden":"true"}),t&&(0,En.jsx)("p",{className:"spinner-message","aria-hidden":"true",children:t})]}),(0,En.jsx)("span",{className:"sr-only",children:t})]})},Sa=e=>{let{children:t,requiredRoles:n=[],redirectPath:r="/login",requireVerifiedEmail:s=!1,showLoading:i=!0}=e;const{user:o,isLoading:l,isAuthenticated:c,logout:u}=(0,a.useContext)(ga),d=se(),[h,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=!0;return c&&o&&(async()=>{if(localStorage.getItem("token")||sessionStorage.getItem("token")){e&&(m(!0),f(null));try{"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ENABLE_SESSION_VALIDATION&&await da.testConnection(),e&&f(null)}catch(n){var t;e&&(console.error("Session validation failed:",n),f("SESSION_INVALID"),"AUTH_REQUIRED"!==n.code&&401!==(null===(t=n.response)||void 0===t?void 0:t.status)||setTimeout(()=>{e&&u()},1e3))}finally{e&&m(!1)}}else e&&f("NO_TOKEN")})(),()=>{e=!1}},[c,o,u]);return l||h?i?(0,En.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50","data-testid":"protected-route-loading",children:(0,En.jsx)(Na,{size:"lg",message:h?"Validating session...":"Loading..."})}):null:"SESSION_INVALID"===p?(sessionStorage.setItem("redirectAfterLogin",d.pathname+d.search),(0,En.jsx)(ke,{to:"".concat(r,"?session=invalid&redirect=").concat(encodeURIComponent(d.pathname)),replace:!0,state:{from:d}})):c&&o?!s||o&&(o.isEmailVerified||o.emailVerified||o.verified,1)?!n||0===n.length||o&&o.roles&&n.some(e=>o.roles.includes(e))?t||(0,En.jsx)(Ne,{}):(console.warn("Unauthorized access attempt by user ".concat(o.id," to ").concat(d.pathname)),(0,En.jsx)(ke,{to:"/unauthorized",replace:!0,state:{from:d,requiredRoles:n,userRoles:o.roles}})):(0,En.jsx)(ke,{to:"/verify-email",replace:!0,state:{from:d,message:"Please verify your email address to access this page."}}):(sessionStorage.setItem("redirectAfterLogin",d.pathname+d.search),(0,En.jsx)(ke,{to:"".concat(r,"?redirect=").concat(encodeURIComponent(d.pathname)),replace:!0,state:{from:d}}))};Sa.defaultProps={requiredRoles:[],redirectPath:"/login",requireVerifiedEmail:!1,showLoading:!0},Sa.displayName="ProtectedRoute";const Ca=Sa,Ea=()=>{const{user:e,logout:t}=ya(),n=ie();return(0,En.jsxs)("nav",{className:"navbar",children:[(0,En.jsx)("div",{className:"navbar-brand",children:(0,En.jsx)(Me,{to:"/",children:"BU  IT Support System"})}),(0,En.jsx)("div",{className:"navbar-menu",children:e&&(0,En.jsxs)(En.Fragment,{children:["staff"===e.role?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Me,{to:"/staff",className:"navbar-item",children:"Dashboard"}),(0,En.jsx)(Me,{to:"/create-ticket",className:"navbar-item",children:"Create Ticket"}),(0,En.jsx)(Me,{to:"/tickets",className:"navbar-item",children:"My Tickets"})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Me,{to:"/admin",className:"navbar-item",children:"Dashboard"}),(0,En.jsx)(Me,{to:"/tickets",className:"navbar-item",children:"All Tickets"}),(0,En.jsx)(Me,{to:"/reports",className:"navbar-item",children:"Reports"})]}),(0,En.jsxs)("div",{className:"navbar-user",children:[(0,En.jsxs)("span",{children:["Welcome, ",e.username]}),(0,En.jsx)("button",{onClick:()=>{t(),n("/login")},className:"logout-btn",children:"Logout"})]})]})})]})},Ta=()=>{var e,t,n;const[r,s]=(0,a.useState)({email:"",password:"",rememberMe:!1}),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(0),[p,f]=(0,a.useState)(null),[v,g]=(0,a.useState)({}),[y,x]=(0,a.useState)(!1),b=(0,a.useRef)(null),{login:w,logSecurityEvent:j}=ya(),k=ie(),N=se(),S=(null===(e=N.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/dashboard";(0,a.useEffect)(()=>{b.current&&b.current.focus();const e=localStorage.getItem("login_lockout_until");e&&Date.now()<parseInt(e)&&f(parseInt(e));const t=localStorage.getItem("remembered_email");t&&s(e=>qe(qe({},e),{},{email:t,rememberMe:!0}))},[]),(0,a.useEffect)(()=>{if(!p)return;const e=setInterval(()=>{Date.now()>=p&&(f(null),localStorage.removeItem("login_lockout_until"),localStorage.removeItem("login_attempts"),clearInterval(e))},1e3);return()=>clearInterval(e)},[p]);const C=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),E=e=>{const{name:t,value:n,type:r,checked:a}=e.target;let i=n;"email"===t?i=n.trim().toLowerCase():"password"===t&&(i=n,v.password&&g(e=>qe(qe({},e),{},{password:""}))),s(e=>qe(qe({},e),{},{[t]:"checkbox"===r?a:i})),v[t]&&g(e=>qe(qe({},e),{},{[t]:""}))},T=l||p||y;return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Enterprise IT Support Management Platform"})]}),p&&(0,En.jsxs)("div",{className:"lockout-warning",children:[(0,En.jsx)("div",{className:"lockout-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 7C13.1 7 14 7.9 14 9C14 10.1 13.1 11 12 11C10.9 11 10 10.1 10 9C10 7.9 10.9 7 12 7ZM18 15.59C18 16.85 17.64 18.05 17 19.07L12 16L7 19.07C6.36 18.05 6 16.85 6 15.59V12.2L12 9L18 12.2V15.59Z"})})}),(0,En.jsxs)("div",{className:"lockout-content",children:[(0,En.jsx)("h4",{children:"Account Temporarily Locked"}),(0,En.jsx)("p",{children:"Too many failed login attempts. Please wait:"}),(0,En.jsx)("div",{className:"lockout-timer",children:(0,En.jsx)("span",{className:"timer",children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(p?Math.ceil((p-Date.now())/1e3):0)})}),(0,En.jsx)("p",{className:"lockout-help",children:"Contact your system administrator if you need immediate access."})]})]}),i&&!p&&(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:i})})]}),(null===(n=N.state)||void 0===n?void 0:n.registrationSuccess)&&(0,En.jsxs)("div",{className:"success-message",role:"alert",children:[(0,En.jsx)("div",{className:"success-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,En.jsx)("div",{className:"success-content",children:(0,En.jsx)("p",{children:"Registration successful! Please login with your credentials."})})]}),!p&&(0,En.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o(""),g({}),p){const e=Math.ceil((p-Date.now())/1e3/60);return void o("Account locked. Try again in ".concat(e," minutes."))}if((()=>{const e={};if(r.email.trim()?C(r.email)||(e.email="Please enter a valid email address"):e.email="Email is required",r.password){const t=(e=>{if(e.length<8)return"Password must be at least ".concat(8," characters");const t=/[A-Z]/.test(e),n=/[a-z]/.test(e),r=/\d/.test(e),s=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e);return t&&n&&r&&s?null:"Password must include uppercase, lowercase, numbers, and special characters"})(r.password);t&&(e.password=t)}else e.password="Password is required";return g(e),0===Object.keys(e).length})()){c(!0),x(!0);try{j("login_attempt",{email:r.email});if((await w(r.email,r.password,r.rememberMe)).success)r.rememberMe?localStorage.setItem("remembered_email",r.email):localStorage.removeItem("remembered_email"),localStorage.removeItem("login_attempts"),m(0),k(S,{replace:!0});else{const e=h+1;if(m(e),localStorage.setItem("login_attempts",e.toString()),e>=5){const t=Date.now()+9e5;f(t),localStorage.setItem("login_lockout_until",t.toString()),o("Too many failed attempts. Account locked for 15 minutes."),j("account_locked",{email:r.email,attempts:e,lockoutUntil:new Date(t).toISOString()})}else{const t=5-e;o("Invalid credentials. ".concat(t," attempt").concat(1!==t?"s":""," remaining."))}}}catch(n){var t;console.error("Login error:",n);let e="Login failed. Please try again.";if(n.response){const{status:t,data:r}=n.response;switch(t){case 401:e=(null===r||void 0===r?void 0:r.message)||"Invalid email or password";break;case 403:e="Account is disabled. Please contact support.";break;case 429:e="Too many requests. Please wait before trying again.";break;case 500:e="Server error. Please try again later.";break;default:e=(null===r||void 0===r?void 0:r.message)||e}}else"ECONNABORTED"===n.code?e="Request timeout. Please check your connection.":"Network Error"===n.message&&(e="Cannot connect to server. Check your internet connection.");o(e),j("login_error",{email:r.email,error:n.message,status:null===(t=n.response)||void 0===t?void 0:t.status})}finally{c(!1),x(!1)}}},className:"login-form",noValidate:!0,children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email Address",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(v.email?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,En.jsx)("input",{ref:b,id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:E,disabled:T,placeholder:"Enter your email address",className:"form-input","aria-describedby":v.email?"email-error":void 0,"aria-required":"true"})]}),v.email&&(0,En.jsxs)("div",{id:"email-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),v.email]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("div",{className:"form-label-row",children:[(0,En.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsx)("button",{type:"button",onClick:()=>{r.email&&C(r.email)?k("/forgot-password",{state:{email:r.email}}):o("Please enter a valid email address to reset password")},className:"forgot-password",disabled:T,children:"Forgot Password?"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(v.password?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"password",name:"password",type:u?"text":"password",autoComplete:"current-password",value:r.password,onChange:E,disabled:T,placeholder:"Enter your password",className:"form-input","aria-describedby":v.password?"password-error":void 0,"aria-required":"true"}),(0,En.jsx)("button",{type:"button",onClick:()=>{d(!u)},className:"password-toggle",disabled:T,"aria-label":u?"Hide password":"Show password",children:u?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),v.password&&(0,En.jsxs)("div",{id:"password-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),v.password]})]}),(0,En.jsx)("div",{className:"form-group checkbox-group",children:(0,En.jsxs)("label",{className:"checkbox-label",children:[(0,En.jsx)("input",{type:"checkbox",name:"rememberMe",checked:r.rememberMe,onChange:E,disabled:T,className:"checkbox-input"}),(0,En.jsx)("span",{className:"checkbox-custom"}),(0,En.jsx)("span",{className:"checkbox-text",children:"Remember me on this device"})]})}),(0,En.jsx)("div",{className:"form-group",children:(0,En.jsx)("button",{type:"submit",disabled:T,className:"auth-btn ".concat(l?"loading":""),"aria-busy":l,children:l?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"spinner"}),"Authenticating..."]}):"Sign In"})}),(0,En.jsx)("div",{className:"security-info",children:(0,En.jsxs)("p",{className:"security-text",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H15C15 13.1 14.1 14 13 14V16H11V14C9.9 14 9 13.1 9 12.01V11H12V8H9V6H12V3H14V6H17V8H14V11H17V12.01C17 14.23 15.21 16 13 16V18H11V16C8.79 16 7 14.21 7 12.01V9H9V12.01C9 12.56 9.45 13.01 10 13.01H12V11.99Z"})}),"This is a secure system. Your credentials are encrypted."]})})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Don't have an account?"," ",(0,En.jsx)(Me,{to:"/register",className:"link","aria-disabled":T,children:"Request access"})]}),(0,En.jsxs)("p",{className:"auth-version",children:["IT Support System v",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"]})]}),(0,En.jsxs)("div",{className:"security-footer",children:[(0,En.jsx)("p",{className:"security-notice",children:"For security assistance, contact your IT administrator."}),(0,En.jsxs)("p",{className:"security-contact",children:["Email: ",(0,En.jsx)("a",{href:"mailto:it-support@yourcompany.com",children:"support@bugemauniv.ac.ug"})," | Phone: ",(0,En.jsx)("a",{href:"tel:+1234567890",children:"+256 784-845-785"})]})]})]})})]})},Pa=()=>{const[e,t]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",role:"student",department:"computer_science",studentId:"",campus:"BU",yearOfEntry:(new Date).getFullYear(),semester:"1",agreeToTerms:!1,receiveNotifications:!0,employeeId:""}),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)({}),[c,u]=(0,a.useState)(0),[d,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)(0),[g,y]=(0,a.useState)(!1),[x,b]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)({}),S=(0,a.useRef)(null),{register:C,logSecurityEvent:E,checkUsername:T}=ya(),P=ie(),_=[{value:"student",label:"Student",description:"Access academic resources and submit support tickets",icon:"\ud83c\udf93",permissions:["create_ticket","view_own_tickets","access_knowledge_base"],requiresApproval:!1,requiresStudentId:!0},{value:"staff",label:"Staff/Faculty",description:"University staff and teaching faculty members",icon:"\ud83d\udc68\u200d\ud83c\udfeb",permissions:["create_ticket","view_department_tickets","access_knowledge_base","manage_own_assets"],requiresApproval:!0,requiresEmployeeId:!1},{value:"technician",label:"IT Technician",description:"Provide technical support and resolve tickets",icon:"\ud83d\udc68\u200d\ud83d\udcbb",permissions:["view_all_tickets","resolve_tickets","manage_assets","access_admin_tools"],requiresApproval:!0,requiresEmployeeId:!0},{value:"admin",label:"System Administrator",description:"Full system access and user management",icon:"\ud83d\udc68\u200d\ud83d\udcbc",permissions:["all_permissions"],requiresApproval:!0,requiresEmployeeId:!0}],R=[{value:"computer_science",label:"Computer Science",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"engineering",label:"Engineering",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"business",label:"Business School",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"arts_sciences",label:"Arts & Sciences",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"medicine",label:"School of Medicine",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"law",label:"School of Law",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"education",label:"School of Education",category:"academic",professionalValue:"ACADEMIC_AFFAIRS"},{value:"administration",label:"Administration",category:"administrative",professionalValue:"ADMINISTRATION"},{value:"it_services",label:"IT Services",category:"administrative",professionalValue:"IT_SERVICES"},{value:"facilities",label:"Facilities Management",category:"administrative",professionalValue:"ADMINISTRATION"},{value:"library",label:"Library Services",category:"administrative",professionalValue:"LIBRARY"},{value:"student_services",label:"Student Services",category:"administrative",professionalValue:"STUDENT_AFFAIRS"},{value:"research",label:"Research Division",category:"administrative",professionalValue:"RESEARCH"},{value:"other",label:"Other Department",category:"other",professionalValue:"ADMINISTRATION"}],O=["bugemauniv.ac.ug","students.bugemauniv.ac.ug","staff.bugemauniv.ac.ug","bugema.ac.ug"],I=[/^[0-9]{2}\/[A-Z]{3}\/[A-Z]{2}\/[A-Z]\/[0-9]{4}$/,/^[A-Z0-9\/\-_]{6,20}$/];(0,a.useEffect)(()=>{S.current&&S.current.focus()},[]),(0,a.useEffect)(()=>{L()},[e]),(0,a.useEffect)(()=>{e.password?A(e.password):u(0)},[e.password]),(0,a.useEffect)(()=>{"student"===e.role?b(R.filter(e=>"academic"===e.category)):["staff","technician","admin"].includes(e.role)?b(R.filter(e=>"administrative"===e.category||"other"===e.category)):b(R)},[e.role]);const A=e=>{let t=0;e.length>=8&&(t+=20),e.length>=12&&(t+=10),e.length>=16&&(t+=10),/[A-Z]/.test(e)&&(t+=15),/[a-z]/.test(e)&&(t+=15),/[0-9]/.test(e)&&(t+=15),/[^A-Za-z0-9]/.test(e)&&(t+=15),/(.)\1{2,}/.test(e)&&(t-=10);return["123","abc","qwe","password","admin"].forEach(n=>{e.toLowerCase().includes(n)&&(t-=10)}),t=Math.max(0,Math.min(100,t)),u(t),t},L=()=>{const t={student:["username","email","password","confirmPassword","firstName","lastName","role","department","studentId","agreeToTerms"],staff:["username","email","password","confirmPassword","firstName","lastName","role","department","agreeToTerms"],technician:["username","email","password","confirmPassword","firstName","lastName","role","department","agreeToTerms"],admin:["username","email","password","confirmPassword","firstName","lastName","role","department","agreeToTerms"]},n=t[e.role]||t.student;let r=0;n.forEach(t=>{var n;"agreeToTerms"===t?e[t]&&r++:"confirmPassword"===t?e.password&&e.confirmPassword&&e.password===e.confirmPassword&&r++:null!==(n=e[t])&&void 0!==n&&n.toString().trim()&&r++});const s=Math.round(r/n.length*100);v(s)},M=e=>{const{name:s,value:a,type:i,checked:c}=e.target;N(e=>qe(qe({},e),{},{[s]:!0}));let u=a;switch(s){case"username":u=a.toLowerCase().replace(/[^a-z0-9_-]/g,"");break;case"email":u=a.toLowerCase().trim();break;case"phone":u=D(a);break;case"studentId":u=a.toUpperCase().trim();break;case"firstName":case"lastName":u=a.trim();break;case"yearOfEntry":u=a.replace(/\D/g,"").slice(0,4);break;default:u=a}t(e=>qe(qe({},e),{},{[s]:"checkbox"===i?c:u})),o[s]&&l(e=>qe(qe({},e),{},{[s]:""})),n&&r("")},D=e=>{const t=e.replace(/\D/g,"");return t.startsWith("256")?t.length<=3?"+".concat(t):t.length<=6?"+".concat(t.slice(0,3)," ").concat(t.slice(3)):t.length<=9?"+".concat(t.slice(0,3)," ").concat(t.slice(3,6)," ").concat(t.slice(6)):"+".concat(t.slice(0,3)," ").concat(t.slice(3,6)," ").concat(t.slice(6,9)," ").concat(t.slice(9,12)):t.length<=3?t:t.length<=6?"(".concat(t.slice(0,3),") ").concat(t.slice(3)):"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6,10))},z=async(t,r)=>{switch(t){case"username":return await(async e=>{if(!e.trim())return"Username is required";if(e.length<3)return"Username must be at least 3 characters";if(e.length>30)return"Username cannot exceed 30 characters";if(!/^[a-zA-Z0-9_-]+$/.test(e))return"Username can only contain letters, numbers, underscores, and hyphens";if(["admin","administrator","root","system","support","helpdesk"].includes(e.toLowerCase()))return"This username is reserved";try{if(!(await T(e)).available)return"This username is already taken"}catch(n){console.warn("Username availability check failed:",n)}return null})(r);case"email":return(e=>{if(!e.trim())return"Email address is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))return"Please enter a valid email address";const t=O.some(t=>e.toLowerCase().endsWith(t.toLowerCase()));return j(!t),null})(r);case"password":return(i=r)?i.length<8?"Password must be at least 8 characters":/[A-Z]/.test(i)?/[a-z]/.test(i)?/[0-9]/.test(i)?/[^A-Za-z0-9]/.test(i)?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required";case"confirmPassword":return((e,t)=>e?e!==t?"Passwords do not match":null:"Please confirm your password")(r,e.password);case"firstName":return(a=r).trim()?a.length<2?"First name must be at least 2 characters":a.length>50?"First name cannot exceed 50 characters":/^[A-Za-z\s\-\'\u00C0-\u024F\u1E00-\u1EFF]+$/.test(a)?null:"First name can only contain letters, spaces, hyphens, and apostrophes":"First name is required";case"lastName":return(s=r).trim()?s.length<2?"Last name must be at least 2 characters":s.length>50?"Last name cannot exceed 50 characters":/^[A-Za-z\s\-\'\u00C0-\u024F\u1E00-\u1EFF]+$/.test(s)?null:"Last name can only contain letters, spaces, hyphens, and apostrophes":"Last name is required";case"phone":return(e=>{if(!e.trim())return null;const t=e.replace(/[\s\-\(\)\.\+\s]/g,"");if(t.startsWith("256")){if(12!==t.length)return"Ugandan phone numbers must be 12 digits with 256 prefix";const e=t.substring(3,6);if(!["700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799"].includes(e))return"Please enter a valid Uganda phone number"}return/^[1-9][0-9]{7,14}$/.test(t)?null:"Please enter a valid phone number"})(r);case"studentId":return((e,t)=>{if("student"!==t)return null;if(!e||!e.trim())return"Student ID is required for student accounts";const n=e.trim().toUpperCase();if(n.length<10||n.length>20)return"Student ID must be 10-20 characters";if(!I.some(e=>e.test(n)))return"Invalid student ID format. Expected: YY/DEPT/CAMPUS/LEVEL/NUMBER (e.g., 24/BIT/BU/R/0010)";const r=parseInt(n.substring(0,2)),s=(new Date).getFullYear()%100;if(r<20||r>s+5)return"Invalid year in student ID";const a=n.split("/");if(a.length>=3){const e=a[2];if(!["BU","MA","KA","AR","MB"].includes(e))return"Invalid campus code in student ID"}return null})(r,e.role);case"department":return r?null:"Please select your department";case"agreeToTerms":return r?null:"You must agree to the Terms of Service";default:return null}var s,a,i},U=(0,a.useCallback)(async()=>{const t={};let n=!1;const r={student:["username","email","password","confirmPassword","firstName","lastName","department","studentId","agreeToTerms"],staff:["username","email","password","confirmPassword","firstName","lastName","department","agreeToTerms"],technician:["username","email","password","confirmPassword","firstName","lastName","department","agreeToTerms"],admin:["username","email","password","confirmPassword","firstName","lastName","department","agreeToTerms"]},s=r[e.role]||r.student;for(const a of s){const r=await z(a,e[a]);r&&(t[a]=r,n=!0)}return e.password&&c<40&&(t.password="Please choose a stronger password",n=!0),l(t),!n},[e,c]),F=e=>{let n="";n="student"===e?"computer_science":"administration",t(t=>qe(qe({},t),{},{role:e,department:n,studentId:"student"!==e?"":t.studentId,employeeId:"technician"!==e&&"admin"!==e?"":t.employeeId,campus:"student"===e?t.campus:"BU",yearOfEntry:"student"===e?t.yearOfEntry:(new Date).getFullYear()}));const r=qe({},o);delete r.studentId,delete r.employeeId,delete r.department,l(r)},B=()=>_.find(t=>t.value===e.role)||_[0],V=c<40?{label:"Weak",color:"#ef4444",className:"weak"}:c<70?{label:"Fair",color:"#f59e0b",className:"fair"}:c<90?{label:"Good",color:"#10b981",className:"good"}:{label:"Strong",color:"#059669",className:"strong"},q=s||g;return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"Bugema University IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Create your account to access IT support services"})]}),(0,En.jsx)("div",{className:"progress-bar",children:(0,En.jsx)("div",{className:"progress-fill",style:{width:"".concat(f,"%")},role:"progressbar","aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100",children:(0,En.jsxs)("span",{className:"progress-text",children:[f,"% Complete"]})})}),n&&(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:n})})]}),(0,En.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r("");const n={};["username","email","password","confirmPassword","firstName","lastName","department","studentId","agreeToTerms"].forEach(e=>n[e]=!0),N(n);if(!await U()){r("Please fix the errors in the form"),E("registration_validation_failed",{email:e.email,role:e.role,errors:Object.keys(o),timestamp:(new Date).toISOString()});const t=Object.keys(o)[0];if(t){const e=document.getElementById("".concat(t,"-error"))||document.querySelector('[name="'.concat(t,'"]'));e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus&&e.focus())}return}if(f<100)r("Please complete all required fields");else{i(!0),y(!0);try{E("registration_attempt",{email:e.email,role:e.role,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent});const t=((e,t)=>{if("student"===e)return t;const n=R.find(e=>e.value===t);return n?n.professionalValue:"ADMINISTRATION"})(e.role,e.department),n="".concat(e.firstName.trim()," ").concat(e.lastName.trim()),r={username:e.username.trim(),email:e.email.trim().toLowerCase(),password:e.password,role:e.role,firstName:e.firstName.trim(),lastName:e.lastName.trim(),fullName:n,phone:e.phone?e.phone.replace(/\D/g,""):void 0,department:t,metadata:{registrationSource:"web",userAgent:navigator.userAgent,screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};r.metadata.isPersonalEmail=w,"student"===e.role?(r.studentId=e.studentId.trim().toUpperCase(),r.campus=e.campus,r.yearOfEntry=parseInt(e.yearOfEntry)||(new Date).getFullYear(),r.semester=parseInt(e.semester)||1,r.academicInfo={studentId:e.studentId.trim().toUpperCase(),department:e.department,campus:e.campus,yearOfEntry:parseInt(e.yearOfEntry)||(new Date).getFullYear(),semester:parseInt(e.semester)||1,academicStatus:"active"}):(e.employeeId&&(r.employeeId=e.employeeId.trim().toUpperCase()),r.professionalInfo={department:t}),console.log("\ud83d\udce8 Sending registration data:",r);const i=await C(r);if(!i.success)throw new Error(i.message||"Registration failed");var s,a;E("registration_success",{email:e.email,role:e.role,userId:null===(s=i.data)||void 0===s||null===(a=s.user)||void 0===a?void 0:a.id,timestamp:(new Date).toISOString()}),P("/login",{state:{registrationSuccess:!0,message:"Account created successfully! Please check your email to verify your account.",userRole:e.role}})}catch(c){var l;console.error("Registration error:",c);let t="Registration failed. Please try again.";if(c.response){const{status:e,data:n}=c.response;switch(e){case 400:t="EMAIL_EXISTS"===(null===n||void 0===n?void 0:n.code)?"An account with this email already exists.":"USERNAME_EXISTS"===(null===n||void 0===n?void 0:n.code)?"This username is already taken.":"STUDENT_ID_EXISTS"===(null===n||void 0===n?void 0:n.code)?"This student ID is already registered.":null!==n&&void 0!==n&&n.message?n.message:"Invalid registration data. Please check your information.";break;case 409:t="An account with this email or username already exists.";break;case 422:t=(null===n||void 0===n?void 0:n.message)||"Validation failed. Please check your information.";break;case 429:t="Too many registration attempts. Please try again in 15 minutes.";break;case 500:t="Server error. Please try again later or contact support.";break;default:t=(null===n||void 0===n?void 0:n.message)||t}}else"ECONNABORTED"===c.code?t="Request timeout. Please check your connection and try again.":"Network Error"===c.message?t="Cannot connect to server. Please check your internet connection.":c.message.includes("already exists")&&(t=c.message);r(t),E("registration_failed",{email:e.email,error:c.message,status:null===(l=c.response)||void 0===l?void 0:l.status,timestamp:(new Date).toISOString()})}finally{i(!1),y(!1)}}},className:"register-form",noValidate:!0,children:[(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),"Personal Information"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"username",className:"form-label",children:["Username ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.username?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,En.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:M,disabled:q,placeholder:"Choose a username",className:"form-input","aria-describedby":o.username?"username-error":void 0,"aria-required":"true","aria-invalid":!!o.username})]}),o.username&&(0,En.jsxs)("div",{id:"username-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.username]}),(0,En.jsx)("div",{className:"info-note info",children:(0,En.jsx)("p",{children:"3-30 characters. Use letters, numbers, underscores, and hyphens only."})})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email Address ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.email?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,En.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:M,disabled:q,placeholder:"your.email@bugema.ac.ug",className:"form-input","aria-describedby":o.email?"email-error":void 0,"aria-required":"true","aria-invalid":!!o.email})]}),o.email&&(0,En.jsxs)("div",{id:"email-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.email]}),(0,En.jsx)("div",{className:"info-note ".concat(w?"warning":"info"),children:(0,En.jsx)("div",{className:"note-content",children:w?(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Note:"})," Using personal email. For official communication, use your university email (",(0,En.jsx)("strong",{children:"@bugemauniv.ac.ug"}),")."]}):(0,En.jsx)("p",{children:"\u2705 Verified Bugema University email address"})})})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"firstName",className:"form-label",children:["First Name ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.firstName?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,En.jsx)("input",{ref:S,id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",value:e.firstName,onChange:M,disabled:q,placeholder:"Enter your first name",className:"form-input","aria-describedby":o.firstName?"firstName-error":void 0,"aria-required":"true","aria-invalid":!!o.firstName})]}),o.firstName&&(0,En.jsxs)("div",{id:"firstName-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.firstName]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"lastName",className:"form-label",children:["Last Name ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.lastName?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,En.jsx)("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",value:e.lastName,onChange:M,disabled:q,placeholder:"Enter your last name",className:"form-input","aria-describedby":o.lastName?"lastName-error":void 0,"aria-required":"true","aria-invalid":!!o.lastName})]}),o.lastName&&(0,En.jsxs)("div",{id:"lastName-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.lastName]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),(0,En.jsxs)("div",{className:"input-group ".concat(o.phone?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})})}),(0,En.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:e.phone,onChange:M,disabled:q,placeholder:"+256 XXX XXX XXX",className:"form-input","aria-describedby":o.phone?"phone-error":void 0,"aria-invalid":!!o.phone})]}),o.phone&&(0,En.jsxs)("div",{id:"phone-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.phone]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Account Type"]}),(0,En.jsx)("div",{className:"role-selection",children:_.map(t=>(0,En.jsxs)("label",{className:"role-option ".concat(e.role===t.value?"selected":""),onClick:()=>F(t.value),children:[(0,En.jsx)("input",{type:"radio",name:"role",value:t.value,checked:e.role===t.value,onChange:()=>F(t.value),className:"role-radio",disabled:q,"aria-label":t.label}),(0,En.jsxs)("div",{className:"role-content",children:[(0,En.jsx)("span",{className:"role-icon",children:t.icon}),(0,En.jsxs)("div",{className:"role-info",children:[(0,En.jsx)("span",{className:"role-label",children:t.label}),(0,En.jsx)("span",{className:"role-description",children:t.description}),t.requiresApproval&&(0,En.jsxs)("span",{className:"role-notice",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Requires approval"]})]})]})]},t.value))}),(0,En.jsxs)("div",{className:"role-permissions",children:[(0,En.jsxs)("h4",{children:["Permissions for ",B().label,":"]}),(0,En.jsxs)("ul",{children:[B().permissions.slice(0,5).map((e,t)=>(0,En.jsxs)("li",{children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"16px",height:"16px",marginRight:"8px"},children:(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.replace(/_/g," ")]},t)),B().permissions.length>5&&(0,En.jsxs)("li",{children:["...and ",B().permissions.length-5," more permissions"]})]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})}),"Department & Additional Information"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"department",className:"form-label",children:["Department ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.department?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,En.jsxs)("select",{id:"department",name:"department",value:e.department,onChange:M,disabled:q,className:"form-select","aria-describedby":o.department?"department-error":void 0,"aria-required":"true","aria-invalid":!!o.department,children:[(0,En.jsx)("option",{value:"",children:"Select your department"}),x.map(e=>(0,En.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),o.department&&(0,En.jsxs)("div",{id:"department-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.department]}),(0,En.jsx)("div",{className:"info-note info",children:(0,En.jsx)("p",{children:"student"===e.role?"Academic departments are shown for student accounts.":"Administrative departments are shown for staff/technician/admin accounts."})})]}),"student"===e.role&&(0,En.jsxs)(En.Fragment,{children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"studentId",className:"form-label",children:["Student ID ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.studentId?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"})})}),(0,En.jsx)("input",{id:"studentId",name:"studentId",type:"text",value:e.studentId,onChange:M,disabled:q,placeholder:"Format: 24/BIT/BU/R/0010",className:"form-input","aria-describedby":o.studentId?"studentId-error":void 0,"aria-required":"student"===e.role,"aria-invalid":!!o.studentId})]}),o.studentId&&(0,En.jsxs)("div",{id:"studentId-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.studentId]}),(0,En.jsx)("div",{className:"info-note info",children:(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Format:"})," Year/Department/Campus/Level/Number (e.g., 22/BIT/BU/R/0010)"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Campus codes:"})," BU (Main), MA (Kampala), KA (Kasese), AR (Arua), MB (Mbale)"]})]})})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{htmlFor:"campus",className:"form-label",children:"Campus"}),(0,En.jsx)("select",{id:"campus",name:"campus",value:e.campus,onChange:M,disabled:q,className:"form-select",children:[{value:"BU",label:"Main Campus (Luweero)"},{value:"MA",label:"Kampala Campus"},{value:"KA",label:"Kasese Campus"},{value:"AR",label:"Arua Campus"},{value:"MB",label:"Mbale Campus"},{value:"OTHER",label:"Other Campus"}].map(e=>(0,En.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{htmlFor:"yearOfEntry",className:"form-label",children:"Year of Entry"}),(0,En.jsx)("input",{id:"yearOfEntry",name:"yearOfEntry",type:"number",min:"2000",max:(new Date).getFullYear()+1,value:e.yearOfEntry,onChange:M,disabled:q,className:"form-input"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{htmlFor:"semester",className:"form-label",children:"Semester"}),(0,En.jsxs)("select",{id:"semester",name:"semester",value:e.semester,onChange:M,disabled:q,className:"form-select",children:[(0,En.jsx)("option",{value:"1",children:"Semester 1"}),(0,En.jsx)("option",{value:"2",children:"Semester 2"}),(0,En.jsx)("option",{value:"3",children:"Semester 3"})]})]})]}),["technician","admin"].includes(e.role)&&(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{htmlFor:"employeeId",className:"form-label",children:"Employee ID (Optional)"}),(0,En.jsx)("input",{id:"employeeId",name:"employeeId",type:"text",value:e.employeeId,onChange:M,disabled:q,placeholder:"e.g., IT2024001",className:"form-input"}),(0,En.jsx)("div",{className:"info-note info",children:(0,En.jsx)("p",{children:"Provide your employee ID for verification purposes."})})]}),("technician"===e.role||"admin"===e.role||"staff"===e.role)&&(0,En.jsxs)("div",{className:"info-note warning",children:[(0,En.jsx)("div",{className:"note-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsx)("strong",{children:"Account Verification Required"}),(0,En.jsx)("p",{children:"Staff, technician, and administrator accounts require verification by system administrators. You will receive an email notification once your account is approved."})]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),"Security Settings"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.password?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"new-password",value:e.password,onChange:M,disabled:q,placeholder:"Create a strong password",className:"form-input","aria-describedby":o.password?"password-error":void 0,"aria-required":"true","aria-invalid":!!o.password}),(0,En.jsx)("button",{type:"button",onClick:()=>{h(!d)},className:"password-toggle",disabled:q,"aria-label":d?"Hide password":"Show password","aria-controls":"password",children:d?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),e.password&&(0,En.jsxs)("div",{className:"password-strength",children:[(0,En.jsx)("div",{className:"strength-meter",children:(0,En.jsx)("div",{className:"strength-bar ".concat(V.className),style:{width:"".concat(c,"%"),backgroundColor:V.color}})}),(0,En.jsxs)("div",{className:"strength-info",children:[(0,En.jsxs)("span",{className:"strength-label",children:["Strength: ",V.label]}),(0,En.jsxs)("span",{className:"strength-score",children:[c,"%"]})]})]}),o.password&&(0,En.jsxs)("div",{id:"password-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.password]}),(0,En.jsxs)("div",{className:"password-requirements",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Password must contain:"})}),(0,En.jsxs)("ul",{children:[(0,En.jsxs)("li",{className:e.password.length>=8?"valid":"invalid",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:e.password.length>=8?(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}):(0,En.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"At least 8 characters"]}),(0,En.jsxs)("li",{className:/[A-Z]/.test(e.password)?"valid":"invalid",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:/[A-Z]/.test(e.password)?(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}):(0,En.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"One uppercase letter"]}),(0,En.jsxs)("li",{className:/[a-z]/.test(e.password)?"valid":"invalid",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:/[a-z]/.test(e.password)?(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}):(0,En.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"One lowercase letter"]}),(0,En.jsxs)("li",{className:/[0-9]/.test(e.password)?"valid":"invalid",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:/[0-9]/.test(e.password)?(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}):(0,En.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"One number"]}),(0,En.jsxs)("li",{className:/[^A-Za-z0-9]/.test(e.password)?"valid":"invalid",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:/[^A-Za-z0-9]/.test(e.password)?(0,En.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}):(0,En.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"One special character"]})]})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:["Confirm Password ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.confirmPassword?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:M,disabled:q,placeholder:"Re-enter your password",className:"form-input","aria-describedby":o.confirmPassword?"confirmPassword-error":void 0,"aria-required":"true","aria-invalid":!!o.confirmPassword}),(0,En.jsx)("button",{type:"button",onClick:()=>{p(!m)},className:"password-toggle",disabled:q,"aria-label":m?"Hide password":"Show password","aria-controls":"confirmPassword",children:m?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),o.confirmPassword&&(0,En.jsxs)("div",{id:"confirmPassword-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.confirmPassword]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})}),"Terms and Conditions"]}),(0,En.jsxs)("div",{className:"form-group checkbox-group",children:[(0,En.jsxs)("label",{className:"checkbox-label",children:[(0,En.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:e.agreeToTerms,onChange:M,disabled:q,className:"checkbox-input","aria-describedby":o.agreeToTerms?"terms-error":void 0,"aria-required":"true","aria-invalid":!!o.agreeToTerms}),(0,En.jsx)("span",{className:"checkbox-custom"}),(0,En.jsxs)("span",{className:"checkbox-text",children:["I agree to the"," ",(0,En.jsx)(Me,{to:"/terms",target:"_blank",className:"link",children:"Terms of Service"})," ","and"," ",(0,En.jsx)(Me,{to:"/privacy",target:"_blank",className:"link",children:"Privacy Policy"}),(0,En.jsx)("span",{className:"required",children:"*"})]})]}),o.agreeToTerms&&(0,En.jsxs)("div",{id:"terms-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.agreeToTerms]})]}),(0,En.jsx)("div",{className:"form-group checkbox-group",children:(0,En.jsxs)("label",{className:"checkbox-label",children:[(0,En.jsx)("input",{type:"checkbox",name:"receiveNotifications",checked:e.receiveNotifications,onChange:M,disabled:q,className:"checkbox-input"}),(0,En.jsx)("span",{className:"checkbox-custom"}),(0,En.jsx)("span",{className:"checkbox-text",children:"I want to receive notifications about system updates, security alerts, and important announcements"})]})}),(0,En.jsx)("div",{className:"info-note",children:(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Important Information:"})}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),(0,En.jsx)("li",{children:"You must provide accurate and truthful information during registration"}),(0,En.jsx)("li",{children:"All accounts are subject to verification and approval by system administrators"}),(0,En.jsx)("li",{children:"Student accounts require valid Bugema University student ID"}),(0,En.jsx)("li",{children:"Staff/Technician/Admin accounts require administrative approval"})]})]})})]}),(0,En.jsxs)("div",{className:"form-actions",children:[(0,En.jsx)("button",{type:"submit",disabled:q||f<100,className:"auth-btn ".concat(s?"loading":""),"aria-busy":s,children:s?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"spinner"}),"Creating Account..."]}):"Create Account"}),(0,En.jsx)("div",{className:"progress-note",children:(0,En.jsx)("p",{children:f<100?"Complete all required fields (".concat(f,"%) to enable registration"):"\u2713 All required fields completed. Ready to register."})})]})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Already have an account?"," ",(0,En.jsx)(Me,{to:"/login",className:"link","aria-disabled":q,children:"Login here"})]}),(0,En.jsxs)("p",{className:"auth-version",children:["IT Support System v",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"3.1.0"," \u2022 Bugema University"]})]}),(0,En.jsxs)("div",{className:"security-footer",children:[(0,En.jsxs)("p",{className:"security-notice",children:[(0,En.jsx)("strong",{children:"Security Notice:"})," Your information is protected with enterprise-grade security measures."]}),(0,En.jsxs)("p",{className:"security-contact",children:["For registration assistance, contact IT Support: \ud83d\udce7"," ",(0,En.jsx)("a",{href:"mailto:support@bugemauniv.ac.ug",children:"support@bugemauniv.ac.ug"})," \u2022 \ud83d\udcde"," ",(0,En.jsx)("a",{href:"tel:+256784845785",children:"+256 784-845-785"})]})]})]})})]})},_a=()=>{const{token:e}=le(),t=ie(),[n,r]=(0,a.useState)("verifying"),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{if(!e)return r("error"),i("Invalid verification link. No token provided."),void l(!1);try{l(!0);const t=await va.verifyEmail(e);t.success?(r("success"),i("Email verified successfully! You can now log in to your account.")):(r("error"),i(t.message||"Email verification failed. The link may be invalid or expired."))}catch(s){var t,n;console.error("Email verification error:",s),r("error"),i((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Email verification failed. Please try again or request a new verification email.")}finally{l(!1)}})()},[e]);return o?(0,En.jsx)("div",{className:"email-verification-container",children:(0,En.jsxs)("div",{className:"verification-card",children:[(0,En.jsx)(Na,{}),(0,En.jsx)("h2",{children:"Verifying Your Email"}),(0,En.jsx)("p",{children:"Please wait while we verify your email address..."})]})}):(0,En.jsx)("div",{className:"email-verification-container",children:(0,En.jsxs)("div",{className:"verification-card",children:[(0,En.jsx)("div",{className:"verification-icon ".concat(n),children:"success"===n?(0,En.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,En.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,En.jsx)("polyline",{points:"22,4 12,14.01 9,11.01"})]}):(0,En.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,En.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,En.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,En.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),(0,En.jsx)("h2",{className:"verification-title ".concat(n),children:"success"===n?"Email Verified!":"Verification Failed"}),(0,En.jsx)("p",{className:"verification-message",children:s}),(0,En.jsx)("div",{className:"verification-actions",children:"success"===n?(0,En.jsx)(Me,{to:"/login",className:"btn btn-primary",children:"Continue to Login"}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("button",{onClick:async()=>{t("/login",{state:{message:"Please log in to request a new verification email.",type:"info"}})},className:"btn btn-secondary",children:"Back to Login"}),(0,En.jsx)(Me,{to:"/register",className:"btn btn-outline",children:"Create New Account"})]})}),(0,En.jsx)("div",{className:"verification-footer",children:(0,En.jsxs)("p",{children:["Need help? ",(0,En.jsx)(Me,{to:"/forgot-password",children:"Contact Support"})]})})]})})},Ra=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),d=(0,a.useRef)(null),h=ie(),m=se();(0,a.useEffect)(()=>{var e;null!==(e=m.state)&&void 0!==e&&e.email&&t(m.state.email),d.current&&d.current.focus()},[m.state]);return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Reset Your Password"})]}),s&&(0,En.jsxs)("div",{className:"success-message",role:"alert",children:[(0,En.jsx)("div",{className:"success-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,En.jsxs)("div",{className:"success-content",children:[(0,En.jsx)("p",{children:s}),(0,En.jsx)("p",{className:"success-note",children:"Please check your email (including spam/junk folder) and follow the instructions to reset your password."})]})]}),n&&(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:n})})]}),!c&&(0,En.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),i(""),l(!0),!e.trim())return r("Email address is required"),void l(!1);if(!(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))(e))return r("Please enter a valid email address"),void l(!1);try{const t=await va.forgotPassword(e.trim());i(t.message),u(!0)}catch(n){console.error("Forgot password error:",n),r(n.message||"Failed to send reset email. Please try again.")}finally{l(!1)}},className:"login-form",noValidate:!0,children:[(0,En.jsx)("div",{className:"form-instructions",children:(0,En.jsx)("p",{children:"Enter your email address and we'll send you a link to reset your password."})}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email Address",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group",children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,En.jsx)("input",{ref:d,id:"email",name:"email",type:"email",autoComplete:"email",value:e,onChange:e=>{const a=e.target.value;t(a),n&&r(""),s&&i("")},disabled:o,placeholder:"Enter your email address",className:"form-input","aria-describedby":n?"email-error":void 0,"aria-required":"true"})]}),n&&(0,En.jsxs)("div",{id:"email-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),n]})]}),(0,En.jsx)("div",{className:"form-group",children:(0,En.jsx)("button",{type:"submit",disabled:o||!e.trim(),className:"auth-btn ".concat(o?"loading":""),"aria-busy":o,children:o?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"spinner"}),"Sending Reset Link..."]}):"Send Reset Link"})}),(0,En.jsx)("div",{className:"security-info",children:(0,En.jsxs)("p",{className:"security-text",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H15C15 13.1 14.1 14 13 14V16H11V14C9.9 14 9 13.1 9 12.01V11H12V8H9V6H12V3H14V6H17V8H14V11H17V12.01C17 14.23 15.21 16 13 16V18H11V16C8.79 16 7 14.21 7 12.01V9H9V12.01C9 12.56 9.45 13.01 10 13.01H12V11.99Z"})}),"For security reasons, reset links expire after 10 minutes."]})})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Remember your password?"," ",(0,En.jsx)("button",{onClick:()=>{h("/login",{state:{email:e}})},className:"link-button",children:"Back to Login"})]}),(0,En.jsxs)("p",{className:"auth-link",children:["Don't have an account?"," ",(0,En.jsx)(Me,{to:"/register",className:"link",children:"Request access"})]}),(0,En.jsxs)("p",{className:"auth-version",children:["IT Support System v",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"]})]})]})})]})},Oa=()=>{const[e,t]=(0,a.useState)({password:"",confirmPassword:""}),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),f=(0,a.useRef)(null),{token:v}=le(),g=ie();(0,a.useEffect)(()=>{(async()=>{if(!v)return u(!1),void r("Invalid reset link. Please request a new password reset.");try{u(!0),f.current&&f.current.focus()}catch(n){console.error("Token validation error:",n),u(!1),r("This password reset link is invalid or has expired.")}})()},[v]);const y=e=>{const{name:a,value:o}=e.target;t(e=>qe(qe({},e),{},{[a]:o})),n&&r(""),s&&i("")},x=e=>{"password"===e?h(!d):"confirmPassword"===e&&p(!m)};return null===c?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Validating Reset Link..."})]}),(0,En.jsxs)("div",{className:"loading-state",children:[(0,En.jsx)("div",{className:"spinner"}),(0,En.jsx)("p",{children:"Please wait while we validate your reset link."})]})]})})]}):!1===c?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Invalid Reset Link"})]}),(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:n})})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Need a new reset link?"," ",(0,En.jsx)(Me,{to:"/forgot-password",className:"link",children:"Request password reset"})]}),(0,En.jsxs)("p",{className:"auth-link",children:["Remember your password?"," ",(0,En.jsx)(Me,{to:"/login",className:"link",children:"Back to Login"})]})]})]})})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"IT Support System"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Reset Your Password"})]}),s&&(0,En.jsxs)("div",{className:"success-message",role:"alert",children:[(0,En.jsx)("div",{className:"success-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,En.jsxs)("div",{className:"success-content",children:[(0,En.jsx)("p",{children:s}),(0,En.jsx)("p",{className:"success-note",children:"You will be redirected to the login page in a few seconds..."})]})]}),n&&(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:n})})]}),!s&&(0,En.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(""),i(""),l(!0),!e.password)return r("Password is required"),void l(!1);if(!e.confirmPassword)return r("Please confirm your password"),void l(!1);const s=(e=>{if(e.length<8)return"Password must be at least 8 characters";const t=/[A-Z]/.test(e),n=/[a-z]/.test(e),r=/\d/.test(e),s=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e);return t&&n&&r&&s?null:"Password must include uppercase, lowercase, numbers, and special characters"})(e.password);if(s)return r(s),void l(!1);if(e.password!==e.confirmPassword)return r("Passwords do not match"),void l(!1);try{const t=await va.resetPassword(v,null,e.password);i(t.message),setTimeout(()=>{g("/login",{state:{message:"Password reset successful. You can now login with your new password."}})},3e3)}catch(n){console.error("Reset password error:",n),r(n.message||"Failed to reset password. Please try again.")}finally{l(!1)}},className:"login-form",noValidate:!0,children:[(0,En.jsx)("div",{className:"form-instructions",children:(0,En.jsx)("p",{children:"Enter your new password below. Make sure it's strong and secure."})}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"password",className:"form-label",children:["New Password",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group",children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{ref:f,id:"password",name:"password",type:d?"text":"password",autoComplete:"new-password",value:e.password,onChange:y,disabled:o,placeholder:"Enter your new password",className:"form-input","aria-describedby":n?"password-error":void 0,"aria-required":"true"}),(0,En.jsx)("button",{type:"button",onClick:()=>x("password"),className:"password-toggle",disabled:o,"aria-label":d?"Hide password":"Show password",children:d?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),n&&(0,En.jsxs)("div",{id:"password-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),n]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:["Confirm New Password",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group",children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:y,disabled:o,placeholder:"Confirm your new password",className:"form-input","aria-describedby":n?"confirm-error":void 0,"aria-required":"true"}),(0,En.jsx)("button",{type:"button",onClick:()=>x("confirmPassword"),className:"password-toggle",disabled:o,"aria-label":m?"Hide password":"Show password",children:m?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),n&&(0,En.jsxs)("div",{id:"confirm-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),n]})]}),(0,En.jsxs)("div",{className:"password-requirements",children:[(0,En.jsx)("h4",{children:"Password Requirements:"}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{children:"At least 8 characters long"}),(0,En.jsx)("li",{children:"At least one uppercase letter (A-Z)"}),(0,En.jsx)("li",{children:"At least one lowercase letter (a-z)"}),(0,En.jsx)("li",{children:"At least one number (0-9)"}),(0,En.jsx)("li",{children:"At least one special character (!@#$%^&*)"})]})]}),(0,En.jsx)("div",{className:"form-group",children:(0,En.jsx)("button",{type:"submit",disabled:o||!e.password||!e.confirmPassword,className:"auth-btn ".concat(o?"loading":""),"aria-busy":o,children:o?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"spinner"}),"Resetting Password..."]}):"Reset Password"})}),(0,En.jsx)("div",{className:"security-info",children:(0,En.jsxs)("p",{className:"security-text",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H15C15 13.1 14.1 14 13 14V16H11V14C9.9 14 9 13.1 9 12.01V11H12V8H9V6H12V3H14V6H17V8H14V11H17V12.01C17 14.23 15.21 16 13 16V18H11V16C8.79 16 7 14.21 7 12.01V9H9V12.01C9 12.56 9.45 13.01 10 13.01H12V11.99Z"})}),"Your new password will be securely encrypted and stored."]})})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Remember your password?"," ",(0,En.jsx)(Me,{to:"/login",className:"link",children:"Back to Login"})]}),(0,En.jsxs)("p",{className:"auth-link",children:["Need a new reset link?"," ",(0,En.jsx)(Me,{to:"/forgot-password",className:"link",children:"Request password reset"})]}),(0,En.jsxs)("p",{className:"auth-version",children:["IT Support System v",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"]})]})]})})]})},Ia=e=>{var t;let{ticket:n,selectable:r=!1,selected:s=!1,onSelect:i}=e;const[o,l]=(0,a.useState)(!1),c=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),u=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),d=((e,t)=>{const n=new Date(e),r=(new Date-n)/36e5,s={critical:4,high:8,medium:24,low:72}[t]||72;return{percent:Math.min(r/s*100,100),overdue:r>s,hoursRemaining:Math.max(s-r,0).toFixed(1)}})(n.createdAt,n.urgency);return(0,En.jsxs)("div",{className:"ticket-card ".concat(s?"selected":""),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[r&&(0,En.jsx)("div",{className:"ticket-selector",children:(0,En.jsx)("input",{type:"checkbox",checked:s,onChange:()=>i(n._id),className:"ticket-checkbox"})}),(0,En.jsxs)("div",{className:"ticket-header",children:[(0,En.jsxs)("div",{className:"ticket-title-section",children:[(0,En.jsx)("h3",{className:"ticket-title",children:(0,En.jsx)(Me,{to:"/tickets/".concat(n._id),className:"ticket-link",children:n.title})}),(0,En.jsxs)("div",{className:"ticket-id",children:["#",n.ticketId]})]}),(0,En.jsxs)("div",{className:"ticket-meta",children:[(0,En.jsx)("span",{className:"status-badge ".concat((m=n.status,{new:"status-new",open:"status-open","in-progress":"status-in-progress","awaiting-user":"status-awaiting-user",resolved:"status-resolved",closed:"status-closed"}[m]||"")),children:n.status.replace("-"," ")}),(0,En.jsx)("span",{className:"urgency-badge ".concat((h=n.urgency,{low:"urgency-low",medium:"urgency-medium",high:"urgency-high",critical:"urgency-critical"}[h]||"")),children:n.urgency})]})]}),(0,En.jsxs)("div",{className:"ticket-body",children:[(0,En.jsx)("p",{className:"ticket-description",title:n.description,children:n.description}),(0,En.jsxs)("div",{className:"ticket-info-grid",children:[(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Type:"}),(0,En.jsx)("span",{className:"info-value",children:n.issueType})]}),(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Created:"}),(0,En.jsx)("span",{className:"info-value",title:u(n.createdAt),children:c(n.createdAt)})]}),(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Updated:"}),(0,En.jsx)("span",{className:"info-value",title:u(n.updatedAt),children:c(n.updatedAt)})]}),n.dueDate&&(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Due:"}),(0,En.jsx)("span",{className:"info-value",children:c(n.dueDate)})]})]}),(0,En.jsxs)("div",{className:"sla-indicator",children:[(0,En.jsxs)("div",{className:"sla-label",children:[(0,En.jsxs)("span",{children:["SLA: ",d.overdue?"Overdue":"".concat(d.hoursRemaining,"h left")]}),(0,En.jsxs)("span",{children:[Math.round(d.percent),"%"]})]}),(0,En.jsx)("div",{className:"sla-progress-bar",children:(0,En.jsx)("div",{className:"sla-progress ".concat(d.overdue?"overdue":""),style:{width:"".concat(d.percent,"%")}})})]})]}),(0,En.jsxs)("div",{className:"ticket-footer",children:[(0,En.jsx)("div",{className:"ticket-assignment",children:n.assignedTo?(0,En.jsxs)("div",{className:"assigned-user",children:[(0,En.jsx)("div",{className:"user-avatar",children:null===(t=n.assignedTo.username)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,En.jsxs)("span",{children:["Assigned to ",n.assignedTo.username]})]}):(0,En.jsx)("span",{className:"unassigned",children:"Unassigned"})}),(0,En.jsxs)("div",{className:"ticket-actions",children:[n.commentCount>0&&(0,En.jsxs)("span",{className:"comment-count",children:["\ud83d\udcac ",n.commentCount]}),n.attachmentCount>0&&(0,En.jsxs)("span",{className:"attachment-count",children:["\ud83d\udcce ",n.attachmentCount]}),(0,En.jsx)(Me,{to:"/tickets/".concat(n._id),className:"view-details-btn",children:o?"View Details \u2192":"View"})]})]})]});var h,m},Aa={createTicket:async e=>(await da.post("/tickets",e)).data,getTickets:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;Object.keys(e).forEach(n=>{""!==e[n]&&null!==e[n]&&void 0!==e[n]&&(Array.isArray(e[n])?e[n].forEach(e=>t.append(n,e)):t.append(n,e[n]))});return(await da.get("/tickets?".concat(t))).data},getTicket:async e=>(await da.get("/tickets/".concat(e))).data,updateTicket:async(e,t)=>(await da.put("/tickets/".concat(e),t)).data,getAllTickets:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;Object.keys(e).forEach(n=>{""!==e[n]&&null!==e[n]&&void 0!==e[n]&&t.append(n,e[n])});return(await da.get("/tickets/admin/all?".concat(t))).data},deleteTicket:async e=>(await da.delete("/tickets/admin/".concat(e))).data,bulkDeleteTickets:async e=>(await da.post("/tickets/admin/bulk-delete",{ticketIds:e})).data,forceAssignTicket:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await da.put("/tickets/admin/".concat(e,"/assign"),{technicianId:t,reason:n,forced:!0})).data},escalateTicket:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await da.put("/tickets/admin/".concat(e,"/escalate"),{priority:t,reason:n})).data},bulkUpdateStatus:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await da.patch("/tickets/bulk/status",{ticketIds:e,status:t,notes:n})).data},bulkAssignTickets:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await da.patch("/tickets/bulk/assign",{ticketIds:e,assigneeId:t,notes:n})).data},bulkUpdatePriority:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await da.patch("/tickets/bulk/priority",{ticketIds:e,priority:t,notes:n})).data},getTicketStats:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await da.get("/tickets/stats?range=".concat(e))).data},getSystemAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return(await da.get("/tickets/admin/analytics?period=".concat(e,"&department=").concat(t))).data},getDepartmentStats:async()=>(await da.get("/tickets/analytics/departments")).data,getTechnicianPerformance:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return(await da.get("/tickets/analytics/technicians?period=".concat(e))).data},getSLACompliance:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return(await da.get("/tickets/analytics/sla?period=".concat(e))).data},exportTickets:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";const n=new URLSearchParams;Object.keys(e).forEach(t=>{e[t]&&n.append(t,e[t])}),n.append("format",t);return(await da.get("/tickets/export?".concat(n),{responseType:"blob"})).data},exportAllTickets:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";const n=new URLSearchParams;Object.keys(e).forEach(t=>{e[t]&&n.append(t,e[t])}),n.append("format",t);return(await da.get("/tickets/admin/export?".concat(n),{responseType:"blob"})).data},addComment:async(e,t)=>(await da.post("/tickets/".concat(e,"/comments"),t)).data,updateComment:async(e,t,n)=>(await da.put("/tickets/".concat(e,"/comments/").concat(t),n)).data,deleteComment:async(e,t)=>(await da.delete("/tickets/".concat(e,"/comments/").concat(t))).data,addInternalNote:async(e,t)=>(await da.post("/tickets/admin/".concat(e,"/internal-notes"),{content:t,isInternal:!0})).data,getActivities:async e=>(await da.get("/tickets/".concat(e,"/activities"))).data,getComments:async e=>(await da.get("/tickets/".concat(e,"/comments"))).data,getSystemActivityLogs:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;Object.keys(e).forEach(n=>{e[n]&&t.append(n,e[n])});return(await da.get("/tickets/admin/activity-logs?".concat(t))).data},uploadAttachment:async(e,t)=>{const n=new FormData;n.append("file",t);return(await da.post("/tickets/".concat(e,"/attachments"),n,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteAttachment:async(e,t)=>(await da.delete("/tickets/".concat(e,"/attachments/").concat(t))).data,getSLAStatus:async e=>(await da.get("/tickets/".concat(e,"/sla"))).data,updateSLAPolicy:async e=>(await da.put("/tickets/admin/sla-policy",e)).data,getAvailableTechnicians:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e?"?department=".concat(e):"";return(await da.get("/tickets/technicians/available".concat(t))).data},getTechnicianWorkload:async()=>(await da.get("/tickets/admin/technician-workload")).data,updateNotificationPreferences:async e=>(await da.put("/users/notifications/preferences",e)).data,sendSystemNotification:async e=>(await da.post("/tickets/admin/system-notification",e)).data,debugGetAllTickets:async()=>(await da.get("/tickets/debug/all-tickets")).data,debugTestCreate:async()=>(await da.post("/tickets/debug/test-create")).data,debugGetSystemStatus:async()=>(await da.get("/tickets/debug/status")).data,runSystemCleanup:async()=>(await da.post("/tickets/admin/system-cleanup")).data,generateReportUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;return Object.keys(e).forEach(n=>{e[n]&&t.append(n,e[n])}),"/api/tickets/export?".concat(t)},validateTicketData:e=>{const t=[];return(!e.title||e.title.trim().length<5)&&t.push("Title must be at least 5 characters long"),(!e.description||e.description.trim().length<10)&&t.push("Description must be at least 10 characters long"),e.issueType||t.push("Issue type is required"),t},formatTicket:e=>{var t,n;return qe(qe({},e),{},{formattedCreatedAt:new Date(e.createdAt).toLocaleDateString(),formattedUrgency:(null===(t=e.urgency)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.urgency)||void 0===n?void 0:n.slice(1)),isOverdue:!!e.dueDate&&new Date(e.dueDate)<new Date})}},La=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({total:0,open:0,inProgress:0,resolved:0}),[s,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await Aa.getTickets({limit:5});t(e.tickets);const n=e.tickets.length,s=e.tickets.filter(e=>"open"===e.status).length,a=e.tickets.filter(e=>"in-progress"===e.status).length,i=e.tickets.filter(e=>"resolved"===e.status||"closed"===e.status).length;r({total:n,open:s,inProgress:a,resolved:i})}catch(e){console.error("Error fetching tickets:",e)}finally{i(!1)}};return s?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"loading",children:"Loading dashboard..."})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"dashboard",children:[(0,En.jsxs)("div",{className:"dashboard-header",children:[(0,En.jsx)("h1",{children:"Staff Dashboard"}),(0,En.jsx)(Me,{to:"/create-ticket",className:"btn-primary",children:"Create New Ticket"})]}),(0,En.jsxs)("div",{className:"stats-grid",children:[(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h3",{children:"Total Tickets"}),(0,En.jsx)("div",{className:"stat-number",children:n.total})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h3",{children:"Open"}),(0,En.jsx)("div",{className:"stat-number",children:n.open})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h3",{children:"In Progress"}),(0,En.jsx)("div",{className:"stat-number",children:n.inProgress})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h3",{children:"Resolved"}),(0,En.jsx)("div",{className:"stat-number",children:n.resolved})]})]}),(0,En.jsxs)("div",{className:"recent-tickets",children:[(0,En.jsx)("h2",{children:"Recent Tickets"}),0===e.length?(0,En.jsxs)("p",{children:["No tickets found. ",(0,En.jsx)(Me,{to:"/create-ticket",children:"Create your first ticket"})]}):(0,En.jsx)("div",{className:"tickets-grid",children:e.map(e=>(0,En.jsx)(Ia,{ticket:e},e._id))}),(0,En.jsx)("div",{className:"view-all",children:(0,En.jsx)(Me,{to:"/tickets",className:"btn-secondary",children:"View All Tickets"})})]})]})]})},Ma=e=>{let{title:t,value:n,change:r,changeType:s,icon:a,color:i="primary",description:o}=e;return(0,En.jsxs)("div",{className:"stat-card ".concat(i),children:[(0,En.jsxs)("div",{className:"stat-header",children:[(0,En.jsx)("div",{className:"stat-icon",children:a}),(0,En.jsxs)("div",{className:"stat-info",children:[(0,En.jsx)("h3",{className:"stat-title",children:t}),o&&(0,En.jsx)("p",{className:"stat-description",children:o})]})]}),(0,En.jsx)("div",{className:"stat-value",children:n}),void 0!==r&&(0,En.jsxs)("div",{className:"stat-change ".concat(r?"increase"===s?"positive":"negative":""),children:[(0,En.jsx)("span",{className:"change-icon",children:r?"increase"===s?"\u2197\ufe0f":"\u2198\ufe0f":null}),(0,En.jsxs)("span",{className:"change-value",children:[Math.abs(r),"%"]}),(0,En.jsx)("span",{className:"change-label",children:"from previous period"})]})]})},Da=e=>{let{label:t,description:n,icon:r,path:s,action:a,color:i="primary",emergency:o=!1}=e;const l=()=>(0,En.jsxs)("div",{className:"quick-action-card ".concat(i," ").concat(o?"emergency":""),children:[(0,En.jsx)("div",{className:"action-icon",children:r}),(0,En.jsxs)("div",{className:"action-content",children:[(0,En.jsx)("h4",{className:"action-label",children:t}),(0,En.jsx)("p",{className:"action-description",children:n})]}),(0,En.jsx)("div",{className:"action-arrow",children:"\u2192"})]});return s?(0,En.jsx)(Me,{to:s,className:"quick-action-link",children:(0,En.jsx)(l,{})}):(0,En.jsx)("button",{onClick:a,className:"quick-action-button",children:(0,En.jsx)(l,{})})};function za(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ua,Fa,Ba,Va,qa,Ha,Wa,Qa,Ka,$a,Ya,Za,Xa,Ga,Ja,ei,ti=(Ua=new WeakMap,Fa=new WeakMap,Ba=new WeakMap,Va=new WeakMap,qa=new WeakMap,Ha=new WeakMap,Wa=new WeakMap,Qa=new WeakMap,Ka=new WeakMap,$a=new WeakMap,Ya=new WeakMap,Za=new WeakMap,Xa=new WeakMap,Ga=new WeakMap,Ja=new WeakMap,ei=new WeakSet,class extends Rt{constructor(e,t){super(),jt(this,ei),We(this,Ua,void 0),We(this,Fa,void 0),We(this,Ba,void 0),We(this,Va,void 0),We(this,qa,void 0),We(this,Ha,void 0),We(this,Wa,void 0),We(this,Qa,void 0),We(this,Ka,void 0),We(this,$a,void 0),We(this,Ya,void 0),We(this,Za,void 0),We(this,Xa,void 0),We(this,Ga,void 0),We(this,Ja,new Set),this.options=t,$e(Ua,this,e),$e(Qa,this,null),$e(Wa,this,At()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Ke(Fa,this).addObserver(this),di(Ke(Fa,this),this.options)?Qe(ei,this,ni).call(this):this.updateResult(),Qe(ei,this,ii).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hi(Ke(Fa,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hi(Ke(Fa,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(ei,this,oi).call(this),Qe(ei,this,li).call(this),Ke(Fa,this).removeObserver(this)}setOptions(e){const t=this.options,n=Ke(Fa,this);if(this.options=Ke(Ua,this).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof st(this.options.enabled,Ke(Fa,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(ei,this,ci).call(this),Ke(Fa,this).setOptions(this.options),t._defaulted&&!ht(this.options,t)&&Ke(Ua,this).getQueryCache().notify({type:"observerOptionsUpdated",query:Ke(Fa,this),observer:this});const r=this.hasListeners();r&&mi(Ke(Fa,this),n,this.options,t)&&Qe(ei,this,ni).call(this),this.updateResult(),!r||Ke(Fa,this)===n&&st(this.options.enabled,Ke(Fa,this))===st(t.enabled,Ke(Fa,this))&&rt(this.options.staleTime,Ke(Fa,this))===rt(t.staleTime,Ke(Fa,this))||Qe(ei,this,ri).call(this);const s=Qe(ei,this,si).call(this);!r||Ke(Fa,this)===n&&st(this.options.enabled,Ke(Fa,this))===st(t.enabled,Ke(Fa,this))&&s===Ke(Ga,this)||Qe(ei,this,ai).call(this,s)}getOptimisticResult(e){const t=Ke(Ua,this).getQueryCache().build(Ke(Ua,this),e),n=this.createResult(t,e);return function(e,t){if(!ht(e.getCurrentResult(),t))return!0;return!1}(this,n)&&($e(Va,this,n),$e(Ha,this,this.options),$e(qa,this,Ke(Fa,this).state)),n}getCurrentResult(){return Ke(Va,this)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null===t||void 0===t||t(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==Ke(Wa,this).status||Ke(Wa,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){Ke(Ja,this).add(e)}getCurrentQuery(){return Ke(Fa,this)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return this.fetch(qe({},t))}fetchOptimistic(e){const t=Ke(Ua,this).defaultQueryOptions(e),n=Ke(Ua,this).getQueryCache().build(Ke(Ua,this),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return Qe(ei,this,ni).call(this,qe(qe({},e),{},{cancelRefetch:null===(t=e.cancelRefetch)||void 0===t||t})).then(()=>(this.updateResult(),Ke(Va,this)))}createResult(e,t){const n=Ke(Fa,this),r=this.options,s=Ke(Va,this),a=Ke(qa,this),i=Ke(Ha,this),o=e!==n?e.state:Ke(Ba,this),{state:l}=e;let c,u=qe({},l),d=!1;if(t._optimisticResults){const s=this.hasListeners(),a=!s&&di(e,t),i=s&&mi(e,n,t,r);(a||i)&&(u=qe(qe({},u),Gt(l.data,e.options))),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:p}=u;c=u.data;let f=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;var v;if(null!==s&&void 0!==s&&s.isPlaceholderData&&t.placeholderData===(null===i||void 0===i?void 0:i.placeholderData))e=s.data,f=!0;else e="function"===typeof t.placeholderData?t.placeholderData(null===(v=Ke(Ya,this))||void 0===v?void 0:v.state.data,Ke(Ya,this)):t.placeholderData;void 0!==e&&(p="success",c=vt(null===s||void 0===s?void 0:s.data,e,t),d=!0)}if(t.select&&void 0!==c&&!f)if(s&&c===(null===a||void 0===a?void 0:a.data)&&t.select===Ke(Ka,this))c=Ke($a,this);else try{$e(Ka,this,t.select),c=t.select(c),c=vt(null===s||void 0===s?void 0:s.data,c,t),$e($a,this,c),$e(Qa,this,null)}catch(k){$e(Qa,this,k)}Ke(Qa,this)&&(h=Ke(Qa,this),c=Ke($a,this),m=Date.now(),p="error");const g="fetching"===u.fetchStatus,y="pending"===p,x="error"===p,b=y&&g,w=void 0!==c,j={status:p,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===p,isError:x,isInitialLoading:b,isLoading:b,data:c,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:x&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:x&&w,isStale:pi(e,t),refetch:this.refetch,promise:Ke(Wa,this),isEnabled:!1!==st(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},r=()=>{const e=$e(Wa,this,j.promise=At());t(e)},s=Ke(Wa,this);switch(s.status){case"pending":e.queryHash===n.queryHash&&t(s);break;case"fulfilled":"error"!==j.status&&j.data===s.value||r();break;case"rejected":"error"===j.status&&j.error===s.reason||r()}}return j}updateResult(){const e=Ke(Va,this),t=this.createResult(Ke(Fa,this),this.options);if($e(qa,this,Ke(Fa,this).state),$e(Ha,this,this.options),void 0!==Ke(qa,this).data&&$e(Ya,this,Ke(Fa,this)),ht(t,e))return;$e(Va,this,t);Qe(ei,this,ui).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!Ke(Ja,this).size)return!0;const r=new Set(null!==n&&void 0!==n?n:Ke(Ja,this));return this.options.throwOnError&&r.add("error"),Object.keys(Ke(Va,this)).some(t=>{const n=t;return Ke(Va,this)[n]!==e[n]&&r.has(n)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(ei,this,ii).call(this)}});function ni(e){Qe(ei,this,ci).call(this);let t=Ke(Fa,this).fetch(this.options,e);return null!==e&&void 0!==e&&e.throwOnError||(t=t.catch(et)),t}function ri(){Qe(ei,this,oi).call(this);const e=rt(this.options.staleTime,Ke(Fa,this));if(Je||Ke(Va,this).isStale||!tt(e))return;const t=nt(Ke(Va,this).dataUpdatedAt,e)+1;$e(Za,this,Ge.setTimeout(()=>{Ke(Va,this).isStale||this.updateResult()},t))}function si(){var e;return null!==(e="function"===typeof this.options.refetchInterval?this.options.refetchInterval(Ke(Fa,this)):this.options.refetchInterval)&&void 0!==e&&e}function ai(e){Qe(ei,this,li).call(this),$e(Ga,this,e),!Je&&!1!==st(this.options.enabled,Ke(Fa,this))&&tt(Ke(Ga,this))&&0!==Ke(Ga,this)&&$e(Xa,this,Ge.setInterval(()=>{(this.options.refetchIntervalInBackground||Ot.isFocused())&&Qe(ei,this,ni).call(this)},Ke(Ga,this)))}function ii(){Qe(ei,this,ri).call(this),Qe(ei,this,ai).call(this,Qe(ei,this,si).call(this))}function oi(){Ke(Za,this)&&(Ge.clearTimeout(Ke(Za,this)),$e(Za,this,void 0))}function li(){Ke(Xa,this)&&(Ge.clearInterval(Ke(Xa,this)),$e(Xa,this,void 0))}function ci(){const e=Ke(Ua,this).getQueryCache().build(Ke(Ua,this),this.options);if(e===Ke(Fa,this))return;const t=Ke(Fa,this);$e(Fa,this,e),$e(Ba,this,e.state),this.hasListeners()&&(null===t||void 0===t||t.removeObserver(this),e.addObserver(this))}function ui(e){_t.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Ke(Va,this))}),Ke(Ua,this).getQueryCache().notify({query:Ke(Fa,this),type:"observerResultsUpdated"})})}function di(e,t){return function(e,t){return!1!==st(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&hi(e,t,t.refetchOnMount)}function hi(e,t,n){if(!1!==st(t.enabled,e)&&"static"!==rt(t.staleTime,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&pi(e,t)}return!1}function mi(e,t,n,r){return(e!==t||!1===st(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&pi(e,n)}function pi(e,t){return!1!==st(t.enabled,e)&&e.isStaleByTime(rt(t.staleTime,e))}function fi(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vi,gi,yi,xi,bi,wi=a.createContext(fi()),ji=a.createContext(!1),ki=(ji.Provider,(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()}));function Ni(e,t,n){var r,s,i,o;const l=a.useContext(ji),c=a.useContext(wi),u=Pn(n),d=u.defaultQueryOptions(e);null===(r=u.getDefaultOptions().queries)||void 0===r||null===(s=r._experimental_beforeQuery)||void 0===s||s.call(r,d),d._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(null!==e&&void 0!==e?e:t,t),r=e.staleTime;e.staleTime="function"===typeof r?function(){return n(r(...arguments))}:n(r),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,c),(e=>{a.useEffect(()=>{e.clearReset()},[e])})(c);const h=!u.getQueryCache().get(d.queryHash),[m]=a.useState(()=>new t(u,d)),p=m.getOptimisticResult(d),f=!l&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback(e=>{const t=f?m.subscribe(_t.batchCalls(e)):et;return m.updateResult(),t},[m,f]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),a.useEffect(()=>{m.setOptions(d)},[d,m]),((e,t)=>(null===e||void 0===e?void 0:e.suspense)&&t.isPending)(d,p))throw ki(d,m,c);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:s,suspense:a}=e;return t.isError&&!n.isReset()&&!t.isFetching&&s&&(a&&void 0===t.data||wt(r,[t.error,s]))})({result:p,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null===(i=u.getDefaultOptions().queries)||void 0===i||null===(o=i._experimental_afterQuery)||void 0===o||o.call(i,d,p),d.experimental_prefetchInRender&&!Je&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,l)){var v;const e=h?ki(d,m,c):null===(v=u.getQueryCache().get(d.queryHash))||void 0===v?void 0:v.promise;null===e||void 0===e||e.catch(et).finally(()=>{m.updateResult()})}return d.notifyOnChangeProps?p:m.trackResult(p)}function Si(e,t){return Ni(e,ti,t)}var Ci=(vi=new WeakMap,gi=new WeakMap,yi=new WeakMap,xi=new WeakMap,bi=new WeakSet,class extends Rt{constructor(e,t){super(),jt(this,bi),We(this,vi,void 0),We(this,gi,void 0),We(this,yi,void 0),We(this,xi,void 0),$e(vi,this,e),this.setOptions(t),this.bindMethods(),Qe(bi,this,Ei).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=Ke(vi,this).defaultMutationOptions(e),ht(this.options,n)||Ke(vi,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ke(yi,this),observer:this}),null!==n&&void 0!==n&&n.mutationKey&&this.options.mutationKey&&lt(n.mutationKey)!==lt(this.options.mutationKey)?this.reset():"pending"===(null===(t=Ke(yi,this))||void 0===t?void 0:t.state.status)&&Ke(yi,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Ke(yi,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){Qe(bi,this,Ei).call(this),Qe(bi,this,Ti).call(this,e)}getCurrentResult(){return Ke(gi,this)}reset(){var e;null===(e=Ke(yi,this))||void 0===e||e.removeObserver(this),$e(yi,this,void 0),Qe(bi,this,Ei).call(this),Qe(bi,this,Ti).call(this)}mutate(e,t){var n;return $e(xi,this,t),null===(n=Ke(yi,this))||void 0===n||n.removeObserver(this),$e(yi,this,Ke(vi,this).getMutationCache().build(Ke(vi,this),this.options)),Ke(yi,this).addObserver(this),Ke(yi,this).execute(e)}});function Ei(){var e,t;const n=null!==(e=null===(t=Ke(yi,this))||void 0===t?void 0:t.state)&&void 0!==e?e:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};$e(gi,this,qe(qe({},n),{},{isPending:"pending"===n.status,isSuccess:"success"===n.status,isError:"error"===n.status,isIdle:"idle"===n.status,mutate:this.mutate,reset:this.reset}))}function Ti(e){_t.batch(()=>{if(Ke(xi,this)&&this.hasListeners()){const c=Ke(gi,this).variables,u=Ke(gi,this).context,d={client:Ke(vi,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var t,n,r,s;if("success"===(null===e||void 0===e?void 0:e.type))null===(t=(n=Ke(xi,this)).onSuccess)||void 0===t||t.call(n,e.data,c,u,d),null===(r=(s=Ke(xi,this)).onSettled)||void 0===r||r.call(s,e.data,null,c,u,d);else if("error"===(null===e||void 0===e?void 0:e.type)){var a,i,o,l;null===(a=(i=Ke(xi,this)).onError)||void 0===a||a.call(i,e.error,c,u,d),null===(o=(l=Ke(xi,this)).onSettled)||void 0===o||o.call(l,void 0,e.error,c,u,d)}}this.listeners.forEach(e=>{e(Ke(gi,this))})})}function Pi(e,t){const n=Pn(t),[r]=a.useState(()=>new Ci(n,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);const s=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(_t.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=a.useCallback((e,t)=>{r.mutate(e,t).catch(et)},[r]);if(s.error&&wt(r.options.throwOnError,[s.error]))throw s.error;return qe(qe({},s),{},{mutate:i,mutateAsync:s.mutate})}const _i={getTechnicians:async()=>(await da.get("/users/technicians")).data,getDashboardStats:async()=>(await da.get("/users/dashboard/stats")).data,getDepartmentStats:async()=>(await da.get("/users/dashboard/department/stats")).data,getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;Object.keys(e).forEach(n=>{""!==e[n]&&null!==e[n]&&void 0!==e[n]&&t.append(n,e[n])});return(await da.get("/users/admin/users?".concat(t))).data},createUser:async e=>(await da.post("/users/admin/users",e)).data,updateUser:async(e,t)=>(await da.put("/users/admin/users/".concat(e),t)).data,deleteUser:async e=>(await da.delete("/users/admin/users/".concat(e))).data,getUserById:async e=>(await da.get("/users/admin/users/".concat(e))).data,deactivateUser:async e=>{console.log("\ud83d\udd04 userService: Deactivating user",e);try{const t=await da.put("/users/admin/users/".concat(e,"/deactivate"));return console.log("\u2705 userService: User deactivated successfully"),t.data}catch(n){var t;throw console.error("\u274c userService: Deactivation error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},reactivateUser:async e=>{console.log("\ud83d\udd04 userService: Reactivating user",e);try{const t=await da.put("/users/admin/users/".concat(e,"/reactivate"));return console.log("\u2705 userService: User reactivated successfully"),t.data}catch(n){var t;throw console.error("\u274c userService: Reactivation error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},getUserStats:async()=>(await da.get("/users/admin/stats")).data,getSystemStats:async()=>(await da.get("/users/admin/system-stats")).data,getCurrentUser:async()=>(await da.get("/users/me")).data,updateProfile:async e=>(await da.put("/users/profile",e)).data,changePassword:async(e,t)=>(await da.put("/users/change-password",{currentPassword:e,newPassword:t})).data,validateUserData:e=>{const t=[];return(!e.username||e.username.trim().length<3)&&t.push("Username must be at least 3 characters long"),e.email&&/\S+@\S+\.\S+/.test(e.email)||t.push("Valid email address is required"),(!e.password||e.password.length<6)&&t.push("Password must be at least 6 characters long"),e.role||t.push("User role is required"),t},formatUser:e=>{var t,n;return qe(qe({},e),{},{formattedCreatedAt:new Date(e.createdAt).toLocaleDateString(),formattedLastLogin:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never",status:e.isActive?e.isVerified?"Active":"Pending Verification":"Inactive",roleDisplay:(null===(t=e.role)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=e.role)||void 0===n?void 0:n.slice(1))})},isAdmin:e=>"admin"===(null===e||void 0===e?void 0:e.role),canManageUsers:e=>["admin","technician"].includes(null===e||void 0===e?void 0:e.role)},Ri=e=>{let{onSubmit:t,onClose:n,loading:r}=e;const[s,i]=(0,a.useState)({username:"",email:"",password:"",role:"student",department:"General"}),o=e=>{i(qe(qe({},s),{},{[e.target.name]:e.target.value}))};return(0,En.jsx)("div",{className:"modal-overlay",children:(0,En.jsxs)("div",{className:"modal",children:[(0,En.jsx)("h3",{children:"Create New User"}),(0,En.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(s)},children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Username:"}),(0,En.jsx)("input",{type:"text",name:"username",value:s.username,onChange:o,required:!0,minLength:"3",placeholder:"Enter username"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Email:"}),(0,En.jsx)("input",{type:"email",name:"email",value:s.email,onChange:o,required:!0,placeholder:"Enter email address"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Password:"}),(0,En.jsx)("input",{type:"password",name:"password",value:s.password,onChange:o,required:!0,minLength:"6",placeholder:"Enter password"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Role:"}),(0,En.jsxs)("select",{name:"role",value:s.role,onChange:o,required:!0,children:[(0,En.jsx)("option",{value:"student",children:"Student"}),(0,En.jsx)("option",{value:"staff",children:"Staff"}),(0,En.jsx)("option",{value:"technician",children:"Technician"}),(0,En.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Department:"}),(0,En.jsx)("input",{type:"text",name:"department",value:s.department,onChange:o,required:!0,placeholder:"Enter department"})]}),(0,En.jsxs)("div",{className:"modal-actions",children:[(0,En.jsx)("button",{type:"button",onClick:n,disabled:r,children:"Cancel"}),(0,En.jsx)("button",{type:"submit",disabled:r,children:r?"Creating...":"Create User"})]})]})]})})},Oi=e=>{let{user:t,onSubmit:n,onClose:r,loading:s}=e;const[i,o]=(0,a.useState)({username:"",email:"",role:"student",department:"General",isActive:!0,isVerified:!1,studentId:"",phone:""});(0,a.useEffect)(()=>{t&&o({username:t.username||"",email:t.email||"",role:t.role||"student",department:t.department||"General",isActive:void 0===t.isActive||t.isActive,isVerified:void 0!==t.isVerified&&t.isVerified,studentId:t.studentId||"",phone:t.phone||""})},[t]);const l=e=>{const{name:t,value:n,type:r,checked:s}=e.target;o(e=>qe(qe({},e),{},{[t]:"checkbox"===r?s:n}))};return t?(0,En.jsx)("div",{className:"modal-overlay",children:(0,En.jsxs)("div",{className:"modal",children:[(0,En.jsxs)("h3",{children:["Edit User: ",t.username]}),(0,En.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(i)},children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Username:"}),(0,En.jsx)("input",{type:"text",name:"username",value:i.username,onChange:l,required:!0,minLength:"3"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Email:"}),(0,En.jsx)("input",{type:"email",name:"email",value:i.email,onChange:l,required:!0})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Role:"}),(0,En.jsxs)("select",{name:"role",value:i.role,onChange:l,required:!0,children:[(0,En.jsx)("option",{value:"student",children:"Student"}),(0,En.jsx)("option",{value:"staff",children:"Staff"}),(0,En.jsx)("option",{value:"technician",children:"Technician"}),(0,En.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Department:"}),(0,En.jsx)("input",{type:"text",name:"department",value:i.department,onChange:l,required:!0})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Student ID:"}),(0,En.jsx)("input",{type:"text",name:"studentId",value:i.studentId,onChange:l,placeholder:"Optional"})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Phone:"}),(0,En.jsx)("input",{type:"text",name:"phone",value:i.phone,onChange:l,placeholder:"Optional"})]}),(0,En.jsxs)("div",{className:"form-row",children:[(0,En.jsx)("div",{className:"form-group checkbox-group",children:(0,En.jsxs)("label",{children:[(0,En.jsx)("input",{type:"checkbox",name:"isActive",checked:i.isActive,onChange:l}),"Active User"]})}),(0,En.jsx)("div",{className:"form-group checkbox-group",children:(0,En.jsxs)("label",{children:[(0,En.jsx)("input",{type:"checkbox",name:"isVerified",checked:i.isVerified,onChange:l}),"Email Verified"]})})]}),(0,En.jsxs)("div",{className:"modal-actions",children:[(0,En.jsx)("button",{type:"button",onClick:r,disabled:s,children:"Cancel"}),(0,En.jsx)("button",{type:"submit",disabled:s,children:s?"Updating...":"Update User"})]})]})]})}):null},Ii=["search"],Ai=["role"],Li=["isActive"],Mi=()=>{var e;const[t,n]=(0,a.useState)({}),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),{data:h,isLoading:m,error:p,refetch:f}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Si({queryKey:["users",e],queryFn:async()=>{console.log("\ud83d\udd04 Fetching users with filters:",e);try{const t=await _i.getAllUsers(e);return console.log("\u2705 Users fetched:",t),t}catch(p){throw console.error("\u274c Users fetch error:",p),p}},retry:1})}(t),v=(()=>{const e=Pn();return Pi({mutationFn:async e=>{console.log("\ud83d\udd04 Creating user:",e);try{const t=await _i.createUser(e);return console.log("\u2705 User created:",t),t}catch(p){throw console.error("\u274c User creation error:",p),p}},onSuccess:()=>{e.invalidateQueries(["adminDashboard"]),e.invalidateQueries(["users"])}})})(),g=(()=>{const e=Pn();return Pi({mutationFn:e=>{let{id:t,userData:n}=e;return _i.updateUser(t,n)},onSuccess:()=>{e.invalidateQueries(["adminDashboard"]),e.invalidateQueries(["users"])}})})(),y=(()=>{const e=Pn();return Pi({mutationFn:async e=>{console.log("\ud83d\udd04 Deleting user:",e);try{const t=await _i.deleteUser(e);return console.log("\u2705 User deleted:",t),t}catch(p){throw console.error("\u274c User deletion error:",p),p}},onSuccess:()=>{e.invalidateQueries(["adminDashboard"]),e.invalidateQueries(["users"])}})})(),x=(()=>{const e=Pn();return Pi({mutationFn:async e=>{console.log("\ud83d\udd04 Deactivating user:",e);try{const t=await _i.deactivateUser(e);return console.log("\u2705 User deactivated:",t),t}catch(p){throw console.error("\u274c User deactivation error:",p),p}},onSuccess:()=>{e.invalidateQueries(["adminDashboard"]),e.invalidateQueries(["users"])}})})(),b=(()=>{const e=Pn();return Pi({mutationFn:async e=>{console.log("\ud83d\udd04 Reactivating user:",e);try{const t=await _i.reactivateUser(e);return console.log("\u2705 User reactivated:",t),t}catch(p){throw console.error("\u274c User reactivation error:",p),p}},onSuccess:()=>{e.invalidateQueries(["adminDashboard"]),e.invalidateQueries(["users"])}})})(),w=(null===h||void 0===h?void 0:h.users)||[],j=h||{},k=async e=>{if(window.confirm("Deactivate this user? They will not be able to log in but their data will be preserved."))try{await x.mutateAsync(e),f(),alert("User deactivated successfully")}catch(p){console.error("User deactivation failed:",p),alert("Error deactivating user: "+p.message)}},N=async e=>{try{await b.mutateAsync(e),f(),alert("User reactivated successfully")}catch(p){console.error("User reactivation failed:",p),alert("Error reactivating user: "+p.message)}};return m?(0,En.jsxs)("div",{className:"loading-container",children:[(0,En.jsx)("div",{className:"loading-spinner"}),(0,En.jsx)("p",{children:"Loading user data..."})]}):p?(0,En.jsxs)("div",{className:"error-container",children:[(0,En.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,En.jsx)("h3",{children:"Data Loading Error"}),(0,En.jsxs)("p",{children:["Unable to load user information: ",p.message]}),(0,En.jsx)("button",{onClick:f,className:"btn-primary",children:"Retry"})]}):(0,En.jsxs)("div",{className:"user-management",children:[(0,En.jsxs)("div",{className:"section-header",children:[(0,En.jsxs)("div",{className:"header-title",children:[(0,En.jsx)("h2",{children:"User Management"}),(0,En.jsx)("p",{className:"subtitle",children:"Manage system user accounts and permissions"})]}),(0,En.jsxs)("div",{className:"header-actions",children:[(0,En.jsx)("button",{className:"btn-primary",onClick:()=>s(!0),disabled:v.isLoading,children:v.isLoading?"Creating...":"Create New User"}),(0,En.jsx)("button",{className:"btn-secondary",onClick:f,disabled:m,children:"Refresh Data"})]})]}),(0,En.jsxs)("div",{className:"controls-section",children:[(0,En.jsx)("div",{className:"search-box",children:(0,En.jsx)("input",{type:"text",placeholder:"Search users by name, email, or ID...",value:u,onChange:e=>(e=>{if(d(e),e.trim())n(t=>qe(qe({},t),{},{search:e}));else{const{search:e}=t,r=za(t,Ii);n(r)}})(e.target.value),className:"search-input"})}),(0,En.jsxs)("div",{className:"filter-controls",children:[(0,En.jsxs)("select",{onChange:e=>(e=>{if(e&&"all"!==e)n(t=>qe(qe({},t),{},{role:e}));else{const{role:e}=t,r=za(t,Ai);n(r)}})(e.target.value),className:"filter-select",children:[(0,En.jsx)("option",{value:"all",children:"All Roles"}),(0,En.jsx)("option",{value:"student",children:"Students"}),(0,En.jsx)("option",{value:"staff",children:"Staff"}),(0,En.jsx)("option",{value:"technician",children:"Technicians"}),(0,En.jsx)("option",{value:"admin",children:"Administrators"})]}),(0,En.jsxs)("select",{onChange:e=>(e=>{if(void 0!==e)n(t=>qe(qe({},t),{},{isActive:e.toString()}));else{const{isActive:e}=t,r=za(t,Li);n(r)}})("all"===e.target.value?void 0:"active"===e.target.value),className:"filter-select",children:[(0,En.jsx)("option",{value:"all",children:"All Status"}),(0,En.jsx)("option",{value:"active",children:"Active Only"}),(0,En.jsx)("option",{value:"inactive",children:"Inactive Only"})]})]})]}),(0,En.jsxs)("div",{className:"stats-summary",children:[(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-value",children:j.total||0}),(0,En.jsx)("span",{className:"stat-label",children:"Total Users"})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-value",children:w.filter(e=>e.isActive).length}),(0,En.jsx)("span",{className:"stat-label",children:"Active Users"})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-value",children:w.filter(e=>"admin"===e.role).length}),(0,En.jsx)("span",{className:"stat-label",children:"Administrators"})]})]}),(0,En.jsx)("div",{className:"users-table-container",children:(0,En.jsx)("div",{className:"users-table",children:(0,En.jsxs)("table",{children:[(0,En.jsx)("thead",{children:(0,En.jsxs)("tr",{children:[(0,En.jsx)("th",{children:"User Information"}),(0,En.jsx)("th",{children:"Contact"}),(0,En.jsx)("th",{children:"Role"}),(0,En.jsx)("th",{children:"Department"}),(0,En.jsx)("th",{children:"Account Status"}),(0,En.jsx)("th",{children:"Management Actions"})]})}),(0,En.jsx)("tbody",{children:0===w.length?(0,En.jsx)("tr",{children:(0,En.jsxs)("td",{colSpan:"6",className:"empty-state",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83d\udc65"}),(0,En.jsx)("h3",{children:"No Users Found"}),(0,En.jsx)("p",{children:Object.keys(t).length>0?"No users match your current filters":"No user accounts have been created yet"}),Object.keys(t).length>0&&(0,En.jsx)("button",{onClick:()=>n({}),className:"btn-secondary",children:"Clear Filters"})]})}):w.map(e=>{var t;return(0,En.jsxs)("tr",{className:"user-row",children:[(0,En.jsxs)("td",{className:"user-info",children:[(0,En.jsx)("div",{className:"user-avatar",children:(null===(t=e.username)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,En.jsxs)("div",{className:"user-details",children:[(0,En.jsx)("strong",{className:"username",children:e.username}),(0,En.jsx)("div",{className:"view-details-link",onClick:()=>c(e),children:"View complete profile"})]})]}),(0,En.jsxs)("td",{className:"contact-info",children:[(0,En.jsx)("div",{className:"email",children:e.email}),e.phone&&(0,En.jsx)("div",{className:"phone",children:e.phone})]}),(0,En.jsx)("td",{children:(0,En.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role})}),(0,En.jsx)("td",{className:"department",children:e.department}),(0,En.jsxs)("td",{className:"status-cell",children:[(0,En.jsx)("span",{className:"status-badge ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"}),e.isVerified&&(0,En.jsxs)("div",{className:"verification-status",children:[(0,En.jsx)("span",{className:"verified-indicator",children:"\u2713"}),"Verified"]})]}),(0,En.jsxs)("td",{className:"action-buttons",children:[(0,En.jsx)("button",{className:"btn-sm edit-btn",onClick:()=>o(e),title:"Edit user account",children:"Edit"}),(0,En.jsx)("button",{className:"btn-sm view-btn",onClick:()=>c(e),title:"View user details",children:"View"}),(0,En.jsx)("button",{className:"btn-sm danger delete-btn",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await y.mutateAsync(e),f(),alert("User deleted successfully")}catch(p){var t;console.error("User deletion failed:",p),null!==(t=p.message)&&void 0!==t&&t.includes("associated tickets")?w.find(t=>t._id===e)&&confirm("This user has associated tickets and cannot be deleted. Would you like to deactivate them instead? They will not be able to log in but their data will be preserved.")&&k(e):alert("Error deleting user: "+p.message)}})(e._id),disabled:y.isLoading,title:"Delete user account (only if no tickets)",children:y.isLoading?"Deleting...":"Delete"}),e.isActive?(0,En.jsx)("button",{className:"btn-sm warning-btn",onClick:()=>k(e._id),disabled:x.isLoading,title:"Deactivate user (cannot login but data preserved)",children:x.isLoading?"Deactivating...":"Deactivate"}):(0,En.jsx)("button",{className:"btn-sm success-btn",onClick:()=>N(e._id),disabled:b.isLoading,title:"Reactivate user account",children:b.isLoading?"Reactivating...":"Reactivate"})]})]},e._id)})})]})})}),j.totalPages>1&&(0,En.jsxs)("div",{className:"pagination-section",children:[(0,En.jsxs)("div",{className:"pagination-info",children:[(0,En.jsxs)("span",{children:["Displaying ",w.length," of ",j.total," user accounts"]}),j.totalPages>1&&(0,En.jsxs)("span",{className:"page-info",children:["Page ",j.currentPage," of ",j.totalPages]})]}),j.totalPages>1&&(0,En.jsxs)("div",{className:"pagination-controls",children:[(0,En.jsx)("button",{disabled:!j.hasPrevPage,onClick:()=>n(e=>qe(qe({},e),{},{page:j.currentPage-1})),className:"pagination-btn",children:"Previous"}),(0,En.jsx)("button",{disabled:!j.hasNextPage,onClick:()=>n(e=>qe(qe({},e),{},{page:j.currentPage+1})),className:"pagination-btn",children:"Next"})]})]}),r&&(0,En.jsx)(Ri,{onSubmit:async e=>{try{await v.mutateAsync(e),s(!1),f()}catch(p){console.error("User creation failed:",p),alert("Error creating user: "+p.message)}},onClose:()=>s(!1),loading:v.isLoading}),i&&(0,En.jsx)(Oi,{user:i,onSubmit:async e=>{try{await g.mutateAsync({id:i._id,userData:e}),o(null),f()}catch(p){console.error("User update failed:",p),alert("Error updating user: "+p.message)}},onClose:()=>o(null),loading:g.isLoading}),l&&(0,En.jsx)("div",{className:"modal-overlay",children:(0,En.jsxs)("div",{className:"modal large-modal",children:[(0,En.jsxs)("div",{className:"modal-header",children:[(0,En.jsx)("h3",{children:"User Account Details"}),(0,En.jsx)("button",{onClick:()=>c(null),className:"close-btn",children:"\xd7"})]}),(0,En.jsxs)("div",{className:"user-profile",children:[(0,En.jsxs)("div",{className:"profile-header",children:[(0,En.jsx)("div",{className:"profile-avatar",children:(null===(e=l.username)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"}),(0,En.jsxs)("div",{className:"profile-info",children:[(0,En.jsx)("h4",{children:l.username}),(0,En.jsx)("p",{className:"user-email",children:l.email}),(0,En.jsxs)("div",{className:"profile-badges",children:[(0,En.jsx)("span",{className:"role-badge ".concat(l.role),children:l.role}),(0,En.jsx)("span",{className:"status-badge ".concat(l.isActive?"active":"inactive"),children:l.isActive?"Active":"Inactive"}),l.isVerified&&(0,En.jsx)("span",{className:"verified-badge",children:"Verified"})]})]})]}),(0,En.jsx)("div",{className:"profile-details",children:(0,En.jsxs)("div",{className:"details-grid",children:[(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"Department"}),(0,En.jsx)("span",{children:l.department})]}),(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"Student ID"}),(0,En.jsx)("span",{children:l.studentId||"Not provided"})]}),(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"Phone Number"}),(0,En.jsx)("span",{children:l.phone||"Not provided"})]}),(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"Account Created"}),(0,En.jsx)("span",{children:new Date(l.createdAt).toLocaleDateString()})]}),(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"Last Updated"}),(0,En.jsx)("span",{children:new Date(l.updatedAt).toLocaleDateString()})]}),(0,En.jsxs)("div",{className:"detail-group",children:[(0,En.jsx)("label",{children:"User ID"}),(0,En.jsx)("span",{className:"user-id",children:l._id})]})]})})]}),(0,En.jsxs)("div",{className:"modal-actions",children:[(0,En.jsx)("button",{onClick:()=>{c(null),o(l)},className:"btn-primary",children:"Edit User Account"}),l.isActive?(0,En.jsx)("button",{onClick:()=>{c(null),k(l._id)},className:"btn-warning",children:"Deactivate User"}):(0,En.jsx)("button",{onClick:()=>{c(null),N(l._id)},className:"btn-success",children:"Reactivate User"}),(0,En.jsx)("button",{onClick:()=>c(null),className:"btn-secondary",children:"Close Details"})]})]})})]})},Di=()=>(0,En.jsxs)("div",{className:"ticket-management",children:[(0,En.jsx)("h2",{children:"Ticket Management"}),(0,En.jsx)("p",{children:"Ticket management features coming soon."}),(0,En.jsxs)("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"5px"},children:[(0,En.jsx)("h4",{children:"Coming Soon Features:"}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{children:"View all tickets"}),(0,En.jsx)("li",{children:"Assign tickets to technicians"}),(0,En.jsx)("li",{children:"Update ticket status"}),(0,En.jsx)("li",{children:"Bulk operations"})]})]})]}),zi=()=>{const{data:e,isLoading:t}=Si({queryKey:["adminDashboard"],queryFn:async()=>{console.log("\ud83d\udd04 Fetching dashboard data...");try{var e;const[t,n,r]=await Promise.all([_i.getUserStats(),_i.getSystemStats(),Aa.getTickets({limit:6,sortBy:"updatedAt",sortOrder:"desc"})]);return console.log("\u2705 Dashboard data fetched:",{userStats:t,systemStats:n,tickets:null===(e=r.tickets)||void 0===e?void 0:e.length}),{userStats:t,systemStats:n,recentTickets:r.tickets||[]}}catch(t){throw console.error("\u274c Dashboard data error:",t),t}},refetchInterval:3e4});return t?(0,En.jsx)("div",{className:"loading",children:"Loading analytics..."}):(0,En.jsxs)("div",{className:"system-analytics",children:[(0,En.jsx)("h2",{children:"System Analytics & Reports"}),(0,En.jsxs)("div",{className:"analytics-grid",children:[(0,En.jsxs)("div",{className:"analytics-card",children:[(0,En.jsx)("h3",{children:"User Statistics"}),(null===e||void 0===e?void 0:e.userStats)&&(0,En.jsxs)("div",{children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Total Users:"})," ",e.userStats.totalUsers]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Active Users:"})," ",e.userStats.activeUsers]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Students:"})," ",e.userStats.students]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Staff:"})," ",e.userStats.staff]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Technicians:"})," ",e.userStats.technicians]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Admins:"})," ",e.userStats.admins]})]})]}),(0,En.jsxs)("div",{className:"analytics-card",children:[(0,En.jsx)("h3",{children:"Ticket Statistics"}),(null===e||void 0===e?void 0:e.systemStats)&&(0,En.jsxs)("div",{children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Total Tickets:"})," ",e.systemStats.totalTickets]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Open Tickets:"})," ",e.systemStats.openTickets]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Resolved Tickets:"})," ",e.systemStats.resolvedTickets]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Closed Tickets:"})," ",e.systemStats.closedTickets]})]})]}),(0,En.jsxs)("div",{className:"analytics-card",children:[(0,En.jsx)("h3",{children:"System Performance"}),(null===e||void 0===e?void 0:e.systemStats)&&(0,En.jsxs)("div",{children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Uptime:"})," ",e.systemStats.systemUptime]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Active Sessions:"})," ",e.systemStats.activeSessions]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"SLA Compliance:"})," ",e.systemStats.slaCompliance,"%"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Avg Resolution Time:"})," ",e.systemStats.avgResolutionTime||"N/A"," hours"]})]})]})]})]})},Ui=()=>(0,En.jsxs)("div",{className:"system-settings",children:[(0,En.jsx)("h2",{children:"System Settings"}),(0,En.jsx)("p",{children:"System configuration and settings will be implemented here."}),(0,En.jsxs)("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"5px"},children:[(0,En.jsx)("h4",{children:"Configuration Options:"}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{children:"Email templates"}),(0,En.jsx)("li",{children:"System notifications"}),(0,En.jsx)("li",{children:"User permissions"}),(0,En.jsx)("li",{children:"Backup settings"}),(0,En.jsx)("li",{children:"API configurations"})]})]})]}),Fi=()=>{const[e,t]=(0,a.useState)({}),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)({}),[o,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)("overview"),[d,h]=(0,a.useState)({});(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const[e,n,s]=await Promise.all([Aa.getTickets({limit:6,sortBy:"updatedAt",sortOrder:"desc"}),_i.getUserStats(),_i.getSystemStats()]);r(e.tickets),h(n),i(s),t(qe(qe({},n),s))}catch(e){console.error("Error fetching dashboard data:",e)}finally{l(!1)}},p=[{label:"User Management",description:"Manage all user accounts",icon:"\ud83d\udc65",path:"#",color:"primary",emergency:!1,action:()=>u("users")},{label:"System Analytics",description:"View detailed reports",icon:"\ud83d\udcca",path:"#",color:"info",emergency:!1,action:()=>u("analytics")},{label:"Ticket Management",description:"Manage all support tickets",icon:"\ud83c\udfab",path:"#",color:"warning",emergency:!1,action:()=>u("tickets")},{label:"System Settings",description:"Configure system",icon:"\u2699\ufe0f",path:"#",color:"secondary",emergency:!1,action:()=>u("settings")}],f=[{label:"Critical System Alert",description:"System-wide issues",icon:"\ud83d\udea8",path:"/admin/alerts",color:"danger",emergency:!0},{label:"Database Backup",description:"Create immediate backup",icon:"\ud83d\udcbe",path:"/admin/backup",color:"success",emergency:!1}];if(o)return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"loading-container",children:[(0,En.jsx)("div",{className:"loading-spinner"}),(0,En.jsx)("p",{children:"Loading admin dashboard..."})]})]});const v=()=>(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("div",{className:"system-health-banner",children:(0,En.jsxs)("div",{className:"health-content",children:[(0,En.jsx)("span",{className:"health-icon",children:"\ud83d\udc9a"}),(0,En.jsxs)("div",{className:"health-text",children:[(0,En.jsx)("strong",{children:"System Status: Operational"}),(0,En.jsxs)("span",{children:["All systems running normally \u2022 Uptime: ",s.systemUptime||"99.9%"]})]}),(0,En.jsx)("button",{className:"btn-health",children:"View System Logs"})]})}),(0,En.jsxs)("div",{className:"quick-actions-section",children:[(0,En.jsx)("h2",{children:"Administrative Actions"}),(0,En.jsx)("div",{className:"quick-actions-grid",children:p.map((e,t)=>(0,En.jsx)(Da,qe(qe({},e),{},{onClick:e.action}),t))})]}),(0,En.jsxs)("div",{className:"emergency-actions-section",children:[(0,En.jsx)("h3",{children:"Emergency Controls"}),(0,En.jsx)("div",{className:"emergency-actions-grid",children:f.map((e,t)=>(0,En.jsx)(Da,qe({},e),t))})]}),(0,En.jsxs)("div",{className:"metrics-section",children:[(0,En.jsx)("h2",{children:"System Overview"}),(0,En.jsxs)("div",{className:"metrics-grid",children:[(0,En.jsx)(Ma,{title:"Total Users",value:d.totalUsers||0,icon:"\ud83d\udc65",color:"primary",description:"".concat(d.students||0," Students \u2022 ").concat(d.staff||0," Staff"),trend:"up"}),(0,En.jsx)(Ma,{title:"Total Tickets",value:s.totalTickets||0,icon:"\ud83c\udfab",color:"info",description:"".concat(s.openTickets||0," Open \u2022 ").concat(s.resolvedTickets||0," Resolved"),trend:"neutral"}),(0,En.jsx)(Ma,{title:"System Performance",value:s.systemUptime||"99.9%",icon:"\u26a1",color:"success",description:"Uptime \u2022 Response Time",trend:"up"}),(0,En.jsx)(Ma,{title:"Active Sessions",value:s.activeSessions||0,icon:"\ud83d\udd10",color:"warning",description:"Current user sessions",trend:"down"})]})]}),(0,En.jsx)("div",{className:"detailed-stats-section",children:(0,En.jsxs)("div",{className:"stats-row",children:[(0,En.jsxs)("div",{className:"stat-box",children:[(0,En.jsx)("h4",{children:"User Distribution"}),(0,En.jsxs)("div",{className:"stat-details",children:[(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Students"}),(0,En.jsx)("span",{className:"stat-value",children:d.students||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Staff"}),(0,En.jsx)("span",{className:"stat-value",children:d.staff||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Technicians"}),(0,En.jsx)("span",{className:"stat-value",children:d.technicians||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Admins"}),(0,En.jsx)("span",{className:"stat-value",children:d.admins||0})]})]})]}),(0,En.jsxs)("div",{className:"stat-box",children:[(0,En.jsx)("h4",{children:"Ticket Status"}),(0,En.jsxs)("div",{className:"stat-details",children:[(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Open"}),(0,En.jsx)("span",{className:"stat-value",children:s.openTickets||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"In Progress"}),(0,En.jsx)("span",{className:"stat-value",children:s.inProgressTickets||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Resolved"}),(0,En.jsx)("span",{className:"stat-value",children:s.resolvedTickets||0})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Closed"}),(0,En.jsx)("span",{className:"stat-value",children:s.closedTickets||0})]})]})]}),(0,En.jsxs)("div",{className:"stat-box",children:[(0,En.jsx)("h4",{children:"System Metrics"}),(0,En.jsxs)("div",{className:"stat-details",children:[(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Avg Response"}),(0,En.jsxs)("span",{className:"stat-value",children:[e.avgResponseTime||2.1,"h"]})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"SLA Compliance"}),(0,En.jsxs)("span",{className:"stat-value",children:[e.slaCompliance||98,"%"]})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"User Satisfaction"}),(0,En.jsxs)("span",{className:"stat-value",children:[e.satisfactionRate||95,"%"]})]}),(0,En.jsxs)("div",{className:"stat-item",children:[(0,En.jsx)("span",{className:"stat-label",children:"Database Size"}),(0,En.jsx)("span",{className:"stat-value",children:"245 MB"})]})]})]})]})}),(0,En.jsxs)("div",{className:"recent-activity-section",children:[(0,En.jsxs)("div",{className:"section-header",children:[(0,En.jsx)("h2",{children:"Recent System Activity"}),(0,En.jsx)(Me,{to:"/admin/activity-logs",className:"btn-text",children:"View All Logs \u2192"})]}),0===n.length?(0,En.jsxs)("div",{className:"empty-state",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,En.jsx)("h3",{children:"No Recent Activity"}),(0,En.jsx)("p",{children:"No recent tickets or system activities."})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("div",{className:"tickets-grid",children:n.map(e=>(0,En.jsx)(Ia,{ticket:e,showAdminControls:!0},e._id))}),(0,En.jsx)("div",{className:"view-all",children:(0,En.jsx)(Me,{to:"/admin/tickets",className:"btn-secondary",children:"Manage All Tickets"})})]})]}),(0,En.jsxs)("div",{className:"system-health-section",children:[(0,En.jsxs)("div",{className:"section-header",children:[(0,En.jsx)("h2",{children:"System Health Monitor"}),(0,En.jsx)("span",{className:"status-badge healthy",children:"All Systems Normal"})]}),(0,En.jsxs)("div",{className:"health-grid",children:[(0,En.jsxs)("div",{className:"health-metric",children:[(0,En.jsx)("span",{className:"metric-label",children:"API Server"}),(0,En.jsxs)("div",{className:"metric-status healthy",children:[(0,En.jsx)("span",{className:"status-dot"}),"Operational"]})]}),(0,En.jsxs)("div",{className:"health-metric",children:[(0,En.jsx)("span",{className:"metric-label",children:"Database"}),(0,En.jsxs)("div",{className:"metric-status healthy",children:[(0,En.jsx)("span",{className:"status-dot"}),"Connected"]})]}),(0,En.jsxs)("div",{className:"health-metric",children:[(0,En.jsx)("span",{className:"metric-label",children:"Email Service"}),(0,En.jsxs)("div",{className:"metric-status healthy",children:[(0,En.jsx)("span",{className:"status-dot"}),"Active"]})]}),(0,En.jsxs)("div",{className:"health-metric",children:[(0,En.jsx)("span",{className:"metric-label",children:"File Storage"}),(0,En.jsxs)("div",{className:"metric-status healthy",children:[(0,En.jsx)("span",{className:"status-dot"}),"78% Available"]})]})]})]}),(0,En.jsxs)("div",{className:"quick-management-section",children:[(0,En.jsxs)("div",{className:"section-header",children:[(0,En.jsx)("h2",{children:"Quick User Management"}),(0,En.jsx)("button",{className:"btn-primary",onClick:()=>u("users"),children:"Manage Users"})]}),(0,En.jsxs)("div",{className:"management-stats",children:[(0,En.jsxs)("div",{className:"management-stat",children:[(0,En.jsx)("span",{className:"stat-label",children:"New Users (7d)"}),(0,En.jsx)("span",{className:"stat-value",children:d.recentUsers||0})]}),(0,En.jsxs)("div",{className:"management-stat",children:[(0,En.jsx)("span",{className:"stat-label",children:"Pending Verifications"}),(0,En.jsx)("span",{className:"stat-value",children:d.pendingVerifications||0})]}),(0,En.jsxs)("div",{className:"management-stat",children:[(0,En.jsx)("span",{className:"stat-label",children:"Suspended Accounts"}),(0,En.jsx)("span",{className:"stat-value",children:d.suspendedAccounts||0})]})]})]})]});return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"dashboard admin-dashboard",children:[(0,En.jsxs)("div",{className:"dashboard-header admin-header",children:[(0,En.jsxs)("div",{className:"welcome-section",children:[(0,En.jsx)("h1",{children:"System Administration \ud83d\udee0\ufe0f"}),(0,En.jsx)("p",{className:"welcome-message",children:"Complete control panel for managing the IT Support System"}),(0,En.jsxs)("div",{className:"admin-badges",children:[(0,En.jsx)("span",{className:"role-badge admin",children:"Super Administrator"}),(0,En.jsx)("span",{className:"access-level",children:"Full System Access"})]})]}),(0,En.jsxs)("div",{className:"header-actions",children:[(0,En.jsx)("button",{className:"btn-primary large",onClick:()=>u("analytics"),children:"\ud83d\udcca Generate Report"}),(0,En.jsx)(Me,{to:"/admin/backup",className:"btn-secondary",children:"\ud83d\udcbe Backup System"})]})]}),(0,En.jsx)("div",{className:"admin-tabs-navigation",children:(0,En.jsx)("div",{className:"admin-tabs",children:[{id:"overview",label:"System Overview",icon:"\ud83d\udcca"},{id:"users",label:"User Management",icon:"\ud83d\udc65"},{id:"tickets",label:"Ticket Management",icon:"\ud83c\udfab"},{id:"analytics",label:"Analytics & Reports",icon:"\ud83d\udcc8"},{id:"settings",label:"System Settings",icon:"\u2699\ufe0f"}].map(e=>(0,En.jsxs)("button",{className:"admin-tab ".concat(c===e.id?"active":""),onClick:()=>u(e.id),children:[(0,En.jsx)("span",{className:"tab-icon",children:e.icon}),(0,En.jsx)("span",{className:"tab-label",children:e.label})]},e.id))})}),(0,En.jsx)("div",{className:"admin-content",children:(()=>{switch(c){case"users":return(0,En.jsx)(Mi,{});case"tickets":return(0,En.jsx)(Di,{});case"analytics":return(0,En.jsx)(zi,{});case"settings":return(0,En.jsx)(Ui,{});default:return v()}})()})]})]})},Bi=()=>{const{user:e,isAuthenticated:t}=ya(),n=ie(),r=(0,a.useRef)(null),[s,i]=(0,a.useState)({assignedTickets:0,unassignedTickets:0,todayResolved:0,avgResolutionTime:0,slaMet:0,satisfactionRate:0,urgentCount:0,overdueCount:0}),[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[d,h]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[f,v]=(0,a.useState)(!0),[g,y]=(0,a.useState)(null),[x,b]=(0,a.useState)("assigned"),[w,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{t?"technician"===(null===e||void 0===e?void 0:e.role)||"admin"===(null===e||void 0===e?void 0:e.role)||n("/dashboard"):n("/login")},[t,e,n]),(0,a.useEffect)(()=>{if(t&&"technician"===(null===e||void 0===e?void 0:e.role))return k(),r.current=setInterval(k,3e5),()=>{r.current&&clearInterval(r.current)}},[t,e]);const k=(0,a.useCallback)(async()=>{try{v(!0),y(null);const t=performance.now(),[n,r,s,a]=await Promise.all([_i.getTechnicianStats().catch(()=>({})),N({assignedTo:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id),status:["open","in-progress"],limit:8,sortBy:"urgency",sortOrder:"desc"}),N({assignedTo:null,status:"open",limit:6,sortBy:"createdAt",sortOrder:"desc"}),N({status:["resolved","closed"],limit:4,sortBy:"updatedAt",sortOrder:"desc",assignedTo:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)})]);S(n,r,s,a);const i=performance.now();console.log("Dashboard data loaded in ".concat((i-t).toFixed(2),"ms")),j(new Date)}catch(g){console.error("Error fetching dashboard data:",g),P(g)}finally{v(!1)}},[e]),N=async e=>{try{const s=await Aa.getTickets(e);if(s&&s.success){var t,n,r;const e=(null===(t=s.data)||void 0===t?void 0:t.tickets)||s.tickets||(null===(n=s.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.tickets)||s.data||[];return Array.isArray(e)?e:[]}return[]}catch(g){return console.warn("Ticket fetch failed, using fallback:",g),[]}},S=(e,t,n,r)=>{const s=C(t),a=C(n),o=C(r),c=[...s.filter(e=>"critical"===e.urgency||"high"===e.urgency),...a.filter(e=>"critical"===e.urgency||"high"===e.urgency)];l(s),u(a),h(o),p(c),i(t=>qe(qe({},t),{},{assignedTickets:s.length,unassignedTickets:a.length,todayResolved:E(o),avgResolutionTime:e.avgResolutionTime||0,slaMet:e.slaMet||0,satisfactionRate:e.satisfactionRate||0,urgentCount:c.length,overdueCount:T(s)}))},C=e=>Array.isArray(e)?e.filter(e=>e&&(e._id||e.id)).map(e=>qe(qe({},e),{},{_id:e._id||e.id,title:e.title||"Untitled Ticket",status:e.status||"open",urgency:e.urgency||"medium",issueType:e.issueType||"other",formattedCreatedAt:O(e.createdAt),formattedUpdatedAt:O(e.updatedAt)})):[],E=e=>{const t=(new Date).toDateString();return e.filter(e=>new Date(e.updatedAt||e.createdAt).toDateString()===t).length},T=e=>{const t=new Date;return e.filter(e=>{if(!e.createdAt)return!1;const n=new Date(e.createdAt);return(t-n)/36e5>({critical:4,high:24,medium:48,low:72}[e.urgency]||48)&&"resolved"!==e.status}).length},P=e=>{const t={"Network Error":"Unable to connect to server. Please check your internet connection.","Request failed with status code 401":"Session expired. Please log in again.","Request failed with status code 403":"You do not have permission to view this dashboard.","Request failed with status code 500":"Server error. Please try again later."}[e.message]||"Unable to load dashboard data. Please try again.";y({message:t,type:"dashboard",retryable:!0})},_=()=>{y(null),k()},R=async t=>{try{await Aa.updateTicket(t,{assignedTo:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id),status:"in-progress",assignedAt:(new Date).toISOString()}),await k()}catch(g){console.error("Error assigning ticket:",g),y({message:"Failed to assign ticket. Please try again.",type:"assignment",retryable:!0})}},O=e=>{if(!e)return"N/A";const t=new Date(e),n=(new Date-t)/36e5;return n<1?"Just now":n<24?"".concat(Math.floor(n)," hours ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},I=[{id:"view-queue",label:"View Queue",description:"See all unassigned tickets",icon:"\ud83d\udccb",action:()=>b("unassigned"),color:"primary"},{id:"my-tickets",label:"My Tickets",description:"View assigned to me",icon:"\ud83d\udc64",action:()=>b("assigned"),color:"secondary"},{id:"knowledge-base",label:"Knowledge Base",description:"Common solutions & guides",icon:"\ud83d\udcda",path:"/knowledge-base",color:"info"},{id:"performance",label:"Performance",description:"View detailed analytics",icon:"\ud83d\udcca",path:"/technician/analytics",color:"success"}],A=[{id:"assigned",label:"Assigned",value:s.assignedTickets,description:"Tickets assigned to you"},{id:"resolved-today",label:"Resolved Today",value:s.todayResolved,description:"Tickets resolved today"},{id:"sla-met",label:"SLA Met",value:"".concat(s.slaMet,"%"),description:"Service level agreement compliance"},{id:"avg-time",label:"Avg. Time",value:"".concat(s.avgResolutionTime,"m"),description:"Average resolution time"},{id:"satisfaction",label:"Satisfaction",value:"".concat(s.satisfactionRate,"%"),description:"User satisfaction rate"},{id:"urgent",label:"Urgent",value:s.urgentCount,description:"High/Critical priority tickets"}];return f&&0===o.length?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"loading-container",children:(0,En.jsx)(Na,{message:"Loading technician dashboard...",fullPage:!0})})]}):(0,En.jsx)(ka,{children:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"technician-dashboard",children:[(0,En.jsxs)("header",{className:"dashboard-header",children:[(0,En.jsxs)("div",{className:"header-content",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h1",{className:"page-title",children:"Technician Dashboard"}),(0,En.jsxs)("p",{className:"page-subtitle",children:["Welcome back, ",(0,En.jsx)("strong",{children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)}),(null===e||void 0===e?void 0:e.department)&&" \u2022 ".concat(e.department)]})]}),w&&(0,En.jsxs)("div",{className:"last-updated",children:[(0,En.jsx)("span",{className:"update-icon",children:"\ud83d\udd04"}),"Last updated: ",w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,En.jsxs)("div",{className:"header-actions",children:[(0,En.jsxs)("button",{onClick:_,className:"btn btn-secondary btn-icon",disabled:f,"aria-label":"Refresh dashboard",children:[(0,En.jsx)("span",{className:"icon",children:"\ud83d\udd04"}),"Refresh"]}),(0,En.jsx)(Me,{to:"/tickets",className:"btn btn-primary",children:"View All Tickets"})]})]}),g&&(0,En.jsxs)("div",{className:"alert alert-".concat(g.type),children:[(0,En.jsxs)("div",{className:"alert-content",children:[(0,En.jsx)("strong",{children:"Error:"})," ",g.message]}),(0,En.jsxs)("div",{className:"alert-actions",children:[g.retryable&&(0,En.jsx)("button",{onClick:_,className:"btn btn-sm",children:"Retry"}),(0,En.jsx)("button",{onClick:()=>y(null),className:"btn btn-sm btn-text",children:"Dismiss"})]})]}),m.length>0&&(0,En.jsxs)("div",{className:"critical-alert",role:"alert",children:[(0,En.jsxs)("div",{className:"alert-content",children:[(0,En.jsx)("span",{className:"alert-icon",children:"\ud83d\udea8"}),(0,En.jsxs)("div",{className:"alert-text",children:[(0,En.jsx)("strong",{children:"Urgent Attention Required"}),(0,En.jsxs)("span",{children:[m.length," high-priority tickets need immediate action"]})]})]}),(0,En.jsx)("button",{onClick:()=>b("assigned"),className:"btn btn-danger",children:"View Urgent Tickets"})]}),(0,En.jsx)("section",{className:"performance-stats","aria-label":"Performance statistics",children:(0,En.jsx)("div",{className:"stats-grid",children:A.map(e=>(0,En.jsxs)("div",{className:"stat-card stat-".concat(e.id),children:[(0,En.jsxs)("div",{className:"stat-content",children:[(0,En.jsx)("div",{className:"stat-value","aria-label":e.label,children:e.value}),(0,En.jsx)("div",{className:"stat-label",children:e.label}),(0,En.jsx)("div",{className:"stat-description",children:e.description})]}),(0,En.jsx)("div",{className:"stat-trend"})]},e.id))})}),(0,En.jsxs)("section",{className:"quick-actions-section","aria-label":"Quick actions",children:[(0,En.jsx)("h2",{className:"section-title",children:"Quick Actions"}),(0,En.jsx)("div",{className:"actions-grid",children:I.map(e=>e.path?(0,En.jsxs)(Me,{to:e.path,className:"action-card action-".concat(e.color),"aria-label":e.label,children:[(0,En.jsx)("div",{className:"action-icon",children:e.icon}),(0,En.jsxs)("div",{className:"action-content",children:[(0,En.jsx)("span",{className:"action-label",children:e.label}),(0,En.jsx)("span",{className:"action-description",children:e.description})]}),(0,En.jsx)("div",{className:"action-arrow",children:"\u2192"})]},e.id):(0,En.jsxs)("button",{onClick:e.action,className:"action-card action-".concat(e.color),"aria-label":e.label,children:[(0,En.jsx)("div",{className:"action-icon",children:e.icon}),(0,En.jsxs)("div",{className:"action-content",children:[(0,En.jsx)("span",{className:"action-label",children:e.label}),(0,En.jsx)("span",{className:"action-description",children:e.description})]}),(0,En.jsx)("div",{className:"action-arrow",children:"\u2192"})]},e.id))})]}),(0,En.jsxs)("main",{className:"ticket-management","aria-label":"Ticket management",children:[(0,En.jsxs)("div",{className:"management-header",children:[(0,En.jsx)("h2",{className:"section-title",children:"Ticket Management"}),(0,En.jsxs)("nav",{className:"management-tabs","aria-label":"Ticket categories",children:[(0,En.jsxs)("button",{className:"tab-button ".concat("assigned"===x?"active":""),onClick:()=>b("assigned"),"aria-label":"View assigned tickets","aria-selected":"assigned"===x,children:["My Tickets",(0,En.jsx)("span",{className:"tab-count",children:o.length})]}),(0,En.jsxs)("button",{className:"tab-button ".concat("unassigned"===x?"active":""),onClick:()=>b("unassigned"),"aria-label":"View unassigned tickets","aria-selected":"unassigned"===x,children:["Unassigned",(0,En.jsx)("span",{className:"tab-count",children:c.length})]}),(0,En.jsxs)("button",{className:"tab-button ".concat("resolved"===x?"active":""),onClick:()=>b("resolved"),"aria-label":"View recently resolved tickets","aria-selected":"resolved"===x,children:["Recently Resolved",(0,En.jsx)("span",{className:"tab-count",children:d.length})]})]})]}),(0,En.jsxs)("div",{className:"tab-content",children:["assigned"===x&&(0,En.jsxs)("div",{className:"tab-pane","aria-label":"Assigned tickets",children:[(0,En.jsxs)("div",{className:"pane-header",children:[(0,En.jsx)("h3",{children:"Tickets Assigned to You"}),(0,En.jsxs)("p",{className:"pane-subtitle",children:[o.length," tickets requiring your attention",s.overdueCount>0&&(0,En.jsxs)("span",{className:"overdue-badge",children:[s.overdueCount," overdue"]})]})]}),0===o.length?(0,En.jsxs)("div",{className:"empty-state","aria-label":"No assigned tickets",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\u2705"}),(0,En.jsx)("h4",{children:"No Assigned Tickets"}),(0,En.jsx)("p",{children:"All clear! Check unassigned tickets to help colleagues."}),(0,En.jsx)("button",{onClick:()=>b("unassigned"),className:"btn btn-primary",children:"View Unassigned Tickets"})]}):(0,En.jsx)("div",{className:"tickets-grid",role:"list","aria-label":"Assigned tickets list",children:o.map(e=>(0,En.jsx)("div",{className:"ticket-card-wrapper",role:"listitem",children:(0,En.jsx)(Ia,{ticket:e,onStatusUpdate:k})},e._id))})]}),"unassigned"===x&&(0,En.jsxs)("div",{className:"tab-pane","aria-label":"Unassigned tickets",children:[(0,En.jsxs)("div",{className:"pane-header",children:[(0,En.jsx)("h3",{children:"Unassigned Tickets"}),(0,En.jsxs)("p",{className:"pane-subtitle",children:[c.length," tickets waiting for assignment"]})]}),0===c.length?(0,En.jsxs)("div",{className:"empty-state","aria-label":"No unassigned tickets",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83c\udf89"}),(0,En.jsx)("h4",{children:"No Unassigned Tickets"}),(0,En.jsx)("p",{children:"Great job team! All tickets are currently assigned."})]}):(0,En.jsx)("div",{className:"tickets-grid",role:"list","aria-label":"Unassigned tickets list",children:c.map(e=>(0,En.jsx)("div",{className:"ticket-card-wrapper",role:"listitem",children:(0,En.jsx)(Ia,{ticket:e,showAssignButton:!0,onAssign:R})},e._id))})]}),"resolved"===x&&(0,En.jsxs)("div",{className:"tab-pane","aria-label":"Recently resolved tickets",children:[(0,En.jsxs)("div",{className:"pane-header",children:[(0,En.jsx)("h3",{children:"Recently Resolved"}),(0,En.jsx)("p",{className:"pane-subtitle",children:"Your recently completed tickets"})]}),0===d.length?(0,En.jsxs)("div",{className:"empty-state","aria-label":"No recently resolved tickets",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83d\udcca"}),(0,En.jsx)("h4",{children:"No Recent Resolutions"}),(0,En.jsx)("p",{children:"Completed tickets will appear here."})]}):(0,En.jsx)("div",{className:"tickets-grid",role:"list","aria-label":"Recently resolved tickets list",children:d.map(e=>(0,En.jsx)("div",{className:"ticket-card-wrapper",role:"listitem",children:(0,En.jsx)(Ia,{ticket:e})},e._id))})]})]})]}),f&&o.length>0&&(0,En.jsx)("div",{className:"loading-overlay",children:(0,En.jsx)(Na,{message:"Updating dashboard..."})})]})]})})},Vi=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({total:0,open:0,inProgress:0,resolved:0}),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)("all"),[c,u]=(0,a.useState)("");(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{i(!0),u("");const n=await da.get("/api/tickets");if(n.data&&n.data.success){var e;const s=(null===(e=n.data.data)||void 0===e?void 0:e.tickets)||n.data.tickets||[];t(s);const a=s.length||0,i=s.filter(e=>e&&"open"===e.status).length,o=s.filter(e=>e&&"in-progress"===e.status).length,l=s.filter(e=>e&&("resolved"===e.status||"closed"===e.status)).length;r({total:a,open:i,inProgress:o,resolved:l})}else console.error("Unexpected response format:",n.data),u("Could not load tickets. Please try again."),t([])}catch(c){console.error("Error fetching tickets:",c),u("Failed to load tickets. Please check your connection."),t([])}finally{i(!1)}},h=(e||[]).filter(e=>!!e&&("all"===o||e.status===o));return s?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"loading-container",children:[(0,En.jsx)("div",{className:"spinner"}),(0,En.jsx)("p",{children:"Loading your dashboard..."})]})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"dashboard student-dashboard",children:[c&&(0,En.jsxs)("div",{className:"alert alert-error",children:[c,(0,En.jsx)("button",{onClick:d,className:"retry-btn",children:"Retry"})]}),(0,En.jsxs)("div",{className:"dashboard-header",children:[(0,En.jsxs)("div",{className:"welcome-section",children:[(0,En.jsx)("h1",{children:"Bugema University IT Support"}),(0,En.jsx)("p",{className:"welcome-message",children:"Welcome to your IT support dashboard"})]}),(0,En.jsx)("div",{className:"header-actions",children:(0,En.jsx)(Me,{to:"/tickets/create",className:"btn-primary",children:"Create New Ticket"})})]}),(0,En.jsx)("div",{className:"quick-stats",children:(0,En.jsxs)("div",{className:"stat-cards",children:[(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("div",{className:"stat-number",children:n.open||0}),(0,En.jsx)("div",{className:"stat-label",children:"Open Tickets"})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("div",{className:"stat-number",children:n.inProgress||0}),(0,En.jsx)("div",{className:"stat-label",children:"In Progress"})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("div",{className:"stat-number",children:n.resolved||0}),(0,En.jsx)("div",{className:"stat-label",children:"Resolved"})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("div",{className:"stat-number",children:n.total||0}),(0,En.jsx)("div",{className:"stat-label",children:"Total Tickets"})]})]})}),(0,En.jsxs)("div",{className:"quick-help-section",children:[(0,En.jsx)("h2",{children:"Quick Help & Resources"}),(0,En.jsx)("div",{className:"quick-help-grid",children:[{title:"WiFi Connection",description:"Troubleshoot internet issues",icon:"\ud83d\udcf6",path:"/knowledge-base/wifi"},{title:"Password Reset",description:"Reset your campus password",icon:"\ud83d\udd11",path:"/knowledge-base/password"},{title:"Email Setup",description:"Configure student email",icon:"\ud83d\udce7",path:"/knowledge-base/email"},{title:"Software Help",description:"Install and use campus software",icon:"\ud83d\udcbb",path:"/knowledge-base/software"}].map((e,t)=>(0,En.jsxs)(Me,{to:e.path,className:"help-card",children:[(0,En.jsx)("div",{className:"help-icon",children:e.icon}),(0,En.jsxs)("div",{className:"help-content",children:[(0,En.jsx)("h4",{children:e.title}),(0,En.jsx)("p",{children:e.description})]}),(0,En.jsx)("div",{className:"help-arrow",children:"\u2192"})]},t))})]}),(0,En.jsxs)("div",{className:"my-tickets-section",children:[(0,En.jsxs)("div",{className:"section-header",children:[(0,En.jsx)("h2",{children:"My Support Requests"}),(0,En.jsxs)("div",{className:"ticket-tabs",children:[(0,En.jsxs)("button",{className:"tab-button ".concat("all"===o?"active":""),onClick:()=>l("all"),children:["All (",n.total||0,")"]}),(0,En.jsxs)("button",{className:"tab-button ".concat("open"===o?"active":""),onClick:()=>l("open"),children:["Open (",n.open||0,")"]}),(0,En.jsxs)("button",{className:"tab-button ".concat("in-progress"===o?"active":""),onClick:()=>l("in-progress"),children:["In Progress (",n.inProgress||0,")"]}),(0,En.jsxs)("button",{className:"tab-button ".concat("resolved"===o?"active":""),onClick:()=>l("resolved"),children:["Resolved (",n.resolved||0,")"]})]})]}),0===h.length?(0,En.jsxs)("div",{className:"empty-state",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,En.jsx)("h3",{children:"No Tickets Found"}),(0,En.jsx)("p",{children:"all"===o?"You haven't created any support tickets yet.":"You don't have any ".concat(o.replace("-"," ")," tickets.")}),(0,En.jsx)(Me,{to:"/tickets/create",className:"btn-primary",children:"Create Your First Ticket"})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("div",{className:"tickets-grid",children:h.map(e=>(0,En.jsx)(Ia,{ticket:e},e._id||e.id))}),e.length>0&&(0,En.jsx)("div",{className:"view-all",children:(0,En.jsxs)(Me,{to:"/tickets",className:"btn-secondary",children:["View All My Tickets (",e.length,")"]})})]})]}),(0,En.jsx)("div",{className:"support-info",children:(0,En.jsxs)("div",{className:"support-card",children:[(0,En.jsx)("h3",{children:"Bugema IT Support"}),(0,En.jsxs)("div",{className:"contact-methods",children:[(0,En.jsxs)("div",{className:"contact-item",children:[(0,En.jsx)("span",{className:"contact-icon",children:"\ud83d\udcde"}),(0,En.jsxs)("div",{className:"contact-details",children:[(0,En.jsx)("strong",{children:"Phone Support"}),(0,En.jsx)("span",{children:"IT Help Desk: Ext. 1234"})]})]}),(0,En.jsxs)("div",{className:"contact-item",children:[(0,En.jsx)("span",{className:"contact-icon",children:"\ud83d\udce7"}),(0,En.jsxs)("div",{className:"contact-details",children:[(0,En.jsx)("strong",{children:"Email Support"}),(0,En.jsx)("span",{children:"support@bugemauniv.ac.ug"})]})]}),(0,En.jsxs)("div",{className:"contact-item",children:[(0,En.jsx)("span",{className:"contact-icon",children:"\ud83c\udfe2"}),(0,En.jsxs)("div",{className:"contact-details",children:[(0,En.jsx)("strong",{children:"Walk-in Help"}),(0,En.jsx)("span",{children:"IT Building, Ground Floor"})]})]})]})]})})]})]})},qi=()=>{const{user:e}=ya(),t={admin:"/admin",technician:"/technician",staff:"/staff",student:"/student"}[null===e||void 0===e?void 0:e.role]||"/login";return(0,En.jsx)(ke,{to:t,replace:!0})},Hi=10,Wi=300,Qi=()=>{const{user:e,isAuthenticated:t}=ya(),n=ie(),r=(0,a.useRef)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(new Set),[m,p]=(0,a.useState)(""),[f,v]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[x,b]=(0,a.useState)({status:"",urgency:"",issueType:"",assignedTo:"",dateFrom:"",dateTo:"",search:"",page:1,limit:Hi,sortBy:"createdAt",sortOrder:"desc"}),[w,j]=(0,a.useState)({totalPages:1,currentPage:1,total:0,hasNext:!1,hasPrev:!1});(0,a.useEffect)(()=>{t||n("/login")},[t,n]);const k=(0,a.useCallback)(async()=>{r.current&&r.current.abort(),r.current=new AbortController;try{l(!0),u("");const e=await Aa.getTickets(x);if(null===e||void 0===e||!e.success)throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to load tickets");{const t=N(e),n=S(e);if(i(t),j(n),d.size>0){const e=new Set(t.map(e=>e._id)),n=new Set(Array.from(d).filter(t=>e.has(t)));n.size!==d.size&&h(n)}}}catch(c){if("AbortError"===c.name)return;console.error("Error fetching tickets:",c),u(c.message||"Failed to load tickets. Please try again."),i([])}finally{l(!1)}},[x,d]);(0,a.useEffect)(()=>(t&&k(),()=>{r.current&&r.current.abort()}),[k,t]);const N=e=>{var t,n,r;const s=[null===(t=e.data)||void 0===t?void 0:t.tickets,e.tickets,null===(n=e.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.tickets,e.data,e];for(const a of s)if(Array.isArray(a))return a.filter(e=>e&&(e._id||e.id)&&"object"===typeof e);return[]},S=e=>{var t,n,r;const s=e.total||(null===(t=e.data)||void 0===t?void 0:t.total)||0,a=e.currentPage||(null===(n=e.data)||void 0===n?void 0:n.currentPage)||x.page,i=e.totalPages||(null===(r=e.data)||void 0===r?void 0:r.totalPages)||Math.ceil(s/Hi)||1;return{total:s,currentPage:a,totalPages:i,hasNext:a<i,hasPrev:a>1}},C=(0,a.useCallback)(((e,t)=>{let n;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...s)},t)}})(e=>{b(t=>qe(qe({},t),{},{search:e.trim(),page:1}))},Wi),[]),E=(e,t)=>{b(n=>qe(qe({},n),{},{[e]:t,page:1}))},T=e=>{e>=1&&e<=w.totalPages&&(b(t=>qe(qe({},t),{},{page:e})),window.scrollTo({top:0,behavior:"smooth"}))},P=()=>{n("/tickets/create")};return o&&0===s.length?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"loading",children:[(0,En.jsx)("div",{className:"spinner"}),(0,En.jsx)("p",{children:"Loading tickets..."})]})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"tickets-page",children:[(0,En.jsxs)("div",{className:"tickets-header",children:[(0,En.jsxs)("div",{children:[(0,En.jsx)("h1",{children:"staff"===(null===e||void 0===e?void 0:e.role)?"My Support Tickets":"Ticket Management"}),(0,En.jsx)("p",{className:"page-subtitle",children:"Track and manage your support requests"})]}),(0,En.jsxs)("div",{className:"header-actions",children:["staff"===(null===e||void 0===e?void 0:e.role)&&(0,En.jsx)("button",{onClick:P,className:"btn-primary",children:"+ Create Ticket"}),(0,En.jsx)("button",{onClick:async()=>{try{v(!0);const e=await Aa.exportTickets(x,"csv"),t=window.URL.createObjectURL(e),n=document.createElement("a"),r=(new Date).toISOString().split("T")[0];n.href=t,n.download="tickets-".concat(r,".csv"),n.style.display="none",document.body.appendChild(n),n.click(),setTimeout(()=>{window.URL.revokeObjectURL(t),document.body.removeChild(n)},100)}catch(c){console.error("Export error:",c),u("Export failed. Please try again.")}finally{v(!1)}},className:"btn-secondary",disabled:f||0===s.length,children:f?"Exporting...":"Export CSV"})]})]}),c&&(0,En.jsxs)("div",{className:"error-message",children:[(0,En.jsx)("span",{children:c}),(0,En.jsx)("button",{onClick:()=>u(""),children:"\xd7"})]}),(0,En.jsxs)("div",{className:"filters-section",children:[(0,En.jsx)("div",{className:"search-box",children:(0,En.jsx)("input",{type:"text",placeholder:"Search tickets by title, description, or ID...",onChange:e=>{C(e.target.value)},defaultValue:x.search})}),(0,En.jsxs)("div",{className:"filter-grid",children:[(0,En.jsxs)("select",{value:x.status,onChange:e=>E("status",e.target.value),children:[(0,En.jsx)("option",{value:"",children:"All Status"}),(0,En.jsx)("option",{value:"open",children:"Open"}),(0,En.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,En.jsx)("option",{value:"awaiting-user",children:"Awaiting User"}),(0,En.jsx)("option",{value:"resolved",children:"Resolved"}),(0,En.jsx)("option",{value:"closed",children:"Closed"})]}),(0,En.jsxs)("select",{value:x.urgency,onChange:e=>E("urgency",e.target.value),children:[(0,En.jsx)("option",{value:"",children:"All Urgency"}),(0,En.jsx)("option",{value:"low",children:"Low"}),(0,En.jsx)("option",{value:"medium",children:"Medium"}),(0,En.jsx)("option",{value:"high",children:"High"}),(0,En.jsx)("option",{value:"critical",children:"Critical"})]}),(0,En.jsxs)("select",{value:x.issueType,onChange:e=>E("issueType",e.target.value),children:[(0,En.jsx)("option",{value:"",children:"All Types"}),(0,En.jsx)("option",{value:"hardware",children:"Hardware"}),(0,En.jsx)("option",{value:"software",children:"Software"}),(0,En.jsx)("option",{value:"network",children:"Network"}),(0,En.jsx)("option",{value:"account",children:"Account"}),(0,En.jsx)("option",{value:"security",children:"Security"}),(0,En.jsx)("option",{value:"other",children:"Other"})]}),(0,En.jsx)("input",{type:"date",value:x.dateFrom,onChange:e=>E("dateFrom",e.target.value),placeholder:"From Date"}),(0,En.jsx)("input",{type:"date",value:x.dateTo,onChange:e=>E("dateTo",e.target.value),placeholder:"To Date",min:x.dateFrom}),(0,En.jsxs)("select",{value:x.sortBy,onChange:e=>E("sortBy",e.target.value),children:[(0,En.jsx)("option",{value:"createdAt",children:"Newest First"}),(0,En.jsx)("option",{value:"updatedAt",children:"Recently Updated"}),(0,En.jsx)("option",{value:"urgency",children:"High Urgency"}),(0,En.jsx)("option",{value:"title",children:"Title A-Z"})]}),(0,En.jsx)("button",{onClick:()=>{b({status:"",urgency:"",issueType:"",assignedTo:"",dateFrom:"",dateTo:"",search:"",page:1,limit:Hi,sortBy:"createdAt",sortOrder:"desc"}),h(new Set)},className:"btn-secondary",children:"Clear Filters"})]})]}),d.size>0&&(0,En.jsxs)("div",{className:"bulk-actions",children:[(0,En.jsx)("div",{className:"bulk-info",children:(0,En.jsxs)("span",{children:[d.size," ticket(s) selected"]})}),(0,En.jsxs)("div",{className:"bulk-controls",children:[(0,En.jsxs)("select",{value:m,onChange:e=>p(e.target.value),disabled:g,children:[(0,En.jsx)("option",{value:"",children:"Bulk Actions"}),(0,En.jsx)("option",{value:"in-progress",children:"Mark In Progress"}),(0,En.jsx)("option",{value:"resolved",children:"Mark Resolved"}),(0,En.jsx)("option",{value:"closed",children:"Mark Closed"}),(0,En.jsx)("option",{value:"reopen",children:"Reopen"})]}),(0,En.jsx)("button",{onClick:async()=>{if(m&&0!==d.size)try{y(!0),await Aa.bulkUpdateStatus(Array.from(d),m,"Bulk action by ".concat((null===e||void 0===e?void 0:e.email)||"user")),await k(),h(new Set),p("")}catch(c){console.error("Bulk update error:",c),u("Bulk update failed. Please try again.")}finally{y(!1)}},className:"btn-primary",disabled:!m||g,children:g?"Processing...":"Apply"}),(0,En.jsx)("button",{onClick:()=>h(new Set),className:"btn-secondary",children:"Clear"})]})]}),(0,En.jsx)("div",{className:"tickets-container",children:0===s.length?(0,En.jsxs)("div",{className:"no-tickets",children:[(0,En.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,En.jsx)("h3",{children:"No Tickets Found"}),(0,En.jsx)("p",{children:x.search||x.status?"No tickets match your filters. Try adjusting your criteria.":"You haven't created any tickets yet."}),"staff"===(null===e||void 0===e?void 0:e.role)&&(0,En.jsx)("button",{onClick:P,className:"btn-primary",children:"Create Your First Ticket"})]}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("div",{className:"tickets-stats",children:(0,En.jsxs)("div",{className:"stats-header",children:[(0,En.jsxs)("p",{children:["Showing ",s.length," of ",w.total," tickets",(0,En.jsxs)("span",{className:"page-info",children:["(Page ",w.currentPage," of ",w.totalPages,")"]})]}),(0,En.jsxs)("div",{className:"select-all",children:[(0,En.jsx)("input",{type:"checkbox",checked:d.size===s.length&&s.length>0,onChange:()=>{if(0===s.length)return;const e=s.map(e=>e._id).filter(e=>e);d.size===e.length?h(new Set):h(new Set(e))},disabled:0===s.length}),(0,En.jsx)("span",{children:"Select All"})]})]})}),(0,En.jsx)("div",{className:"tickets-grid",children:s.map(e=>(0,En.jsxs)("div",{className:"ticket-card-wrapper",onClick:()=>{var t;(t=e._id)&&n("/tickets/".concat(t))},children:[(0,En.jsx)("input",{type:"checkbox",className:"ticket-select",checked:d.has(e._id),onChange:t=>{var n;t.stopPropagation(),(n=e._id)&&h(e=>{const t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},onClick:e=>e.stopPropagation()}),(0,En.jsx)(Ia,{ticket:e})]},e._id))}),w.totalPages>1&&(0,En.jsxs)("div",{className:"pagination",children:[(0,En.jsx)("button",{onClick:()=>T(w.currentPage-1),disabled:!w.hasPrev||o,className:"pagination-btn",children:"Previous"}),(0,En.jsx)("div",{className:"pagination-info",children:(0,En.jsxs)("span",{children:["Page ",w.currentPage," of ",w.totalPages]})}),(0,En.jsx)("button",{onClick:()=>T(w.currentPage+1),disabled:!w.hasNext||o,className:"pagination-btn",children:"Next"})]})]})})]})]})},Ki=()=>{var e,t,n,r,s,i,o;const{id:l}=le(),c=ie(),{user:u,isAuthenticated:d}=ya(),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(!0),[v,g]=(0,a.useState)(null),[y,x]=(0,a.useState)([]),[b,w]=(0,a.useState)(""),[j,k]=(0,a.useState)(!1),[N,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e;if(d)return!(e=l)||"create"===e||"undefined"===e||"null"===e||e.length<10||!/^[0-9a-fA-F]{24}$/.test(e)&&!/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?(console.error("Invalid ticket ID:",l),g("Invalid ticket ID or ticket not found"),f(!1),void c("/tickets")):void C();c("/login")},[l,d,c]);const C=async()=>{try{f(!0),g(null);const r=await Aa.getTicket(l);if(!r||!r.success)throw new Error((null===r||void 0===r?void 0:r.message)||"Failed to load ticket details");{var e;const s=(null===(e=r.data)||void 0===e?void 0:e.ticket)||r.data||r.ticket||r;if(!s||!s._id&&!s.id)throw new Error("Invalid ticket data structure received");if(m(s),Aa.getComments&&"function"===typeof Aa.getComments)try{const e=await Aa.getComments(l);var t;if(e&&e.success)x((null===(t=e.data)||void 0===t?void 0:t.comments)||e.comments||e.data||[])}catch(n){console.warn("Comments endpoint not available:",n.message)}}}catch(v){console.error("Error fetching ticket data:",v);let t="Unable to load ticket. Please try again.";if(v.response)switch(v.response.status){case 404:t="Ticket not found. It may have been deleted.";break;case 401:t="Session expired. Please log in again.",c("/login");break;case 403:t="You do not have permission to view this ticket."}else v.request&&(t="Unable to connect to server. Please check your connection.");g({message:t,type:"fetch",retryable:!0})}finally{f(!1)}},E=e=>{if(!e)return"N/A";try{const t=new Date(e),n=new Date,r=(n-t)/36e5;return r<1?"Just now":r<24?"".concat(Math.floor(r),"h ago"):t.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(v){return"Invalid date"}},T=()=>{g(null),C()};return p?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"loading-container",children:(0,En.jsx)(Na,{message:"Loading ticket details...",fullPage:!0})})]}):v&&!h?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"error-container",children:(0,En.jsxs)("div",{className:"error-content",children:[(0,En.jsx)("h2",{children:"Unable to Load Ticket"}),(0,En.jsx)("p",{className:"error-message",children:v.message}),(0,En.jsxs)("div",{className:"error-actions",children:[v.retryable&&(0,En.jsx)("button",{onClick:T,className:"btn btn-primary",children:"Try Again"}),(0,En.jsx)("button",{onClick:()=>c("/tickets"),className:"btn btn-secondary",children:"Back to Tickets"})]})]})})]}):h?(0,En.jsx)(ka,{children:(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"ticket-detail-page",children:[(0,En.jsxs)("div",{className:"ticket-header",children:[(0,En.jsxs)("div",{className:"ticket-meta",children:[(0,En.jsxs)("span",{className:"ticket-id",children:["Ticket #",h.ticketNumber||(null===(e=h._id)||void 0===e?void 0:e.substring(0,8).toUpperCase())]}),(0,En.jsx)("span",{className:"status-badge status-".concat(h.status),children:(_=h.status,{open:"Open","in-progress":"In Progress","awaiting-user":"Awaiting User",resolved:"Resolved",closed:"Closed"}[_]||_)}),(0,En.jsx)("span",{className:"urgency-badge urgency-".concat(h.urgency),children:(P=h.urgency,{low:"Low",medium:"Medium",high:"High",critical:"Critical"}[P]||P)})]}),(0,En.jsxs)("div",{className:"ticket-actions",children:[("technician"===(null===u||void 0===u?void 0:u.role)||"admin"===(null===u||void 0===u?void 0:u.role))&&(0,En.jsxs)("select",{className:"status-select",value:h.status,onChange:e=>(async e=>{if(h&&!N)try{S(!0),Aa.updateTicket&&"function"===typeof Aa.updateTicket?(await Aa.updateTicket(h._id,{status:e}),m(t=>qe(qe({},t),{},{status:e,updatedAt:(new Date).toISOString()}))):m(t=>qe(qe({},t),{},{status:e,updatedAt:(new Date).toISOString()}))}catch(v){console.error("Error updating ticket status:",v),g({message:"Failed to update ticket status.",type:"status",retryable:!1})}finally{S(!1)}})(e.target.value),disabled:N,"aria-label":"Update ticket status",children:[(0,En.jsx)("option",{value:"open",children:"Open"}),(0,En.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,En.jsx)("option",{value:"awaiting-user",children:"Awaiting User"}),(0,En.jsx)("option",{value:"resolved",children:"Resolved"}),(0,En.jsx)("option",{value:"closed",children:"Closed"})]}),(0,En.jsx)("button",{onClick:()=>c("/tickets"),className:"btn btn-secondary",children:"Back to List"})]})]}),v&&(0,En.jsxs)("div",{className:"alert alert-".concat(v.type),children:[(0,En.jsxs)("div",{className:"alert-content",children:[(0,En.jsx)("strong",{children:"Error:"})," ",v.message]}),(0,En.jsx)("div",{className:"alert-actions",children:(0,En.jsx)("button",{onClick:()=>g(null),className:"btn btn-sm btn-text",children:"Dismiss"})})]}),(0,En.jsxs)("div",{className:"ticket-content",children:[(0,En.jsxs)("div",{className:"ticket-main",children:[(0,En.jsx)("h1",{className:"ticket-title",children:h.title}),(0,En.jsxs)("div",{className:"ticket-description",children:[(0,En.jsx)("h3",{children:"Description"}),(0,En.jsx)("div",{className:"description-content",children:h.description})]}),(0,En.jsxs)("div",{className:"ticket-info-grid",children:[(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Issue Type:"}),(0,En.jsx)("span",{className:"info-value",children:(null===(t=h.issueType)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(n=h.issueType)||void 0===n?void 0:n.slice(1))||"Not specified"})]}),(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Created:"}),(0,En.jsx)("span",{className:"info-value",children:E(h.createdAt)})]}),(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Last Updated:"}),(0,En.jsx)("span",{className:"info-value",children:E(h.updatedAt)})]}),(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Created By:"}),(0,En.jsx)("span",{className:"info-value",children:(null===(r=h.createdBy)||void 0===r?void 0:r.name)||(null===(s=h.createdBy)||void 0===s?void 0:s.email)||"Unknown"})]}),h.assignedTo&&(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Assigned To:"}),(0,En.jsx)("span",{className:"info-value",children:(null===(i=h.assignedTo)||void 0===i?void 0:i.name)||(null===(o=h.assignedTo)||void 0===o?void 0:o.email)||"Unassigned"})]}),h.category&&(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Category:"}),(0,En.jsx)("span",{className:"info-value",children:h.category})]}),h.department&&(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Department:"}),(0,En.jsx)("span",{className:"info-value",children:h.department})]}),h.location&&(0,En.jsxs)("div",{className:"info-item",children:[(0,En.jsx)("span",{className:"info-label",children:"Location:"}),(0,En.jsx)("span",{className:"info-value",children:h.location})]})]})]}),(0,En.jsxs)("div",{className:"comments-section",children:[(0,En.jsx)("h3",{children:"Activity & Comments"}),(0,En.jsx)("div",{className:"comments-list",children:0===y.length?(0,En.jsx)("div",{className:"no-comments",children:(0,En.jsx)("p",{children:"No comments yet. Be the first to add one."})}):y.map((e,t)=>{var n,r;return(0,En.jsxs)("div",{className:"comment-item",children:[(0,En.jsxs)("div",{className:"comment-header",children:[(0,En.jsx)("span",{className:"comment-author",children:(null===(n=e.author)||void 0===n?void 0:n.name)||(null===(r=e.author)||void 0===r?void 0:r.email)||"Unknown"}),(0,En.jsx)("span",{className:"comment-date",children:E(e.createdAt)}),e.isInternal&&(0,En.jsx)("span",{className:"internal-badge",children:"Internal Note"})]}),(0,En.jsx)("div",{className:"comment-content",children:e.content})]},e._id||t)})}),(0,En.jsxs)("div",{className:"add-comment",children:[(0,En.jsx)("h4",{children:"Add Comment"}),(0,En.jsx)("textarea",{value:b,onChange:e=>w(e.target.value),placeholder:"Type your comment here...",rows:"4",maxLength:"2000","aria-label":"Add comment"}),(0,En.jsxs)("div",{className:"comment-actions",children:["technician"===(null===u||void 0===u?void 0:u.role)||"admin"===(null===u||void 0===u?void 0:u.role)?(0,En.jsxs)("div",{className:"internal-note-option",children:[(0,En.jsx)("input",{type:"checkbox",id:"internal-note","aria-label":"Mark as internal note"}),(0,En.jsx)("label",{htmlFor:"internal-note",children:"Internal note (visible to staff only)"})]}):null,(0,En.jsx)("button",{onClick:async()=>{if(b.trim()&&h)try{k(!0);const n={content:b.trim(),author:(null===u||void 0===u?void 0:u.id)||(null===u||void 0===u?void 0:u._id),isInternal:"technician"===(null===u||void 0===u?void 0:u.role)||"admin"===(null===u||void 0===u?void 0:u.role),createdAt:(new Date).toISOString()};if(Aa.addComment&&"function"===typeof Aa.addComment){if(await Aa.addComment(h._id,n),Aa.getComments)try{const t=await Aa.getComments(h._id);var e;if(t&&t.success)x((null===(e=t.data)||void 0===e?void 0:e.comments)||t.comments||t.data||[])}catch(t){console.warn("Could not refresh comments:",t)}x(e=>[n,...e]),w("")}else x(e=>[n,...e]),w("")}catch(v){console.error("Error adding comment:",v),g({message:"Failed to add comment. Please try again.",type:"comment",retryable:!1})}finally{k(!1)}},disabled:!b.trim()||j,className:"btn btn-primary",children:j?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"comment-spinner"}),"Posting..."]}):"Post Comment"})]})]})]})]})]})]})}):(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"not-found",children:(0,En.jsxs)("div",{className:"not-found-content",children:[(0,En.jsx)("h2",{children:"Ticket Not Found"}),(0,En.jsx)("p",{children:"The ticket you're looking for doesn't exist or has been deleted."}),(0,En.jsx)("button",{onClick:()=>c("/tickets"),className:"btn btn-primary",children:"View All Tickets"})]})})]});var P,_},$i=()=>{const[e,t]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:"",role:"student",department:"",program:"",campus:"main",studentId:"",phone:"",yearOfEntry:(new Date).getFullYear().toString().slice(-2),status:"R",agreeToTerms:!1,receiveNotifications:!0}),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)({}),[c,u]=(0,a.useState)(0),[d,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)(0),[g,y]=(0,a.useState)(!1),[x,b]=(0,a.useState)(""),w=(0,a.useRef)(null),{register:j,logSecurityEvent:k}=ya(),N=ie(),S="Bugema University",C=["@bugemauniv.ac.ug","@student.bugemauniv.ac.ug"],E=(new Date).getFullYear().toString().slice(-2),T=[{value:"main",label:"Main Campus (Luwero)",code:"BU"},{value:"kampala",label:"Kampala Campus",code:"KLA"},{value:"australia",label:"Australia Campus",code:"AUS"},{value:"nairobi",label:"Nairobi Campus",code:"NRB"},{value:"kigali",label:"Kigali Campus",code:"KGL"}],P=[{value:"bit",label:"Bachelor of Information Technology",department:"computing",code:"BIT"},{value:"bcs",label:"Bachelor of Computer Science",department:"computing",code:"BCS"},{value:"dbit",label:"Diploma in Information Technology",department:"computing",code:"DBIT"},{value:"bba",label:"Bachelor of Business Administration",department:"business",code:"BBA"},{value:"bacco",label:"Bachelor of Accounting",department:"business",code:"BACCO"},{value:"bmgt",label:"Bachelor of Management",department:"business",code:"BMGT"},{value:"bed",label:"Bachelor of Education",department:"education",code:"BED"},{value:"bed_arts",label:"Bachelor of Education (Arts)",department:"education",code:"BED-A"},{value:"bed_sci",label:"Bachelor of Education (Science)",department:"education",code:"BED-S"},{value:"bth",label:"Bachelor of Theology",department:"theology",code:"BTH"},{value:"mdiv",label:"Master of Divinity",department:"theology",code:"MDIV"},{value:"bn",label:"Bachelor of Nursing",department:"health",code:"BN"},{value:"bpharm",label:"Bachelor of Pharmacy",department:"health",code:"BPHARM"},{value:"mba",label:"Master of Business Administration",department:"postgraduate",code:"MBA"},{value:"mcs",label:"Master of Computer Science",department:"postgraduate",code:"MCS"},{value:"mphil",label:"Master of Philosophy",department:"postgraduate",code:"MPHIL"},{value:"phd",label:"Doctor of Philosophy",department:"postgraduate",code:"PHD"}],_=[{value:"student",label:"Student",description:"Current student of Bugema University",icon:"\ud83c\udf93",permissions:["create_ticket","view_own_tickets","access_knowledge_base","view_announcements"],requiresApproval:!1,showStudentFields:!0},{value:"lecturer",label:"Lecturer/Instructor",description:"Teaching staff and instructors",icon:"\ud83d\udc68\u200d\ud83c\udfeb",permissions:["create_ticket","view_department_tickets","access_knowledge_base","manage_course_content"],requiresApproval:!0,showStudentFields:!1},{value:"staff",label:"Administrative Staff",description:"Non-teaching administrative staff",icon:"\ud83d\udc68\u200d\ud83d\udcbc",permissions:["create_ticket","view_department_tickets","access_knowledge_base","manage_documents"],requiresApproval:!0,showStudentFields:!1},{value:"technician",label:"IT Technician",description:"IT support and technical staff",icon:"\ud83d\udc68\u200d\ud83d\udcbb",permissions:["view_all_tickets","resolve_tickets","manage_assets","access_admin_tools"],requiresApproval:!0,showStudentFields:!1},{value:"admin",label:"System Administrator",description:"Full system access and user management",icon:"\ud83d\udd27",permissions:["all_permissions"],requiresApproval:!0,showStudentFields:!1}],R=[{value:"R",label:"Regular Student",description:"Full-time on-campus student"},{value:"H",label:"In-service/Distance",description:"Part-time or distance learning student"},{value:"E",label:"Evening Student",description:"Evening program student"},{value:"W",label:"Weekend Student",description:"Weekend program student"}];(0,a.useEffect)(()=>{w.current&&w.current.focus()},[]),(0,a.useEffect)(()=>{A()},[e]),(0,a.useEffect)(()=>{e.password?I(e.password):u(0)},[e.password]),(0,a.useEffect)(()=>{"student"===e.role&&e.program&&e.campus&&O()},[e.program,e.campus,e.yearOfEntry,e.status]);const O=()=>{const t=P.find(t=>t.value===e.program),n=T.find(t=>t.value===e.campus);if(t&&n){const r=e.yearOfEntry||E,s=t.code,a=n.code,i=e.status||"R",o=Math.floor(9e3*Math.random()+1e3).toString(),l="".concat(r,"/").concat(s,"/").concat(a,"/").concat(i,"/").concat(o);b(l)}},I=t=>{let n=0;t.length>=8&&(n+=25),t.length>=12&&(n+=10),/[A-Z]/.test(t)&&(n+=15),/[a-z]/.test(t)&&(n+=15),/[0-9]/.test(t)&&(n+=15),/[^A-Za-z0-9]/.test(t)&&(n+=15);return["123456","password","qwerty","111111",new RegExp(e.username.toLowerCase()),new RegExp(e.email.split("@")[0].toLowerCase())].forEach(e=>{("string"===typeof e&&t.includes(e)||e instanceof RegExp&&e.test(t))&&(n-=20)}),n=Math.max(0,Math.min(100,n)),u(n),n},A=()=>{const t=["username","email","password","confirmPassword","role","agreeToTerms"];"student"===e.role?t.push("program","campus","yearOfEntry","status","studentId"):t.push("department");let n=0;t.forEach(t=>{var r;"agreeToTerms"===t?e[t]&&n++:null!==(r=e[t])&&void 0!==r&&r.toString().trim()&&n++});const r=Math.round(n/t.length*100);v(r)},L=e=>{const{name:s,value:a,type:i,checked:c}=e.target;let u=a;switch(s){case"username":u=a.trim();break;case"email":u=a.trim().toLowerCase();break;case"phone":u=M(a);break;case"studentId":u=a.trim().toUpperCase();break;case"yearOfEntry":u=a.replace(/\D/g,"").slice(0,2);break;default:u=a}t(e=>qe(qe({},e),{},{[s]:"checkbox"===i?c:u})),o[s]&&l(e=>qe(qe({},e),{},{[s]:""})),n&&r("")},M=e=>{const t=e.replace(/\D/g,"");if(t.startsWith("256")){const e=t.slice(3);if(e.length<=9)return"256 ".concat(e.slice(0,3)," ").concat(e.slice(3,6)," ").concat(e.slice(6,9))}else if(t.startsWith("0")){const e=t.slice(1);if(e.length<=9)return"0".concat(e.slice(0,3)," ").concat(e.slice(3,6)," ").concat(e.slice(6,9))}return e},D=(0,a.useCallback)(()=>{const t={};var n,r,s,a;return t.username=(n=e.username).trim()?n.length<2?"Name must be at least 2 characters":/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\s\-\'\.]+$/.test(n)?null:"Name can only contain letters, spaces, hyphens, apostrophes, and periods":"Full name is required",t.email=(r=e.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim())?C.some(e=>r.toLowerCase().endsWith(e.toLowerCase()))?null:"Please use your Bugema University email address (".concat(C.join(" or "),")"):"Please enter a valid email address"),t.phone=(e=>{if(!e.trim())return null;const t=e.replace(/[\s\-\(\)\.]/g,"");return/^(?:256|0)(7[0-9]{8})$/.test(t)?null:"Please enter a valid Ugandan phone number (e.g., 07xxxxxxxx or 2567xxxxxxxx)"})(e.phone),t.studentId=(t=>{if("student"!==e.role)return null;if(!t.trim())return"Student ID is required for student accounts";const n=t.trim().match(/^(\d{2})\/([A-Z]{2,6})\/([A-Z]{2,3})\/([A-Z])\/(\d{4})$/);if(!n)return"Invalid Student ID format. Use format: YY/PROGRAM/CAMPUS/STATUS/NUMBER (e.g., 22/BIT/BU/R/0010)";const[r,s,a,i,o,l]=n,c=parseInt(E),u=parseInt(s);return u<10||u>c?"Invalid entry year. Should be between 10 and ".concat(c):P.find(e=>e.code===a)?T.find(e=>e.code===i)?R.find(e=>e.value===o)?4!==l.length||0===parseInt(l)?"Invalid unique number. Should be 4 digits (0001-9999)":null:"Invalid status code. Valid codes: ".concat(R.map(e=>e.value).join(", ")):"Invalid campus code. Valid codes: ".concat(T.map(e=>e.code).join(", ")):"Invalid program code. Valid codes: ".concat(P.map(e=>e.code).join(", "))})(e.studentId),t.program=(s=e.program,"student"!==e.role||s?null:"Please select your program/course"),t.campus=(a=e.campus,"student"!==e.role||a?null:"Please select your campus"),e.password?e.password.length<8?t.password="Password must be at least 8 characters":c<30&&(t.password="Please choose a stronger password"):t.password="Password is required",e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),"student"===e.role||e.department||(t.department="Please select your department"),e.agreeToTerms||(t.agreeToTerms="You must agree to the Terms of Service"),Object.keys(t).forEach(e=>{t[e]||delete t[e]}),l(t),0===Object.keys(t).length},[e,c]),z=e=>{t(t=>qe(qe(qe({},t),{},{role:e},"student"===t.role&&"student"!==e&&{studentId:"",program:"",campus:"main",yearOfEntry:E,status:"R"}),"student"!==t.role&&"student"===e&&{department:""})),l(e=>{const t=qe({},e);return delete t.studentId,delete t.program,delete t.campus,delete t.department,t})},U=c<30?{label:"Weak",color:"#ef4444",className:"weak"}:c<60?{label:"Fair",color:"#f59e0b",className:"fair"}:c<80?{label:"Good",color:"#10b981",className:"good"}:{label:"Strong",color:"#059669",className:"strong"},F=s||g,B=_.find(t=>t.value===e.role)||_[0];return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsx)("div",{className:"auth-container",children:(0,En.jsxs)("div",{className:"auth-form",children:[(0,En.jsxs)("div",{className:"auth-header",children:[(0,En.jsxs)("div",{className:"auth-logo",children:[(0,En.jsxs)("svg",{className:"logo-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,En.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,En.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,En.jsx)("h2",{children:"Bugema University IT Support"})]}),(0,En.jsx)("p",{className:"auth-subtitle",children:"Create your university account"})]}),(0,En.jsx)("div",{className:"progress-bar",children:(0,En.jsx)("div",{className:"progress-fill",style:{width:"".concat(f,"%")},role:"progressbar","aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100",children:(0,En.jsxs)("span",{className:"progress-text",children:[f,"% Complete"]})})}),n&&(0,En.jsxs)("div",{className:"error-message",role:"alert",children:[(0,En.jsx)("div",{className:"error-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsx)("div",{className:"error-content",children:(0,En.jsx)("p",{children:n})})]}),(0,En.jsxs)("form",{onSubmit:async t=>{var n;if(t.preventDefault(),r(""),l({}),D()){i(!0),y(!0);try{var s;k("registration_attempt",{email:e.email,role:e.role,program:e.program,campus:e.campus,timestamp:(new Date).toISOString()});const t={username:e.username.trim(),email:e.email.trim().toLowerCase(),password:e.password,role:e.role,phone:e.phone?e.phone.replace(/\D/g,""):void 0,metadata:{registrationTimestamp:(new Date).toISOString(),userAgent:navigator.userAgent,screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,institution:S}};var a;if("student"===e.role)t.studentInfo={studentId:e.studentId.trim().toUpperCase(),program:e.program,campus:e.campus,yearOfEntry:e.yearOfEntry,status:e.status,department:null===(a=P.find(t=>t.value===e.program))||void 0===a?void 0:a.department};else t.department=e.department,t.position=e.role;console.log("\ud83d\udd10 Registering user at Bugema University:",{email:t.email,role:t.role,studentId:null===(s=t.studentInfo)||void 0===s?void 0:s.studentId});const n=await j(t);if(!n.success)throw new Error(n.error||"Registration failed");var o;k("registration_success",{email:e.email,role:e.role,studentId:e.studentId,userId:null===(o=n.user)||void 0===o?void 0:o._id}),N("/dashboard",{state:{registrationSuccess:!0,message:"Welcome to ".concat(S," IT Support System!"),userRole:e.role,studentId:e.studentId}})}catch(u){var c;console.error("\u274c Registration error:",u);let t="Registration failed. Please try again.";if(u.response){const{status:e,data:r}=u.response;switch(e){case 400:t=(null===r||void 0===r?void 0:r.message)||"Invalid registration data";break;case 409:t=null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&n.includes("Student ID")?"This Student ID is already registered":"An account with this email already exists";break;case 422:t=(null===r||void 0===r?void 0:r.message)||"Validation failed. Please check your inputs.";break;case 429:t="Too many registration attempts. Please try again later.";break;case 500:t="Server error. Please try again later.";break;default:t=(null===r||void 0===r?void 0:r.message)||t}}else"ECONNABORTED"===u.code?t="Request timeout. Please check your connection.":"Network Error"===u.message&&(t="Cannot connect to server. Check your internet connection.");r(t),k("registration_failed",{email:e.email,error:u.message,status:null===(c=u.response)||void 0===c?void 0:c.status})}finally{i(!1),y(!1)}}else r("Please fix the errors in the form")},className:"register-form",noValidate:!0,children:[(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),"Personal Information"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"username",className:"form-label",children:["Full Name ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.username?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,En.jsx)("input",{ref:w,id:"username",name:"username",type:"text",autoComplete:"name",value:e.username,onChange:L,disabled:F,placeholder:"Enter your full name",className:"form-input","aria-describedby":o.username?"username-error":void 0,"aria-required":"true"})]}),o.username&&(0,En.jsxs)("div",{id:"username-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.username]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Bugema University Email ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.email?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,En.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:L,disabled:F,placeholder:"name@bugemauniv.ac.ug",className:"form-input","aria-describedby":o.email?"email-error":void 0,"aria-required":"true"})]}),o.email&&(0,En.jsxs)("div",{id:"email-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.email]}),(0,En.jsx)("div",{className:"info-note",children:(0,En.jsx)("div",{className:"note-content",children:(0,En.jsx)("p",{children:"Use your official Bugema University email address"})})})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"phone",className:"form-label",children:["Phone Number (Uganda) ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.phone?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})})}),(0,En.jsx)("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:e.phone,onChange:L,disabled:F,placeholder:"07XXXXXXXX or 2567XXXXXXXX",className:"form-input","aria-describedby":o.phone?"phone-error":void 0,"aria-required":"true"})]}),o.phone&&(0,En.jsxs)("div",{id:"phone-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.phone]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Account Type"]}),(0,En.jsx)("div",{className:"role-selection",children:_.map(t=>(0,En.jsxs)("label",{className:"role-option ".concat(e.role===t.value?"selected":""),onClick:()=>z(t.value),children:[(0,En.jsx)("input",{type:"radio",name:"role",value:t.value,checked:e.role===t.value,onChange:()=>z(t.value),className:"role-radio",disabled:F,"aria-label":t.label}),(0,En.jsxs)("div",{className:"role-content",children:[(0,En.jsx)("span",{className:"role-icon",children:t.icon}),(0,En.jsxs)("div",{className:"role-info",children:[(0,En.jsx)("span",{className:"role-label",children:t.label}),(0,En.jsx)("span",{className:"role-description",children:t.description}),t.requiresApproval&&(0,En.jsxs)("span",{className:"role-notice",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"14px",height:"14px",marginRight:"4px"},children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Requires approval"]})]})]})]},t.value))})]}),B.showStudentFields&&(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"})}),"Academic Information"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"program",className:"form-label",children:["Program/Course ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.program?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"})})}),(0,En.jsxs)("select",{id:"program",name:"program",value:e.program,onChange:L,disabled:F,className:"form-select","aria-describedby":o.program?"program-error":void 0,"aria-required":"true",children:[(0,En.jsx)("option",{value:"",children:"Select your program"}),P.map(e=>(0,En.jsxs)("option",{value:e.value,children:[e.label," (",e.code,")"]},e.value))]})]}),o.program&&(0,En.jsxs)("div",{id:"program-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.program]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"campus",className:"form-label",children:["Campus ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.campus?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,En.jsxs)("select",{id:"campus",name:"campus",value:e.campus,onChange:L,disabled:F,className:"form-select","aria-describedby":o.campus?"campus-error":void 0,"aria-required":"true",children:[(0,En.jsx)("option",{value:"",children:"Select your campus"}),T.map(e=>(0,En.jsxs)("option",{value:e.value,children:[e.label," (",e.code,")"]},e.value))]})]}),o.campus&&(0,En.jsxs)("div",{id:"campus-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.campus]})]}),(0,En.jsxs)("div",{className:"form-row",children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"yearOfEntry",className:"form-label",children:["Year of Entry ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group",children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})})}),(0,En.jsx)("input",{id:"yearOfEntry",name:"yearOfEntry",type:"text",value:e.yearOfEntry,onChange:L,disabled:F,placeholder:"YY (e.g., 22)",maxLength:"2",className:"form-input","aria-required":"true"})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"status",className:"form-label",children:["Student Status ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group",children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,En.jsx)("select",{id:"status",name:"status",value:e.status,onChange:L,disabled:F,className:"form-select","aria-required":"true",children:R.map(e=>(0,En.jsxs)("option",{value:e.value,children:[e.label," (",e.value,")"]},e.value))})]})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"studentId",className:"form-label",children:["Student ID ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.studentId?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"})})}),(0,En.jsx)("input",{id:"studentId",name:"studentId",type:"text",value:e.studentId,onChange:L,disabled:F,placeholder:"22/BIT/BU/R/0010",className:"form-input","aria-describedby":o.studentId?"studentId-error":void 0,"aria-required":"true"})]}),o.studentId&&(0,En.jsxs)("div",{id:"studentId-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.studentId]}),(0,En.jsx)("div",{className:"info-note",children:(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Student ID Format:"})," YY/PROGRAM/CAMPUS/STATUS/NUMBER"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Example:"})," 22/BIT/BU/R/0010"]}),(0,En.jsxs)("p",{children:[(0,En.jsx)("strong",{children:"Where:"}),"22 = Year of entry, BIT = Program code, BU = Campus code, R = Student status (R/H/E/W), 0010 = Unique number"]})]})}),x&&(0,En.jsx)("div",{className:"info-note success",children:(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Expected format based on your selection:"})}),(0,En.jsx)("code",{className:"student-id-preview",children:x})]})})]})]}),!B.showStudentFields&&(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})}),"Staff Information"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"department",className:"form-label",children:["Department ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.department?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,En.jsxs)("select",{id:"department",name:"department",value:e.department,onChange:L,disabled:F,className:"form-select","aria-describedby":o.department?"department-error":void 0,"aria-required":"true",children:[(0,En.jsx)("option",{value:"",children:"Select your department"}),[{value:"computing",label:"School of Computing and Informatics"},{value:"business",label:"School of Business"},{value:"education",label:"School of Education"},{value:"theology",label:"School of Theology"},{value:"health",label:"School of Health Sciences"},{value:"administration",label:"University Administration"},{value:"finance",label:"Finance Department"},{value:"registry",label:"Academic Registry"},{value:"library",label:"University Library"},{value:"it_services",label:"IT Services Department"},{value:"facilities",label:"Facilities Management"},{value:"security",label:"Security Department"}].map(e=>(0,En.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),o.department&&(0,En.jsxs)("div",{id:"department-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.department]})]}),(0,En.jsxs)("div",{className:"info-note warning",children:[(0,En.jsx)("div",{className:"note-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})})}),(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsx)("strong",{children:"Staff Account Verification"}),(0,En.jsx)("p",{children:"Staff, lecturer, and administrator accounts require verification by the IT department. You will receive an email notification once your account is approved."})]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),"Account Security"]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.password?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"new-password",value:e.password,onChange:L,disabled:F,placeholder:"Create a strong password",className:"form-input","aria-describedby":o.password?"password-error":void 0,"aria-required":"true"}),(0,En.jsx)("button",{type:"button",onClick:()=>{h(!d)},className:"password-toggle",disabled:F,"aria-label":d?"Hide password":"Show password",children:d?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),e.password&&(0,En.jsxs)("div",{className:"password-strength",children:[(0,En.jsx)("div",{className:"strength-meter",children:(0,En.jsx)("div",{className:"strength-bar ".concat(U.className),style:{width:"".concat(c,"%")}})}),(0,En.jsxs)("div",{className:"strength-info",children:[(0,En.jsxs)("span",{className:"strength-label",children:["Strength: ",U.label]}),(0,En.jsxs)("span",{className:"strength-score",children:[c,"%"]})]})]}),o.password&&(0,En.jsxs)("div",{id:"password-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.password]}),(0,En.jsxs)("div",{className:"password-requirements",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Password requirements:"})}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{className:e.password.length>=8?"valid":"invalid",children:"At least 8 characters"}),(0,En.jsx)("li",{className:/[A-Z]/.test(e.password)?"valid":"invalid",children:"One uppercase letter"}),(0,En.jsx)("li",{className:/[a-z]/.test(e.password)?"valid":"invalid",children:"One lowercase letter"}),(0,En.jsx)("li",{className:/[0-9]/.test(e.password)?"valid":"invalid",children:"One number"}),(0,En.jsx)("li",{className:/[^A-Za-z0-9]/.test(e.password)?"valid":"invalid",children:"One special character"})]})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:["Confirm Password ",(0,En.jsx)("span",{className:"required",children:"*"})]}),(0,En.jsxs)("div",{className:"input-group ".concat(o.confirmPassword?"error":""),children:[(0,En.jsx)("div",{className:"input-icon",children:(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})})}),(0,En.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:m?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:L,disabled:F,placeholder:"Re-enter your password",className:"form-input","aria-describedby":o.confirmPassword?"confirmPassword-error":void 0,"aria-required":"true"}),(0,En.jsx)("button",{type:"button",onClick:()=>{p(!m)},className:"password-toggle",disabled:F,"aria-label":m?"Hide password":"Show password",children:m?(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),o.confirmPassword&&(0,En.jsxs)("div",{id:"confirmPassword-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.confirmPassword]})]})]}),(0,En.jsxs)("div",{className:"form-section",children:[(0,En.jsxs)("h3",{className:"section-title",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",style:{width:"20px",height:"20px"},children:(0,En.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"})}),"Terms and Conditions"]}),(0,En.jsxs)("div",{className:"form-group checkbox-group",children:[(0,En.jsxs)("label",{className:"checkbox-label",children:[(0,En.jsx)("input",{type:"checkbox",name:"agreeToTerms",checked:e.agreeToTerms,onChange:L,disabled:F,className:"checkbox-input","aria-describedby":o.agreeToTerms?"terms-error":void 0,"aria-required":"true"}),(0,En.jsx)("span",{className:"checkbox-custom"}),(0,En.jsxs)("span",{className:"checkbox-text",children:["I agree to Bugema University's"," ",(0,En.jsx)(Me,{to:"/terms",target:"_blank",className:"link",children:"Terms of Service"})," ","and"," ",(0,En.jsx)(Me,{to:"/privacy",target:"_blank",className:"link",children:"Privacy Policy"}),(0,En.jsx)("span",{className:"required",children:"*"})]})]}),o.agreeToTerms&&(0,En.jsxs)("div",{id:"terms-error",className:"error-text",role:"alert",children:[(0,En.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:(0,En.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o.agreeToTerms]})]}),(0,En.jsx)("div",{className:"form-group checkbox-group",children:(0,En.jsxs)("label",{className:"checkbox-label",children:[(0,En.jsx)("input",{type:"checkbox",name:"receiveNotifications",checked:e.receiveNotifications,onChange:L,disabled:F,className:"checkbox-input"}),(0,En.jsx)("span",{className:"checkbox-custom"}),(0,En.jsx)("span",{className:"checkbox-text",children:"I want to receive notifications about university announcements and system updates"})]})}),(0,En.jsx)("div",{className:"info-note",children:(0,En.jsxs)("div",{className:"note-content",children:[(0,En.jsx)("p",{children:(0,En.jsx)("strong",{children:"Important Information:"})}),(0,En.jsxs)("ul",{children:[(0,En.jsx)("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),(0,En.jsx)("li",{children:"All account activities are monitored for security purposes"}),(0,En.jsx)("li",{children:"Misuse of the system may result in account suspension"}),(0,En.jsx)("li",{children:"By registering, you confirm that all information provided is accurate"})]})]})})]}),(0,En.jsx)("div",{className:"form-group",children:(0,En.jsx)("button",{type:"submit",disabled:F,className:"auth-btn ".concat(s?"loading":""),"aria-busy":s,children:s?(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)("span",{className:"spinner"}),"Creating Account..."]}):"Create Bugema University Account"})})]}),(0,En.jsxs)("div",{className:"auth-footer",children:[(0,En.jsxs)("p",{className:"auth-link",children:["Already have an account?"," ",(0,En.jsx)(Me,{to:"/login",className:"link","aria-disabled":F,children:"Login here"})]}),(0,En.jsxs)("p",{className:"auth-version",children:["Bugema University IT Support System v",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"]})]}),(0,En.jsxs)("div",{className:"security-footer",children:[(0,En.jsx)("p",{className:"security-notice",children:"Need help with registration? Contact Bugema University IT Support:"}),(0,En.jsxs)("p",{className:"security-contact",children:["\ud83d\udce7 ",(0,En.jsx)("a",{href:"mailto:itsupport@bugemauniv.ac.ug",children:"itsupport@bugemauniv.ac.ug"})," \u2022 \ud83d\udcde ",(0,En.jsx)("a",{href:"tel:+256392730294",children:"+256 392 730 294"})," \u2022 \ud83d\udccd Main Campus, Luwero"]})]})]})})]})},Yi=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({}),[s,i]=(0,a.useState)({startDate:"",endDate:"",status:"",issueType:""}),[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=await _i.getDashboardStats();r(e)}catch(e){console.error("Error fetching stats:",e)}},h=(e,t)=>{i(n=>qe(qe({},n),{},{[e]:t}))};return(0,En.jsxs)(En.Fragment,{children:[(0,En.jsx)(Ea,{}),(0,En.jsxs)("div",{className:"reports-page",children:[(0,En.jsxs)("div",{className:"reports-header",children:[(0,En.jsx)("h1",{children:"Ticket Reports"}),(0,En.jsxs)("div",{className:"report-actions",children:[(0,En.jsx)("button",{onClick:()=>{window.print()},className:"btn-secondary",children:"Print Report"}),(0,En.jsx)("button",{onClick:()=>{const t=[["Ticket ID","Title","Status","Urgency","Issue Type","Created Date","Assigned To"],...e.map(e=>{var t;return[e.ticketId,e.title,e.status,e.urgency,e.issueType,new Date(e.createdAt).toLocaleDateString(),(null===(t=e.assignedTo)||void 0===t?void 0:t.username)||"Unassigned"]})].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),n=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="tickets-report-".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(r)},disabled:0===e.length,className:"btn-primary",children:"Export to CSV"})]})]}),(0,En.jsxs)("div",{className:"report-filters",children:[(0,En.jsx)("h3",{children:"Generate Custom Report"}),(0,En.jsxs)("div",{className:"filter-grid",children:[(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Start Date"}),(0,En.jsx)("input",{type:"date",value:s.startDate,onChange:e=>h("startDate",e.target.value)})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"End Date"}),(0,En.jsx)("input",{type:"date",value:s.endDate,onChange:e=>h("endDate",e.target.value)})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Status"}),(0,En.jsxs)("select",{value:s.status,onChange:e=>h("status",e.target.value),children:[(0,En.jsx)("option",{value:"",children:"All Status"}),(0,En.jsx)("option",{value:"open",children:"Open"}),(0,En.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,En.jsx)("option",{value:"resolved",children:"Resolved"}),(0,En.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,En.jsxs)("div",{className:"form-group",children:[(0,En.jsx)("label",{children:"Issue Type"}),(0,En.jsxs)("select",{value:s.issueType,onChange:e=>h("issueType",e.target.value),children:[(0,En.jsx)("option",{value:"",children:"All Types"}),(0,En.jsx)("option",{value:"hardware",children:"Hardware"}),(0,En.jsx)("option",{value:"software",children:"Software"}),(0,En.jsx)("option",{value:"network",children:"Network"}),(0,En.jsx)("option",{value:"account",children:"Account"}),(0,En.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,En.jsx)("button",{onClick:async()=>{u(!0);try{const e=await Aa.getTickets(s);t(e.tickets)}catch(e){console.error("Error generating report:",e)}finally{u(!1)}},disabled:c,className:"btn-primary generate-btn",children:c?"Generating...":"Generate Report"})]}),(0,En.jsxs)("div",{className:"report-stats",children:[(0,En.jsx)("h3",{children:"System Statistics"}),(0,En.jsxs)("div",{className:"stats-grid",children:[(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h4",{children:"Total Tickets"}),(0,En.jsx)("div",{className:"stat-number",children:n.totalTickets||0})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h4",{children:"Open Tickets"}),(0,En.jsx)("div",{className:"stat-number",children:n.openTickets||0})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h4",{children:"In Progress"}),(0,En.jsx)("div",{className:"stat-number",children:n.inProgressTickets||0})]}),(0,En.jsxs)("div",{className:"stat-card",children:[(0,En.jsx)("h4",{children:"Resolved"}),(0,En.jsx)("div",{className:"stat-number",children:n.resolvedTickets||0})]})]})]}),e.length>0&&(0,En.jsxs)("div",{className:"report-results",children:[(0,En.jsxs)("h3",{children:["Report Results (",e.length," tickets)"]}),(0,En.jsx)("div",{className:"report-table-container",children:(0,En.jsxs)("table",{className:"report-table",children:[(0,En.jsx)("thead",{children:(0,En.jsxs)("tr",{children:[(0,En.jsx)("th",{children:"Ticket ID"}),(0,En.jsx)("th",{children:"Title"}),(0,En.jsx)("th",{children:"Status"}),(0,En.jsx)("th",{children:"Urgency"}),(0,En.jsx)("th",{children:"Issue Type"}),(0,En.jsx)("th",{children:"Created Date"}),(0,En.jsx)("th",{children:"Assigned To"})]})}),(0,En.jsx)("tbody",{children:e.map(e=>{var t;return(0,En.jsxs)("tr",{children:[(0,En.jsx)("td",{children:e.ticketId}),(0,En.jsx)("td",{children:e.title}),(0,En.jsx)("td",{children:(0,En.jsx)("span",{className:"status-badge status-".concat(e.status),children:e.status})}),(0,En.jsx)("td",{children:(0,En.jsx)("span",{className:"urgency-badge urgency-".concat(e.urgency),children:e.urgency})}),(0,En.jsx)("td",{children:e.issueType}),(0,En.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,En.jsx)("td",{children:(null===(t=e.assignedTo)||void 0===t?void 0:t.username)||"Unassigned"})]},e._id)})})]})})]})]})]})},Zi=new Cn({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}});const Xi=function(){return(0,En.jsx)(ka,{children:(0,En.jsx)(_n,{client:Zi,children:(0,En.jsx)(wa,{children:(0,En.jsxs)(Ie,{children:[(0,En.jsxs)(Ee,{children:[(0,En.jsx)(Se,{path:"/",element:(0,En.jsx)(ke,{to:"/login",replace:!0})}),(0,En.jsx)(Se,{path:"/login",element:(0,En.jsx)(Ta,{})}),(0,En.jsx)(Se,{path:"/register",element:(0,En.jsx)(Pa,{})}),(0,En.jsx)(Se,{path:"/verify-email/:token",element:(0,En.jsx)(_a,{})}),(0,En.jsx)(Se,{path:"/forgot-password",element:(0,En.jsx)(Ra,{})}),(0,En.jsx)(Se,{path:"/reset-password/:token",element:(0,En.jsx)(Oa,{})}),(0,En.jsxs)(Se,{element:(0,En.jsx)(Ca,{}),children:[(0,En.jsx)(Se,{path:"/dashboard",element:(0,En.jsx)(qi,{})}),(0,En.jsx)(Se,{path:"/admin",element:(0,En.jsx)(Fi,{})}),(0,En.jsx)(Se,{path:"/technician",element:(0,En.jsx)(Bi,{})}),(0,En.jsx)(Se,{path:"/staff",element:(0,En.jsx)(La,{})}),(0,En.jsx)(Se,{path:"/student",element:(0,En.jsx)(Vi,{})}),(0,En.jsx)(Se,{path:"/tickets/create",element:(0,En.jsx)($i,{})}),(0,En.jsx)(Se,{path:"/tickets/:id",element:(0,En.jsx)(Ki,{})}),(0,En.jsx)(Se,{path:"/tickets",element:(0,En.jsx)(Qi,{})}),(0,En.jsx)(Se,{path:"/reports",element:(0,En.jsx)(Yi,{})}),(0,En.jsx)(Se,{path:"/create-ticket",element:(0,En.jsx)(ke,{to:"/tickets/create",replace:!0})}),(0,En.jsx)(Se,{path:"*",element:(0,En.jsx)(ke,{to:"/dashboard",replace:!0})})]})]}),(0,En.jsx)(Rn,{initialIsOpen:!1})]})})})})};o.createRoot(document.getElementById("root")).render((0,En.jsx)(a.StrictMode,{children:(0,En.jsx)(Xi,{})}))})();
//# sourceMappingURL=main.3873bb00.js.map