{"ast":null,"code":"import _objectSpread from\"C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import api from'./api';const userService={getTechnicians:async()=>{const response=await api.get('/users/technicians');return response.data;},getDashboardStats:async()=>{const response=await api.get('/users/dashboard/stats');return response.data;},getDepartmentStats:async()=>{const response=await api.get('/users/dashboard/department/stats');return response.data;},// Get all users with advanced filtering (admin only) \ngetAllUsers:async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams();Object.keys(filters).forEach(key=>{if(filters[key]!==''&&filters[key]!==null&&filters[key]!==undefined){params.append(key,filters[key]);}});const response=await api.get(\"/users/admin/users?\".concat(params));return response.data;},// Admin-only user creation\ncreateUser:async userData=>{const response=await api.post('/users/admin/users',userData);return response.data;},// Admin-only user updates \nupdateUser:async(userId,updates)=>{const response=await api.put(\"/users/admin/users/\".concat(userId),updates);return response.data;},// Admin-only user deletion \ndeleteUser:async userId=>{const response=await api.delete(\"/users/admin/users/\".concat(userId));return response.data;},// Get user by ID (admin only) \ngetUserById:async userId=>{const response=await api.get(\"/users/admin/users/\".concat(userId));return response.data;},// Deactivate user (admin only) \ndeactivateUser:async userId=>{console.log('ðŸ”„ userService: Deactivating user',userId);try{const response=await api.put(\"/users/admin/users/\".concat(userId,\"/deactivate\"));console.log('âœ… userService: User deactivated successfully');return response.data;}catch(error){var _error$response;console.error('âŒ userService: Deactivation error:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);throw error;}},// Reactivate user (admin only) \nreactivateUser:async userId=>{console.log('ðŸ”„ userService: Reactivating user',userId);try{const response=await api.put(\"/users/admin/users/\".concat(userId,\"/reactivate\"));console.log('âœ… userService: User reactivated successfully');return response.data;}catch(error){var _error$response2;console.error('âŒ userService: Reactivation error:',((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);throw error;}},// ==================== STATISTICS \n// User statistics for admin dashboard \ngetUserStats:async()=>{const response=await api.get('/users/admin/stats');return response.data;},// Comprehensive system statistics (admin only) \ngetSystemStats:async()=>{const response=await api.get('/users/admin/system-stats');return response.data;},// ==================== USER PROFILE MANAGEMENT \ngetCurrentUser:async()=>{const response=await api.get('/users/me');return response.data;},updateProfile:async updates=>{const response=await api.put('/users/profile',updates);return response.data;},changePassword:async(currentPassword,newPassword)=>{const response=await api.put('/users/change-password',{currentPassword,newPassword});return response.data;},// Validate user data\nvalidateUserData:userData=>{const errors=[];if(!userData.username||userData.username.trim().length<3){errors.push('Username must be at least 3 characters long');}if(!userData.email||!/\\S+@\\S+\\.\\S+/.test(userData.email)){errors.push('Valid email address is required');}if(!userData.password||userData.password.length<6){errors.push('Password must be at least 6 characters long');}if(!userData.role){errors.push('User role is required');}return errors;},// Format user for display\nformatUser:user=>{var _user$role,_user$role2;return _objectSpread(_objectSpread({},user),{},{formattedCreatedAt:new Date(user.createdAt).toLocaleDateString(),formattedLastLogin:user.lastLogin?new Date(user.lastLogin).toLocaleDateString():'Never',status:user.isActive?user.isVerified?'Active':'Pending Verification':'Inactive',roleDisplay:((_user$role=user.role)===null||_user$role===void 0?void 0:_user$role.charAt(0).toUpperCase())+((_user$role2=user.role)===null||_user$role2===void 0?void 0:_user$role2.slice(1))});},// Check if user has admin privileges\nisAdmin:user=>{return(user===null||user===void 0?void 0:user.role)==='admin';},// Check if user can manage other users\ncanManageUsers:user=>{return['admin','technician'].includes(user===null||user===void 0?void 0:user.role);}};export default userService;","map":{"version":3,"names":["api","userService","getTechnicians","response","get","data","getDashboardStats","getDepartmentStats","getAllUsers","filters","arguments","length","undefined","params","URLSearchParams","Object","keys","forEach","key","append","concat","createUser","userData","post","updateUser","userId","updates","put","deleteUser","delete","getUserById","deactivateUser","console","log","error","_error$response","message","reactivateUser","_error$response2","getUserStats","getSystemStats","getCurrentUser","updateProfile","changePassword","currentPassword","newPassword","validateUserData","errors","username","trim","push","email","test","password","role","formatUser","user","_user$role","_user$role2","_objectSpread","formattedCreatedAt","Date","createdAt","toLocaleDateString","formattedLastLogin","lastLogin","status","isActive","isVerified","roleDisplay","charAt","toUpperCase","slice","isAdmin","canManageUsers","includes"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/services/userService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst userService = {\r\n  \r\n  getTechnicians: async () => {\r\n    const response = await api.get('/users/technicians');\r\n    return response.data;\r\n  },\r\n\r\n  getDashboardStats: async () => {\r\n    const response = await api.get('/users/dashboard/stats');\r\n    return response.data;\r\n  },\r\n\r\n  getDepartmentStats: async () => {\r\n    const response = await api.get('/users/dashboard/department/stats');\r\n    return response.data;\r\n  },\r\n\r\n\r\n  // Get all users with advanced filtering (admin only) \r\n  getAllUsers: async (filters = {}) => {\r\n    const params = new URLSearchParams();\r\n    Object.keys(filters).forEach(key => {\r\n      if (filters[key] !== '' && filters[key] !== null && filters[key] !== undefined) {\r\n        params.append(key, filters[key]);\r\n      }\r\n    });\r\n    \r\n    const response = await api.get(`/users/admin/users?${params}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Admin-only user creation\r\n  createUser: async (userData) => {\r\n    const response = await api.post('/users/admin/users', userData);\r\n    return response.data;\r\n  },\r\n\r\n  // Admin-only user updates \r\n  updateUser: async (userId, updates) => {\r\n    const response = await api.put(`/users/admin/users/${userId}`, updates);\r\n    return response.data;\r\n  },\r\n\r\n  // Admin-only user deletion \r\n  deleteUser: async (userId) => {\r\n    const response = await api.delete(`/users/admin/users/${userId}`);\r\n    return response.data;\r\n  },\r\n\r\n  // Get user by ID (admin only) \r\n  getUserById: async (userId) => {\r\n    const response = await api.get(`/users/admin/users/${userId}`);\r\n    return response.data;\r\n  },\r\n\r\n  \r\n\r\n  // Deactivate user (admin only) \r\n  deactivateUser: async (userId) => {\r\n    console.log('ðŸ”„ userService: Deactivating user', userId);\r\n    try {\r\n      const response = await api.put(`/users/admin/users/${userId}/deactivate`);\r\n      console.log('âœ… userService: User deactivated successfully');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('âŒ userService: Deactivation error:', error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Reactivate user (admin only) \r\n  reactivateUser: async (userId) => {\r\n    console.log('ðŸ”„ userService: Reactivating user', userId);\r\n    try {\r\n      const response = await api.put(`/users/admin/users/${userId}/reactivate`);\r\n      console.log('âœ… userService: User reactivated successfully');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('âŒ userService: Reactivation error:', error.response?.data || error.message);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // ==================== STATISTICS \r\n\r\n  // User statistics for admin dashboard \r\n  getUserStats: async () => {\r\n    const response = await api.get('/users/admin/stats');\r\n    return response.data;\r\n  },\r\n\r\n  // Comprehensive system statistics (admin only) \r\n  getSystemStats: async () => {\r\n    const response = await api.get('/users/admin/system-stats');\r\n    return response.data;\r\n  },\r\n\r\n  // ==================== USER PROFILE MANAGEMENT \r\n\r\n  getCurrentUser: async () => {\r\n    const response = await api.get('/users/me');\r\n    return response.data;\r\n  },\r\n\r\n  updateProfile: async (updates) => {\r\n    const response = await api.put('/users/profile', updates);\r\n    return response.data;\r\n  },\r\n\r\n  changePassword: async (currentPassword, newPassword) => {\r\n    const response = await api.put('/users/change-password', {\r\n      currentPassword,\r\n      newPassword\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n\r\n\r\n  // Validate user data\r\n  validateUserData: (userData) => {\r\n    const errors = [];\r\n    \r\n    if (!userData.username || userData.username.trim().length < 3) {\r\n      errors.push('Username must be at least 3 characters long');\r\n    }\r\n    \r\n    if (!userData.email || !/\\S+@\\S+\\.\\S+/.test(userData.email)) {\r\n      errors.push('Valid email address is required');\r\n    }\r\n    \r\n    if (!userData.password || userData.password.length < 6) {\r\n      errors.push('Password must be at least 6 characters long');\r\n    }\r\n    \r\n    if (!userData.role) {\r\n      errors.push('User role is required');\r\n    }\r\n    \r\n    return errors;\r\n  },\r\n\r\n  // Format user for display\r\n  formatUser: (user) => {\r\n    return {\r\n      ...user,\r\n      formattedCreatedAt: new Date(user.createdAt).toLocaleDateString(),\r\n      formattedLastLogin: user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : 'Never',\r\n      status: user.isActive ? (user.isVerified ? 'Active' : 'Pending Verification') : 'Inactive',\r\n      roleDisplay: user.role?.charAt(0).toUpperCase() + user.role?.slice(1)\r\n    };\r\n  },\r\n\r\n  // Check if user has admin privileges\r\n  isAdmin: (user) => {\r\n    return user?.role === 'admin';\r\n  },\r\n\r\n  // Check if user can manage other users\r\n  canManageUsers: (user) => {\r\n    return ['admin', 'technician'].includes(user?.role);\r\n  }\r\n};\r\n\r\nexport default userService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}