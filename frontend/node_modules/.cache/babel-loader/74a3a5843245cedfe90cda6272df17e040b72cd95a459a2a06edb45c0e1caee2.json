{"ast":null,"code":"import _objectSpread from\"C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import Navbar from'../components/Navbar';import'../styles/Auth.css';/**\r\n * Production-Grade Enterprise Registration Component\r\n * Customized for Bugema University IT Support System\r\n * \r\n * Features:\r\n * - Bugema University-specific validation\r\n * - Student ID format validation (22/BIT/BU/R/0010)\r\n * - Department and course mapping\r\n * - Campus-specific validation\r\n * - Enhanced security for university environment\r\n * \r\n * @version 2.1.0\r\n * @author Bugema University IT Support Team\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{// Main form state\nconst[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:'',role:'student',department:'',program:'',// Specific program/course\ncampus:'main',// Default to main campus\nstudentId:'',phone:'',yearOfEntry:new Date().getFullYear().toString().slice(-2),// Last 2 digits of current year\nstatus:'R',// R for Regular, H for In-service\nagreeToTerms:false,receiveNotifications:true});// Component state\nconst[error,setError]=useState('');const[loading,setLoading]=useState(false);const[validationErrors,setValidationErrors]=useState({});const[passwordStrength,setPasswordStrength]=useState(0);const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[formProgress,setFormProgress]=useState(0);const[isSubmitting,setIsSubmitting]=useState(false);const[autoGeneratedStudentId,setAutoGeneratedStudentId]=useState('');const nameRef=useRef(null);const{register,logSecurityEvent}=useAuth();const navigate=useNavigate();// Bugema University Configuration\nconst UNIVERSITY_NAME='Bugema University';const UNIVERSITY_EMAIL_DOMAINS=['@bugemauniv.ac.ug','@student.bugemauniv.ac.ug'];const CURRENT_YEAR=new Date().getFullYear().toString().slice(-2);// Bugema University Campuses\nconst campuses=[{value:'main',label:'Main Campus (Luwero)',code:'BU'},{value:'kampala',label:'Kampala Campus',code:'KLA'},{value:'australia',label:'Australia Campus',code:'AUS'},{value:'nairobi',label:'Nairobi Campus',code:'NRB'},{value:'kigali',label:'Kigali Campus',code:'KGL'}];// Bugema University Programs/Courses with departments\nconst programs=[// School of Computing and Informatics\n{value:'bit',label:'Bachelor of Information Technology',department:'computing',code:'BIT'},{value:'bcs',label:'Bachelor of Computer Science',department:'computing',code:'BCS'},{value:'dbit',label:'Diploma in Information Technology',department:'computing',code:'DBIT'},// School of Business\n{value:'bba',label:'Bachelor of Business Administration',department:'business',code:'BBA'},{value:'bacco',label:'Bachelor of Accounting',department:'business',code:'BACCO'},{value:'bmgt',label:'Bachelor of Management',department:'business',code:'BMGT'},// School of Education\n{value:'bed',label:'Bachelor of Education',department:'education',code:'BED'},{value:'bed_arts',label:'Bachelor of Education (Arts)',department:'education',code:'BED-A'},{value:'bed_sci',label:'Bachelor of Education (Science)',department:'education',code:'BED-S'},// School of Theology\n{value:'bth',label:'Bachelor of Theology',department:'theology',code:'BTH'},{value:'mdiv',label:'Master of Divinity',department:'theology',code:'MDIV'},// School of Health Sciences\n{value:'bn',label:'Bachelor of Nursing',department:'health',code:'BN'},{value:'bpharm',label:'Bachelor of Pharmacy',department:'health',code:'BPHARM'},// Postgraduate\n{value:'mba',label:'Master of Business Administration',department:'postgraduate',code:'MBA'},{value:'mcs',label:'Master of Computer Science',department:'postgraduate',code:'MCS'},{value:'mphil',label:'Master of Philosophy',department:'postgraduate',code:'MPHIL'},{value:'phd',label:'Doctor of Philosophy',department:'postgraduate',code:'PHD'}];// Departments for non-students\nconst departments=[{value:'computing',label:'School of Computing and Informatics'},{value:'business',label:'School of Business'},{value:'education',label:'School of Education'},{value:'theology',label:'School of Theology'},{value:'health',label:'School of Health Sciences'},{value:'administration',label:'University Administration'},{value:'finance',label:'Finance Department'},{value:'registry',label:'Academic Registry'},{value:'library',label:'University Library'},{value:'it_services',label:'IT Services Department'},{value:'facilities',label:'Facilities Management'},{value:'security',label:'Security Department'}];// Role options for Bugema University\nconst roleOptions=[{value:'student',label:'Student',description:'Current student of Bugema University',icon:'ðŸŽ“',permissions:['create_ticket','view_own_tickets','access_knowledge_base','view_announcements'],requiresApproval:false,showStudentFields:true},{value:'lecturer',label:'Lecturer/Instructor',description:'Teaching staff and instructors',icon:'ðŸ‘¨â€ðŸ«',permissions:['create_ticket','view_department_tickets','access_knowledge_base','manage_course_content'],requiresApproval:true,showStudentFields:false},{value:'staff',label:'Administrative Staff',description:'Non-teaching administrative staff',icon:'ðŸ‘¨â€ðŸ’¼',permissions:['create_ticket','view_department_tickets','access_knowledge_base','manage_documents'],requiresApproval:true,showStudentFields:false},{value:'technician',label:'IT Technician',description:'IT support and technical staff',icon:'ðŸ‘¨â€ðŸ’»',permissions:['view_all_tickets','resolve_tickets','manage_assets','access_admin_tools'],requiresApproval:true,showStudentFields:false},{value:'admin',label:'System Administrator',description:'Full system access and user management',icon:'ðŸ”§',permissions:['all_permissions'],requiresApproval:true,showStudentFields:false}];// Student status options\nconst studentStatusOptions=[{value:'R',label:'Regular Student',description:'Full-time on-campus student'},{value:'H',label:'In-service/Distance',description:'Part-time or distance learning student'},{value:'E',label:'Evening Student',description:'Evening program student'},{value:'W',label:'Weekend Student',description:'Weekend program student'}];// Auto-focus first input on mount\nuseEffect(()=>{if(nameRef.current){nameRef.current.focus();}},[]);// Calculate form progress\nuseEffect(()=>{calculateFormProgress();},[formData]);// Calculate password strength\nuseEffect(()=>{if(formData.password){calculatePasswordStrength(formData.password);}else{setPasswordStrength(0);}},[formData.password]);// Auto-generate student ID when program, campus, or year changes\nuseEffect(()=>{if(formData.role==='student'&&formData.program&&formData.campus){generateStudentIdPreview();}},[formData.program,formData.campus,formData.yearOfEntry,formData.status]);/**\r\n   * Generates a preview of student ID based on selected options\r\n   */const generateStudentIdPreview=()=>{const programObj=programs.find(p=>p.value===formData.program);const campusObj=campuses.find(c=>c.value===formData.campus);if(programObj&&campusObj){const year=formData.yearOfEntry||CURRENT_YEAR;const programCode=programObj.code;const campusCode=campusObj.code;const statusCode=formData.status||'R';// Generate a temporary unique number (will be replaced by server)\nconst tempUnique=Math.floor(Math.random()*9000+1000).toString();const previewId=\"\".concat(year,\"/\").concat(programCode,\"/\").concat(campusCode,\"/\").concat(statusCode,\"/\").concat(tempUnique);setAutoGeneratedStudentId(previewId);}};/**\r\n   * Validates Bugema University email format\r\n   */const validateEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email.trim())){return'Please enter a valid email address';}// Check for Bugema University domain\nconst isUniversityEmail=UNIVERSITY_EMAIL_DOMAINS.some(domain=>email.toLowerCase().endsWith(domain.toLowerCase()));if(!isUniversityEmail){return\"Please use your Bugema University email address (\".concat(UNIVERSITY_EMAIL_DOMAINS.join(' or '),\")\");}return null;};/**\r\n   * Validates Bugema University student ID format\r\n   */const validateStudentId=studentId=>{if(formData.role!=='student')return null;if(!studentId.trim()){return'Student ID is required for student accounts';}// Bugema University Student ID format: 22/BIT/BU/R/0010\nconst studentIdRegex=/^(\\d{2})\\/([A-Z]{2,6})\\/([A-Z]{2,3})\\/([A-Z])\\/(\\d{4})$/;const match=studentId.trim().match(studentIdRegex);if(!match){return'Invalid Student ID format. Use format: YY/PROGRAM/CAMPUS/STATUS/NUMBER (e.g., 22/BIT/BU/R/0010)';}const[_,year,program,campus,status,number]=match;// Validate year (should be reasonable)\nconst currentYear=parseInt(CURRENT_YEAR);const entryYear=parseInt(year);if(entryYear<10||entryYear>currentYear){return\"Invalid entry year. Should be between 10 and \".concat(currentYear);}// Validate program code exists\nconst validProgram=programs.find(p=>p.code===program);if(!validProgram){return\"Invalid program code. Valid codes: \".concat(programs.map(p=>p.code).join(', '));}// Validate campus code exists\nconst validCampus=campuses.find(c=>c.code===campus);if(!validCampus){return\"Invalid campus code. Valid codes: \".concat(campuses.map(c=>c.code).join(', '));}// Validate status code\nconst validStatus=studentStatusOptions.find(s=>s.value===status);if(!validStatus){return\"Invalid status code. Valid codes: \".concat(studentStatusOptions.map(s=>s.value).join(', '));}// Validate unique number (should be 4 digits)\nif(number.length!==4||parseInt(number)===0){return'Invalid unique number. Should be 4 digits (0001-9999)';}return null;};/**\r\n   * Validates phone number for Uganda format\r\n   */const validatePhone=phone=>{if(!phone.trim())return null;// Remove all non-digit characters\nconst cleanedPhone=phone.replace(/[\\s\\-\\(\\)\\.]/g,'');// Uganda phone number validation\nconst ugandaPhoneRegex=/^(?:256|0)(7[0-9]{8})$/;if(!ugandaPhoneRegex.test(cleanedPhone)){return'Please enter a valid Ugandan phone number (e.g., 07xxxxxxxx or 2567xxxxxxxx)';}return null;};/**\r\n   * Validates username\r\n   */const validateUsername=username=>{if(!username.trim()){return'Full name is required';}if(username.length<2){return'Name must be at least 2 characters';}// Allow international names with various characters\nconst nameRegex=/^[A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿\\s\\-\\'\\.]+$/;if(!nameRegex.test(username)){return'Name can only contain letters, spaces, hyphens, apostrophes, and periods';}return null;};/**\r\n   * Validates program/course selection\r\n   */const validateProgram=program=>{if(formData.role==='student'&&!program){return'Please select your program/course';}return null;};/**\r\n   * Validates campus selection\r\n   */const validateCampus=campus=>{if(formData.role==='student'&&!campus){return'Please select your campus';}return null;};/**\r\n   * Calculates password strength\r\n   */const calculatePasswordStrength=password=>{let strength=0;// Length check\nif(password.length>=8)strength+=25;if(password.length>=12)strength+=10;// Character variety checks\nif(/[A-Z]/.test(password))strength+=15;if(/[a-z]/.test(password))strength+=15;if(/[0-9]/.test(password))strength+=15;if(/[^A-Za-z0-9]/.test(password))strength+=15;// Common patterns penalty\nconst commonPatterns=['123456','password','qwerty','111111',new RegExp(formData.username.toLowerCase()),new RegExp(formData.email.split('@')[0].toLowerCase())];commonPatterns.forEach(pattern=>{if(typeof pattern==='string'&&password.includes(pattern)){strength-=20;}else if(pattern instanceof RegExp&&pattern.test(password)){strength-=20;}});// Ensure strength is between 0 and 100\nstrength=Math.max(0,Math.min(100,strength));setPasswordStrength(strength);return strength;};/**\r\n   * Gets password strength label and color\r\n   */const getPasswordStrengthInfo=()=>{if(passwordStrength<30)return{label:'Weak',color:'#ef4444',className:'weak'};if(passwordStrength<60)return{label:'Fair',color:'#f59e0b',className:'fair'};if(passwordStrength<80)return{label:'Good',color:'#10b981',className:'good'};return{label:'Strong',color:'#059669',className:'strong'};};/**\r\n   * Calculates form completion progress\r\n   */const calculateFormProgress=()=>{const fields=['username','email','password','confirmPassword','role','agreeToTerms'];if(formData.role==='student'){fields.push('program','campus','yearOfEntry','status','studentId');}else{fields.push('department');}let completed=0;fields.forEach(field=>{var _formData$field;if(field==='agreeToTerms'){if(formData[field])completed++;}else if((_formData$field=formData[field])!==null&&_formData$field!==void 0&&_formData$field.toString().trim()){completed++;}});const progress=Math.round(completed/fields.length*100);setFormProgress(progress);};/**\r\n   * Handles input changes with validation\r\n   */const handleChange=e=>{const{name,value,type,checked}=e.target;// Sanitize input\nlet sanitizedValue=value;switch(name){case'username':sanitizedValue=value.trim();break;case'email':sanitizedValue=value.trim().toLowerCase();break;case'phone':// Format phone number as user types\nsanitizedValue=formatPhoneNumber(value);break;case'studentId':sanitizedValue=value.trim().toUpperCase();break;case'yearOfEntry':// Only allow 2-digit years\nsanitizedValue=value.replace(/\\D/g,'').slice(0,2);break;default:sanitizedValue=value;}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:sanitizedValue}));// Clear field-specific error when user starts typing\nif(validationErrors[name]){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}// Clear general error\nif(error)setError('');};/**\r\n   * Formats Ugandan phone number as user types\r\n   */const formatPhoneNumber=phone=>{// Remove all non-digit characters\nconst cleaned=phone.replace(/\\D/g,'');// Handle Ugandan format\nif(cleaned.startsWith('256')){const withoutCode=cleaned.slice(3);if(withoutCode.length<=9){return\"256 \".concat(withoutCode.slice(0,3),\" \").concat(withoutCode.slice(3,6),\" \").concat(withoutCode.slice(6,9));}}else if(cleaned.startsWith('0')){const withoutZero=cleaned.slice(1);if(withoutZero.length<=9){return\"0\".concat(withoutZero.slice(0,3),\" \").concat(withoutZero.slice(3,6),\" \").concat(withoutZero.slice(6,9));}}return phone;};/**\r\n   * Validates the entire form\r\n   */const validateForm=useCallback(()=>{const errors={};// Validate each field\nerrors.username=validateUsername(formData.username);errors.email=validateEmail(formData.email);errors.phone=validatePhone(formData.phone);errors.studentId=validateStudentId(formData.studentId);errors.program=validateProgram(formData.program);errors.campus=validateCampus(formData.campus);// Password validation\nif(!formData.password){errors.password='Password is required';}else if(formData.password.length<8){errors.password='Password must be at least 8 characters';}else if(passwordStrength<30){errors.password='Please choose a stronger password';}// Confirm password validation\nif(formData.password!==formData.confirmPassword){errors.confirmPassword='Passwords do not match';}// Department validation for non-students\nif(formData.role!=='student'&&!formData.department){errors.department='Please select your department';}// Terms agreement validation\nif(!formData.agreeToTerms){errors.agreeToTerms='You must agree to the Terms of Service';}// Remove null errors\nObject.keys(errors).forEach(key=>{if(!errors[key])delete errors[key];});setValidationErrors(errors);return Object.keys(errors).length===0;},[formData,passwordStrength]);/**\r\n   * Handles form submission with enhanced security\r\n   */const handleSubmit=async e=>{var _data$message;e.preventDefault();setError('');setValidationErrors({});// Validate form\nif(!validateForm()){setError('Please fix the errors in the form');return;}setLoading(true);setIsSubmitting(true);try{var _registrationData$stu;// Log registration attempt\nlogSecurityEvent('registration_attempt',{email:formData.email,role:formData.role,program:formData.program,campus:formData.campus,timestamp:new Date().toISOString()});// Prepare data for registration\nconst registrationData={username:formData.username.trim(),email:formData.email.trim().toLowerCase(),password:formData.password,role:formData.role,phone:formData.phone?formData.phone.replace(/\\D/g,''):undefined,metadata:{registrationTimestamp:new Date().toISOString(),userAgent:navigator.userAgent,screenResolution:\"\".concat(window.screen.width,\"x\").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,institution:UNIVERSITY_NAME}};// Add role-specific data\nif(formData.role==='student'){var _programs$find;registrationData.studentInfo={studentId:formData.studentId.trim().toUpperCase(),program:formData.program,campus:formData.campus,yearOfEntry:formData.yearOfEntry,status:formData.status,department:(_programs$find=programs.find(p=>p.value===formData.program))===null||_programs$find===void 0?void 0:_programs$find.department};}else{registrationData.department=formData.department;registrationData.position=formData.role;}console.log('ðŸ” Registering user at Bugema University:',{email:registrationData.email,role:registrationData.role,studentId:(_registrationData$stu=registrationData.studentInfo)===null||_registrationData$stu===void 0?void 0:_registrationData$stu.studentId});const result=await register(registrationData);if(result.success){var _result$user;// Log successful registration\nlogSecurityEvent('registration_success',{email:formData.email,role:formData.role,studentId:formData.studentId,userId:(_result$user=result.user)===null||_result$user===void 0?void 0:_result$user._id});// Show success message and redirect\nnavigate('/dashboard',{state:{registrationSuccess:true,message:\"Welcome to \".concat(UNIVERSITY_NAME,\" IT Support System!\"),userRole:formData.role,studentId:formData.studentId}});}else{throw new Error(result.error||'Registration failed');}}catch(err){var _err$response;console.error('âŒ Registration error:',err);// Enhanced error handling\nlet errorMessage='Registration failed. Please try again.';if(err.response){const{status,data}=err.response;switch(status){case 400:errorMessage=(data===null||data===void 0?void 0:data.message)||'Invalid registration data';break;case 409:if(data!==null&&data!==void 0&&(_data$message=data.message)!==null&&_data$message!==void 0&&_data$message.includes('Student ID')){errorMessage='This Student ID is already registered';}else{errorMessage='An account with this email already exists';}break;case 422:errorMessage=(data===null||data===void 0?void 0:data.message)||'Validation failed. Please check your inputs.';break;case 429:errorMessage='Too many registration attempts. Please try again later.';break;case 500:errorMessage='Server error. Please try again later.';break;default:errorMessage=(data===null||data===void 0?void 0:data.message)||errorMessage;}}else if(err.code==='ECONNABORTED'){errorMessage='Request timeout. Please check your connection.';}else if(err.message==='Network Error'){errorMessage='Cannot connect to server. Check your internet connection.';}setError(errorMessage);// Log registration failure\nlogSecurityEvent('registration_failed',{email:formData.email,error:err.message,status:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status});}finally{setLoading(false);setIsSubmitting(false);}};/**\r\n   * Toggles password visibility\r\n   */const togglePasswordVisibility=()=>{setShowPassword(!showPassword);};/**\r\n   * Toggles confirm password visibility\r\n   */const toggleConfirmPasswordVisibility=()=>{setShowConfirmPassword(!showConfirmPassword);};/**\r\n   * Handles role change with validation\r\n   */const handleRoleChange=role=>{setFormData(prev=>_objectSpread(_objectSpread(_objectSpread({},prev),{},{role},prev.role==='student'&&role!=='student'&&{studentId:'',program:'',campus:'main',yearOfEntry:CURRENT_YEAR,status:'R'}),prev.role!=='student'&&role==='student'&&{department:''}));// Clear role-specific validation errors\nsetValidationErrors(prev=>{const newErrors=_objectSpread({},prev);delete newErrors.studentId;delete newErrors.program;delete newErrors.campus;delete newErrors.department;return newErrors;});};/**\r\n   * Gets current role object\r\n   */const getCurrentRole=()=>{return roleOptions.find(role=>role.value===formData.role)||roleOptions[0];};/**\r\n   * Gets selected program object\r\n   */const getSelectedProgram=()=>{return programs.find(p=>p.value===formData.program);};/**\r\n   * Gets selected campus object\r\n   */const getSelectedCampus=()=>{return campuses.find(c=>c.value===formData.campus);};// Get password strength info\nconst strengthInfo=getPasswordStrengthInfo();// Check if form is disabled\nconst isFormDisabled=loading||isSubmitting;// Get current role\nconst currentRole=getCurrentRole();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-logo\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"logo-icon\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Bugema University IT Support\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-subtitle\",children:\"Create your university account\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(formProgress,\"%\")},role:\"progressbar\",\"aria-valuenow\":formProgress,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[formProgress,\"% Complete\"]})})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"error-content\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"register-form\",noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})}),\"Personal Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",className:\"form-label\",children:[\"Full Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.username?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),/*#__PURE__*/_jsx(\"input\",{ref:nameRef,id:\"username\",name:\"username\",type:\"text\",autoComplete:\"name\",value:formData.username,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Enter your full name\",className:\"form-input\",\"aria-describedby\":validationErrors.username?\"username-error\":undefined,\"aria-required\":\"true\"})]}),validationErrors.username&&/*#__PURE__*/_jsxs(\"div\",{id:\"username-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[\"Bugema University Email \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.email?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",value:formData.email,onChange:handleChange,disabled:isFormDisabled,placeholder:\"name@bugemauniv.ac.ug\",className:\"form-input\",\"aria-describedby\":validationErrors.email?\"email-error\":undefined,\"aria-required\":\"true\"})]}),validationErrors.email&&/*#__PURE__*/_jsxs(\"div\",{id:\"email-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.email]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note\",children:/*#__PURE__*/_jsx(\"div\",{className:\"note-content\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Use your official Bugema University email address\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"phone\",className:\"form-label\",children:[\"Phone Number (Uganda) \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.phone?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",autoComplete:\"tel\",value:formData.phone,onChange:handleChange,disabled:isFormDisabled,placeholder:\"07XXXXXXXX or 2567XXXXXXXX\",className:\"form-input\",\"aria-describedby\":validationErrors.phone?\"phone-error\":undefined,\"aria-required\":\"true\"})]}),validationErrors.phone&&/*#__PURE__*/_jsxs(\"div\",{id:\"phone-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.phone]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),\"Account Type\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"role-selection\",children:roleOptions.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"role-option \".concat(formData.role===option.value?'selected':''),onClick:()=>handleRoleChange(option.value),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"role\",value:option.value,checked:formData.role===option.value,onChange:()=>handleRoleChange(option.value),className:\"role-radio\",disabled:isFormDisabled,\"aria-label\":option.label}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"role-icon\",children:option.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"role-label\",children:option.label}),/*#__PURE__*/_jsx(\"span\",{className:\"role-description\",children:option.description}),option.requiresApproval&&/*#__PURE__*/_jsxs(\"span\",{className:\"role-notice\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),\"Requires approval\"]})]})]})]},option.value))})]}),currentRole.showStudentFields&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\"})}),\"Academic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"program\",className:\"form-label\",children:[\"Program/Course \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.program?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\"})})}),/*#__PURE__*/_jsxs(\"select\",{id:\"program\",name:\"program\",value:formData.program,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",\"aria-describedby\":validationErrors.program?\"program-error\":undefined,\"aria-required\":\"true\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your program\"}),programs.map(program=>/*#__PURE__*/_jsxs(\"option\",{value:program.value,children:[program.label,\" (\",program.code,\")\"]},program.value))]})]}),validationErrors.program&&/*#__PURE__*/_jsxs(\"div\",{id:\"program-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.program]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"campus\",className:\"form-label\",children:[\"Campus \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.campus?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})}),/*#__PURE__*/_jsxs(\"select\",{id:\"campus\",name:\"campus\",value:formData.campus,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",\"aria-describedby\":validationErrors.campus?\"campus-error\":undefined,\"aria-required\":\"true\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your campus\"}),campuses.map(campus=>/*#__PURE__*/_jsxs(\"option\",{value:campus.value,children:[campus.label,\" (\",campus.code,\")\"]},campus.value))]})]}),validationErrors.campus&&/*#__PURE__*/_jsxs(\"div\",{id:\"campus-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.campus]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"yearOfEntry\",className:\"form-label\",children:[\"Year of Entry \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"yearOfEntry\",name:\"yearOfEntry\",type:\"text\",value:formData.yearOfEntry,onChange:handleChange,disabled:isFormDisabled,placeholder:\"YY (e.g., 22)\",maxLength:\"2\",className:\"form-input\",\"aria-required\":\"true\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"status\",className:\"form-label\",children:[\"Student Status \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),/*#__PURE__*/_jsx(\"select\",{id:\"status\",name:\"status\",value:formData.status,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",\"aria-required\":\"true\",children:studentStatusOptions.map(status=>/*#__PURE__*/_jsxs(\"option\",{value:status.value,children:[status.label,\" (\",status.value,\")\"]},status.value))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"studentId\",className:\"form-label\",children:[\"Student ID \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.studentId?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"studentId\",name:\"studentId\",type:\"text\",value:formData.studentId,onChange:handleChange,disabled:isFormDisabled,placeholder:\"22/BIT/BU/R/0010\",className:\"form-input\",\"aria-describedby\":validationErrors.studentId?\"studentId-error\":undefined,\"aria-required\":\"true\"})]}),validationErrors.studentId&&/*#__PURE__*/_jsxs(\"div\",{id:\"studentId-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.studentId]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student ID Format:\"}),\" YY/PROGRAM/CAMPUS/STATUS/NUMBER\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Example:\"}),\" 22/BIT/BU/R/0010\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Where:\"}),\"22 = Year of entry, BIT = Program code, BU = Campus code, R = Student status (R/H/E/W), 0010 = Unique number\"]})]})}),autoGeneratedStudentId&&/*#__PURE__*/_jsx(\"div\",{className:\"info-note success\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Expected format based on your selection:\"})}),/*#__PURE__*/_jsx(\"code\",{className:\"student-id-preview\",children:autoGeneratedStudentId})]})})]})]}),!currentRole.showStudentFields&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z\"})}),\"Staff Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"department\",className:\"form-label\",children:[\"Department \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.department?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z\"})})}),/*#__PURE__*/_jsxs(\"select\",{id:\"department\",name:\"department\",value:formData.department,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",\"aria-describedby\":validationErrors.department?\"department-error\":undefined,\"aria-required\":\"true\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.value,children:dept.label},dept.value))]})]}),validationErrors.department&&/*#__PURE__*/_jsxs(\"div\",{id:\"department-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.department]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-note warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"note-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Staff Account Verification\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Staff, lecturer, and administrator accounts require verification by the IT department. You will receive an email notification once your account is approved.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})}),\"Account Security\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"form-label\",children:[\"Password \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.password?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:showPassword?\"text\":\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Create a strong password\",className:\"form-input\",\"aria-describedby\":validationErrors.password?\"password-error\":undefined,\"aria-required\":\"true\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:togglePasswordVisibility,className:\"password-toggle\",disabled:isFormDisabled,\"aria-label\":showPassword?\"Hide password\":\"Show password\",children:showPassword?/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"})})})]}),formData.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"password-strength\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"strength-meter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"strength-bar \".concat(strengthInfo.className),style:{width:\"\".concat(passwordStrength,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"strength-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"strength-label\",children:[\"Strength: \",strengthInfo.label]}),/*#__PURE__*/_jsxs(\"span\",{className:\"strength-score\",children:[passwordStrength,\"%\"]})]})]}),validationErrors.password&&/*#__PURE__*/_jsxs(\"div\",{id:\"password-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.password]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-requirements\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Password requirements:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:formData.password.length>=8?'valid':'invalid',children:\"At least 8 characters\"}),/*#__PURE__*/_jsx(\"li\",{className:/[A-Z]/.test(formData.password)?'valid':'invalid',children:\"One uppercase letter\"}),/*#__PURE__*/_jsx(\"li\",{className:/[a-z]/.test(formData.password)?'valid':'invalid',children:\"One lowercase letter\"}),/*#__PURE__*/_jsx(\"li\",{className:/[0-9]/.test(formData.password)?'valid':'invalid',children:\"One number\"}),/*#__PURE__*/_jsx(\"li\",{className:/[^A-Za-z0-9]/.test(formData.password)?'valid':'invalid',children:\"One special character\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:[\"Confirm Password \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.confirmPassword?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",name:\"confirmPassword\",type:showConfirmPassword?\"text\":\"password\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Re-enter your password\",className:\"form-input\",\"aria-describedby\":validationErrors.confirmPassword?\"confirmPassword-error\":undefined,\"aria-required\":\"true\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleConfirmPasswordVisibility,className:\"password-toggle\",disabled:isFormDisabled,\"aria-label\":showConfirmPassword?\"Hide password\":\"Show password\",children:showConfirmPassword?/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"})})})]}),validationErrors.confirmPassword&&/*#__PURE__*/_jsxs(\"div\",{id:\"confirmPassword-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.confirmPassword]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z\"})}),\"Terms and Conditions\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"agreeToTerms\",checked:formData.agreeToTerms,onChange:handleChange,disabled:isFormDisabled,className:\"checkbox-input\",\"aria-describedby\":validationErrors.agreeToTerms?\"terms-error\":undefined,\"aria-required\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-custom\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"checkbox-text\",children:[\"I agree to Bugema University's\",' ',/*#__PURE__*/_jsx(Link,{to:\"/terms\",target:\"_blank\",className:\"link\",children:\"Terms of Service\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(Link,{to:\"/privacy\",target:\"_blank\",className:\"link\",children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]})]}),validationErrors.agreeToTerms&&/*#__PURE__*/_jsxs(\"div\",{id:\"terms-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.agreeToTerms]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"receiveNotifications\",checked:formData.receiveNotifications,onChange:handleChange,disabled:isFormDisabled,className:\"checkbox-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-custom\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-text\",children:\"I want to receive notifications about university announcements and system updates\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Important Information:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"You are responsible for maintaining the confidentiality of your account credentials\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All account activities are monitored for security purposes\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Misuse of the system may result in account suspension\"}),/*#__PURE__*/_jsx(\"li\",{children:\"By registering, you confirm that all information provided is accurate\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isFormDisabled,className:\"auth-btn \".concat(loading?'loading':''),\"aria-busy\":loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Creating Account...\"]}):'Create Bugema University Account'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"auth-link\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"link\",\"aria-disabled\":isFormDisabled,children:\"Login here\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-version\",children:[\"Bugema University IT Support System v\",process.env.REACT_APP_VERSION||'1.0.0']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"security-footer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"security-notice\",children:\"Need help with registration? Contact Bugema University IT Support:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"security-contact\",children:[\"\\uD83D\\uDCE7 \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:itsupport@bugemauniv.ac.ug\",children:\"itsupport@bugemauniv.ac.ug\"}),\" \\u2022 \\uD83D\\uDCDE \",/*#__PURE__*/_jsx(\"a\",{href:\"tel:+256392730294\",children:\"+256 392 730 294\"}),\" \\u2022 \\uD83D\\uDCCD Main Campus, Luwero\"]})]})]})})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Link","useNavigate","useAuth","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","formData","setFormData","username","email","password","confirmPassword","role","department","program","campus","studentId","phone","yearOfEntry","Date","getFullYear","toString","slice","status","agreeToTerms","receiveNotifications","error","setError","loading","setLoading","validationErrors","setValidationErrors","passwordStrength","setPasswordStrength","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","formProgress","setFormProgress","isSubmitting","setIsSubmitting","autoGeneratedStudentId","setAutoGeneratedStudentId","nameRef","register","logSecurityEvent","navigate","UNIVERSITY_NAME","UNIVERSITY_EMAIL_DOMAINS","CURRENT_YEAR","campuses","value","label","code","programs","departments","roleOptions","description","icon","permissions","requiresApproval","showStudentFields","studentStatusOptions","current","focus","calculateFormProgress","calculatePasswordStrength","generateStudentIdPreview","programObj","find","p","campusObj","c","year","programCode","campusCode","statusCode","tempUnique","Math","floor","random","previewId","concat","validateEmail","emailRegex","test","trim","isUniversityEmail","some","domain","toLowerCase","endsWith","join","validateStudentId","studentIdRegex","match","_","number","currentYear","parseInt","entryYear","validProgram","map","validCampus","validStatus","s","length","validatePhone","cleanedPhone","replace","ugandaPhoneRegex","validateUsername","nameRegex","validateProgram","validateCampus","strength","commonPatterns","RegExp","split","forEach","pattern","includes","max","min","getPasswordStrengthInfo","color","className","fields","push","completed","field","_formData$field","progress","round","handleChange","e","name","type","checked","target","sanitizedValue","formatPhoneNumber","toUpperCase","prev","_objectSpread","cleaned","startsWith","withoutCode","withoutZero","validateForm","errors","Object","keys","key","handleSubmit","_data$message","preventDefault","_registrationData$stu","timestamp","toISOString","registrationData","undefined","metadata","registrationTimestamp","userAgent","navigator","screenResolution","window","screen","width","height","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","institution","_programs$find","studentInfo","position","console","log","result","success","_result$user","userId","user","_id","state","registrationSuccess","message","userRole","Error","err","_err$response","errorMessage","response","data","togglePasswordVisibility","toggleConfirmPasswordVisibility","handleRoleChange","newErrors","getCurrentRole","getSelectedProgram","getSelectedCampus","strengthInfo","isFormDisabled","currentRole","children","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","style","onSubmit","noValidate","htmlFor","ref","id","autoComplete","onChange","disabled","placeholder","option","onClick","marginRight","maxLength","dept","to","process","env","REACT_APP_VERSION","href"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/pages/CreateTicket.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport Navbar from '../components/Navbar';\r\nimport '../styles/Auth.css';\r\n\r\n/**\r\n * Production-Grade Enterprise Registration Component\r\n * Customized for Bugema University IT Support System\r\n * \r\n * Features:\r\n * - Bugema University-specific validation\r\n * - Student ID format validation (22/BIT/BU/R/0010)\r\n * - Department and course mapping\r\n * - Campus-specific validation\r\n * - Enhanced security for university environment\r\n * \r\n * @version 2.1.0\r\n * @author Bugema University IT Support Team\r\n */\r\n\r\nconst Register = () => {\r\n  // Main form state\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    role: 'student',\r\n    department: '',\r\n    program: '', // Specific program/course\r\n    campus: 'main', // Default to main campus\r\n    studentId: '',\r\n    phone: '',\r\n    yearOfEntry: new Date().getFullYear().toString().slice(-2), // Last 2 digits of current year\r\n    status: 'R', // R for Regular, H for In-service\r\n    agreeToTerms: false,\r\n    receiveNotifications: true\r\n  });\r\n\r\n  // Component state\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [passwordStrength, setPasswordStrength] = useState(0);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [formProgress, setFormProgress] = useState(0);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [autoGeneratedStudentId, setAutoGeneratedStudentId] = useState('');\r\n\r\n  const nameRef = useRef(null);\r\n  const { register, logSecurityEvent } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Bugema University Configuration\r\n  const UNIVERSITY_NAME = 'Bugema University';\r\n  const UNIVERSITY_EMAIL_DOMAINS = ['@bugemauniv.ac.ug', '@student.bugemauniv.ac.ug'];\r\n  const CURRENT_YEAR = new Date().getFullYear().toString().slice(-2);\r\n\r\n  // Bugema University Campuses\r\n  const campuses = [\r\n    { value: 'main', label: 'Main Campus (Luwero)', code: 'BU' },\r\n    { value: 'kampala', label: 'Kampala Campus', code: 'KLA' },\r\n    { value: 'australia', label: 'Australia Campus', code: 'AUS' },\r\n    { value: 'nairobi', label: 'Nairobi Campus', code: 'NRB' },\r\n    { value: 'kigali', label: 'Kigali Campus', code: 'KGL' }\r\n  ];\r\n\r\n  // Bugema University Programs/Courses with departments\r\n  const programs = [\r\n    // School of Computing and Informatics\r\n    { value: 'bit', label: 'Bachelor of Information Technology', department: 'computing', code: 'BIT' },\r\n    { value: 'bcs', label: 'Bachelor of Computer Science', department: 'computing', code: 'BCS' },\r\n    { value: 'dbit', label: 'Diploma in Information Technology', department: 'computing', code: 'DBIT' },\r\n    \r\n    // School of Business\r\n    { value: 'bba', label: 'Bachelor of Business Administration', department: 'business', code: 'BBA' },\r\n    { value: 'bacco', label: 'Bachelor of Accounting', department: 'business', code: 'BACCO' },\r\n    { value: 'bmgt', label: 'Bachelor of Management', department: 'business', code: 'BMGT' },\r\n    \r\n    // School of Education\r\n    { value: 'bed', label: 'Bachelor of Education', department: 'education', code: 'BED' },\r\n    { value: 'bed_arts', label: 'Bachelor of Education (Arts)', department: 'education', code: 'BED-A' },\r\n    { value: 'bed_sci', label: 'Bachelor of Education (Science)', department: 'education', code: 'BED-S' },\r\n    \r\n    // School of Theology\r\n    { value: 'bth', label: 'Bachelor of Theology', department: 'theology', code: 'BTH' },\r\n    { value: 'mdiv', label: 'Master of Divinity', department: 'theology', code: 'MDIV' },\r\n    \r\n    // School of Health Sciences\r\n    { value: 'bn', label: 'Bachelor of Nursing', department: 'health', code: 'BN' },\r\n    { value: 'bpharm', label: 'Bachelor of Pharmacy', department: 'health', code: 'BPHARM' },\r\n    \r\n    // Postgraduate\r\n    { value: 'mba', label: 'Master of Business Administration', department: 'postgraduate', code: 'MBA' },\r\n    { value: 'mcs', label: 'Master of Computer Science', department: 'postgraduate', code: 'MCS' },\r\n    { value: 'mphil', label: 'Master of Philosophy', department: 'postgraduate', code: 'MPHIL' },\r\n    { value: 'phd', label: 'Doctor of Philosophy', department: 'postgraduate', code: 'PHD' }\r\n  ];\r\n\r\n  // Departments for non-students\r\n  const departments = [\r\n    { value: 'computing', label: 'School of Computing and Informatics' },\r\n    { value: 'business', label: 'School of Business' },\r\n    { value: 'education', label: 'School of Education' },\r\n    { value: 'theology', label: 'School of Theology' },\r\n    { value: 'health', label: 'School of Health Sciences' },\r\n    { value: 'administration', label: 'University Administration' },\r\n    { value: 'finance', label: 'Finance Department' },\r\n    { value: 'registry', label: 'Academic Registry' },\r\n    { value: 'library', label: 'University Library' },\r\n    { value: 'it_services', label: 'IT Services Department' },\r\n    { value: 'facilities', label: 'Facilities Management' },\r\n    { value: 'security', label: 'Security Department' }\r\n  ];\r\n\r\n  // Role options for Bugema University\r\n  const roleOptions = [\r\n    {\r\n      value: 'student',\r\n      label: 'Student',\r\n      description: 'Current student of Bugema University',\r\n      icon: 'ðŸŽ“',\r\n      permissions: ['create_ticket', 'view_own_tickets', 'access_knowledge_base', 'view_announcements'],\r\n      requiresApproval: false,\r\n      showStudentFields: true\r\n    },\r\n    {\r\n      value: 'lecturer',\r\n      label: 'Lecturer/Instructor', \r\n      description: 'Teaching staff and instructors',\r\n      icon: 'ðŸ‘¨â€ðŸ«',\r\n      permissions: ['create_ticket', 'view_department_tickets', 'access_knowledge_base', 'manage_course_content'],\r\n      requiresApproval: true,\r\n      showStudentFields: false\r\n    },\r\n    {\r\n      value: 'staff',\r\n      label: 'Administrative Staff',\r\n      description: 'Non-teaching administrative staff',\r\n      icon: 'ðŸ‘¨â€ðŸ’¼',\r\n      permissions: ['create_ticket', 'view_department_tickets', 'access_knowledge_base', 'manage_documents'],\r\n      requiresApproval: true,\r\n      showStudentFields: false\r\n    },\r\n    {\r\n      value: 'technician',\r\n      label: 'IT Technician',\r\n      description: 'IT support and technical staff',\r\n      icon: 'ðŸ‘¨â€ðŸ’»',\r\n      permissions: ['view_all_tickets', 'resolve_tickets', 'manage_assets', 'access_admin_tools'],\r\n      requiresApproval: true,\r\n      showStudentFields: false\r\n    },\r\n    {\r\n      value: 'admin',\r\n      label: 'System Administrator',\r\n      description: 'Full system access and user management',\r\n      icon: 'ðŸ”§',\r\n      permissions: ['all_permissions'],\r\n      requiresApproval: true,\r\n      showStudentFields: false\r\n    }\r\n  ];\r\n\r\n  // Student status options\r\n  const studentStatusOptions = [\r\n    { value: 'R', label: 'Regular Student', description: 'Full-time on-campus student' },\r\n    { value: 'H', label: 'In-service/Distance', description: 'Part-time or distance learning student' },\r\n    { value: 'E', label: 'Evening Student', description: 'Evening program student' },\r\n    { value: 'W', label: 'Weekend Student', description: 'Weekend program student' }\r\n  ];\r\n\r\n  // Auto-focus first input on mount\r\n  useEffect(() => {\r\n    if (nameRef.current) {\r\n      nameRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  // Calculate form progress\r\n  useEffect(() => {\r\n    calculateFormProgress();\r\n  }, [formData]);\r\n\r\n  // Calculate password strength\r\n  useEffect(() => {\r\n    if (formData.password) {\r\n      calculatePasswordStrength(formData.password);\r\n    } else {\r\n      setPasswordStrength(0);\r\n    }\r\n  }, [formData.password]);\r\n\r\n  // Auto-generate student ID when program, campus, or year changes\r\n  useEffect(() => {\r\n    if (formData.role === 'student' && formData.program && formData.campus) {\r\n      generateStudentIdPreview();\r\n    }\r\n  }, [formData.program, formData.campus, formData.yearOfEntry, formData.status]);\r\n\r\n  /**\r\n   * Generates a preview of student ID based on selected options\r\n   */\r\n  const generateStudentIdPreview = () => {\r\n    const programObj = programs.find(p => p.value === formData.program);\r\n    const campusObj = campuses.find(c => c.value === formData.campus);\r\n    \r\n    if (programObj && campusObj) {\r\n      const year = formData.yearOfEntry || CURRENT_YEAR;\r\n      const programCode = programObj.code;\r\n      const campusCode = campusObj.code;\r\n      const statusCode = formData.status || 'R';\r\n      \r\n      // Generate a temporary unique number (will be replaced by server)\r\n      const tempUnique = Math.floor(Math.random() * 9000 + 1000).toString();\r\n      \r\n      const previewId = `${year}/${programCode}/${campusCode}/${statusCode}/${tempUnique}`;\r\n      setAutoGeneratedStudentId(previewId);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Validates Bugema University email format\r\n   */\r\n  const validateEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    \r\n    if (!emailRegex.test(email.trim())) {\r\n      return 'Please enter a valid email address';\r\n    }\r\n\r\n    // Check for Bugema University domain\r\n    const isUniversityEmail = UNIVERSITY_EMAIL_DOMAINS.some(domain => \r\n      email.toLowerCase().endsWith(domain.toLowerCase())\r\n    );\r\n\r\n    if (!isUniversityEmail) {\r\n      return `Please use your Bugema University email address (${UNIVERSITY_EMAIL_DOMAINS.join(' or ')})`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates Bugema University student ID format\r\n   */\r\n  const validateStudentId = (studentId) => {\r\n    if (formData.role !== 'student') return null;\r\n    \r\n    if (!studentId.trim()) {\r\n      return 'Student ID is required for student accounts';\r\n    }\r\n    \r\n    // Bugema University Student ID format: 22/BIT/BU/R/0010\r\n    const studentIdRegex = /^(\\d{2})\\/([A-Z]{2,6})\\/([A-Z]{2,3})\\/([A-Z])\\/(\\d{4})$/;\r\n    const match = studentId.trim().match(studentIdRegex);\r\n    \r\n    if (!match) {\r\n      return 'Invalid Student ID format. Use format: YY/PROGRAM/CAMPUS/STATUS/NUMBER (e.g., 22/BIT/BU/R/0010)';\r\n    }\r\n    \r\n    const [_, year, program, campus, status, number] = match;\r\n    \r\n    // Validate year (should be reasonable)\r\n    const currentYear = parseInt(CURRENT_YEAR);\r\n    const entryYear = parseInt(year);\r\n    \r\n    if (entryYear < 10 || entryYear > currentYear) {\r\n      return `Invalid entry year. Should be between 10 and ${currentYear}`;\r\n    }\r\n    \r\n    // Validate program code exists\r\n    const validProgram = programs.find(p => p.code === program);\r\n    if (!validProgram) {\r\n      return `Invalid program code. Valid codes: ${programs.map(p => p.code).join(', ')}`;\r\n    }\r\n    \r\n    // Validate campus code exists\r\n    const validCampus = campuses.find(c => c.code === campus);\r\n    if (!validCampus) {\r\n      return `Invalid campus code. Valid codes: ${campuses.map(c => c.code).join(', ')}`;\r\n    }\r\n    \r\n    // Validate status code\r\n    const validStatus = studentStatusOptions.find(s => s.value === status);\r\n    if (!validStatus) {\r\n      return `Invalid status code. Valid codes: ${studentStatusOptions.map(s => s.value).join(', ')}`;\r\n    }\r\n    \r\n    // Validate unique number (should be 4 digits)\r\n    if (number.length !== 4 || parseInt(number) === 0) {\r\n      return 'Invalid unique number. Should be 4 digits (0001-9999)';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates phone number for Uganda format\r\n   */\r\n  const validatePhone = (phone) => {\r\n    if (!phone.trim()) return null;\r\n    \r\n    // Remove all non-digit characters\r\n    const cleanedPhone = phone.replace(/[\\s\\-\\(\\)\\.]/g, '');\r\n    \r\n    // Uganda phone number validation\r\n    const ugandaPhoneRegex = /^(?:256|0)(7[0-9]{8})$/;\r\n    \r\n    if (!ugandaPhoneRegex.test(cleanedPhone)) {\r\n      return 'Please enter a valid Ugandan phone number (e.g., 07xxxxxxxx or 2567xxxxxxxx)';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates username\r\n   */\r\n  const validateUsername = (username) => {\r\n    if (!username.trim()) {\r\n      return 'Full name is required';\r\n    }\r\n    \r\n    if (username.length < 2) {\r\n      return 'Name must be at least 2 characters';\r\n    }\r\n    \r\n    // Allow international names with various characters\r\n    const nameRegex = /^[A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿\\s\\-\\'\\.]+$/;\r\n    if (!nameRegex.test(username)) {\r\n      return 'Name can only contain letters, spaces, hyphens, apostrophes, and periods';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates program/course selection\r\n   */\r\n  const validateProgram = (program) => {\r\n    if (formData.role === 'student' && !program) {\r\n      return 'Please select your program/course';\r\n    }\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates campus selection\r\n   */\r\n  const validateCampus = (campus) => {\r\n    if (formData.role === 'student' && !campus) {\r\n      return 'Please select your campus';\r\n    }\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Calculates password strength\r\n   */\r\n  const calculatePasswordStrength = (password) => {\r\n    let strength = 0;\r\n    \r\n    // Length check\r\n    if (password.length >= 8) strength += 25;\r\n    if (password.length >= 12) strength += 10;\r\n    \r\n    // Character variety checks\r\n    if (/[A-Z]/.test(password)) strength += 15;\r\n    if (/[a-z]/.test(password)) strength += 15;\r\n    if (/[0-9]/.test(password)) strength += 15;\r\n    if (/[^A-Za-z0-9]/.test(password)) strength += 15;\r\n    \r\n    // Common patterns penalty\r\n    const commonPatterns = [\r\n      '123456', 'password', 'qwerty', '111111',\r\n      new RegExp(formData.username.toLowerCase()),\r\n      new RegExp(formData.email.split('@')[0].toLowerCase())\r\n    ];\r\n    \r\n    commonPatterns.forEach(pattern => {\r\n      if (typeof pattern === 'string' && password.includes(pattern)) {\r\n        strength -= 20;\r\n      } else if (pattern instanceof RegExp && pattern.test(password)) {\r\n        strength -= 20;\r\n      }\r\n    });\r\n    \r\n    // Ensure strength is between 0 and 100\r\n    strength = Math.max(0, Math.min(100, strength));\r\n    setPasswordStrength(strength);\r\n    \r\n    return strength;\r\n  };\r\n\r\n  /**\r\n   * Gets password strength label and color\r\n   */\r\n  const getPasswordStrengthInfo = () => {\r\n    if (passwordStrength < 30) return { label: 'Weak', color: '#ef4444', className: 'weak' };\r\n    if (passwordStrength < 60) return { label: 'Fair', color: '#f59e0b', className: 'fair' };\r\n    if (passwordStrength < 80) return { label: 'Good', color: '#10b981', className: 'good' };\r\n    return { label: 'Strong', color: '#059669', className: 'strong' };\r\n  };\r\n\r\n  /**\r\n   * Calculates form completion progress\r\n   */\r\n  const calculateFormProgress = () => {\r\n    const fields = [\r\n      'username', 'email', 'password', 'confirmPassword',\r\n      'role', 'agreeToTerms'\r\n    ];\r\n    \r\n    if (formData.role === 'student') {\r\n      fields.push('program', 'campus', 'yearOfEntry', 'status', 'studentId');\r\n    } else {\r\n      fields.push('department');\r\n    }\r\n    \r\n    let completed = 0;\r\n    \r\n    fields.forEach(field => {\r\n      if (field === 'agreeToTerms') {\r\n        if (formData[field]) completed++;\r\n      } else if (formData[field]?.toString().trim()) {\r\n        completed++;\r\n      }\r\n    });\r\n    \r\n    const progress = Math.round((completed / fields.length) * 100);\r\n    setFormProgress(progress);\r\n  };\r\n\r\n  /**\r\n   * Handles input changes with validation\r\n   */\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    // Sanitize input\r\n    let sanitizedValue = value;\r\n    \r\n    switch (name) {\r\n      case 'username':\r\n        sanitizedValue = value.trim();\r\n        break;\r\n      case 'email':\r\n        sanitizedValue = value.trim().toLowerCase();\r\n        break;\r\n      case 'phone':\r\n        // Format phone number as user types\r\n        sanitizedValue = formatPhoneNumber(value);\r\n        break;\r\n      case 'studentId':\r\n        sanitizedValue = value.trim().toUpperCase();\r\n        break;\r\n      case 'yearOfEntry':\r\n        // Only allow 2-digit years\r\n        sanitizedValue = value.replace(/\\D/g, '').slice(0, 2);\r\n        break;\r\n      default:\r\n        sanitizedValue = value;\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : sanitizedValue\r\n    }));\r\n    \r\n    // Clear field-specific error when user starts typing\r\n    if (validationErrors[name]) {\r\n      setValidationErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n    \r\n    // Clear general error\r\n    if (error) setError('');\r\n  };\r\n\r\n  /**\r\n   * Formats Ugandan phone number as user types\r\n   */\r\n  const formatPhoneNumber = (phone) => {\r\n    // Remove all non-digit characters\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n    \r\n    // Handle Ugandan format\r\n    if (cleaned.startsWith('256')) {\r\n      const withoutCode = cleaned.slice(3);\r\n      if (withoutCode.length <= 9) {\r\n        return `256 ${withoutCode.slice(0, 3)} ${withoutCode.slice(3, 6)} ${withoutCode.slice(6, 9)}`;\r\n      }\r\n    } else if (cleaned.startsWith('0')) {\r\n      const withoutZero = cleaned.slice(1);\r\n      if (withoutZero.length <= 9) {\r\n        return `0${withoutZero.slice(0, 3)} ${withoutZero.slice(3, 6)} ${withoutZero.slice(6, 9)}`;\r\n      }\r\n    }\r\n    \r\n    return phone;\r\n  };\r\n\r\n  /**\r\n   * Validates the entire form\r\n   */\r\n  const validateForm = useCallback(() => {\r\n    const errors = {};\r\n    \r\n    // Validate each field\r\n    errors.username = validateUsername(formData.username);\r\n    errors.email = validateEmail(formData.email);\r\n    errors.phone = validatePhone(formData.phone);\r\n    errors.studentId = validateStudentId(formData.studentId);\r\n    errors.program = validateProgram(formData.program);\r\n    errors.campus = validateCampus(formData.campus);\r\n    \r\n    // Password validation\r\n    if (!formData.password) {\r\n      errors.password = 'Password is required';\r\n    } else if (formData.password.length < 8) {\r\n      errors.password = 'Password must be at least 8 characters';\r\n    } else if (passwordStrength < 30) {\r\n      errors.password = 'Please choose a stronger password';\r\n    }\r\n    \r\n    // Confirm password validation\r\n    if (formData.password !== formData.confirmPassword) {\r\n      errors.confirmPassword = 'Passwords do not match';\r\n    }\r\n    \r\n    // Department validation for non-students\r\n    if (formData.role !== 'student' && !formData.department) {\r\n      errors.department = 'Please select your department';\r\n    }\r\n    \r\n    // Terms agreement validation\r\n    if (!formData.agreeToTerms) {\r\n      errors.agreeToTerms = 'You must agree to the Terms of Service';\r\n    }\r\n    \r\n    // Remove null errors\r\n    Object.keys(errors).forEach(key => {\r\n      if (!errors[key]) delete errors[key];\r\n    });\r\n    \r\n    setValidationErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  }, [formData, passwordStrength]);\r\n\r\n  /**\r\n   * Handles form submission with enhanced security\r\n   */\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setValidationErrors({});\r\n    \r\n    // Validate form\r\n    if (!validateForm()) {\r\n      setError('Please fix the errors in the form');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // Log registration attempt\r\n      logSecurityEvent('registration_attempt', {\r\n        email: formData.email,\r\n        role: formData.role,\r\n        program: formData.program,\r\n        campus: formData.campus,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n      // Prepare data for registration\r\n      const registrationData = {\r\n        username: formData.username.trim(),\r\n        email: formData.email.trim().toLowerCase(),\r\n        password: formData.password,\r\n        role: formData.role,\r\n        phone: formData.phone ? formData.phone.replace(/\\D/g, '') : undefined,\r\n        metadata: {\r\n          registrationTimestamp: new Date().toISOString(),\r\n          userAgent: navigator.userAgent,\r\n          screenResolution: `${window.screen.width}x${window.screen.height}`,\r\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          institution: UNIVERSITY_NAME\r\n        }\r\n      };\r\n      \r\n      // Add role-specific data\r\n      if (formData.role === 'student') {\r\n        registrationData.studentInfo = {\r\n          studentId: formData.studentId.trim().toUpperCase(),\r\n          program: formData.program,\r\n          campus: formData.campus,\r\n          yearOfEntry: formData.yearOfEntry,\r\n          status: formData.status,\r\n          department: programs.find(p => p.value === formData.program)?.department\r\n        };\r\n      } else {\r\n        registrationData.department = formData.department;\r\n        registrationData.position = formData.role;\r\n      }\r\n      \r\n      console.log('ðŸ” Registering user at Bugema University:', {\r\n        email: registrationData.email,\r\n        role: registrationData.role,\r\n        studentId: registrationData.studentInfo?.studentId\r\n      });\r\n      \r\n      const result = await register(registrationData);\r\n      \r\n      if (result.success) {\r\n        // Log successful registration\r\n        logSecurityEvent('registration_success', {\r\n          email: formData.email,\r\n          role: formData.role,\r\n          studentId: formData.studentId,\r\n          userId: result.user?._id\r\n        });\r\n        \r\n        // Show success message and redirect\r\n        navigate('/dashboard', {\r\n          state: {\r\n            registrationSuccess: true,\r\n            message: `Welcome to ${UNIVERSITY_NAME} IT Support System!`,\r\n            userRole: formData.role,\r\n            studentId: formData.studentId\r\n          }\r\n        });\r\n      } else {\r\n        throw new Error(result.error || 'Registration failed');\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('âŒ Registration error:', err);\r\n      \r\n      // Enhanced error handling\r\n      let errorMessage = 'Registration failed. Please try again.';\r\n      \r\n      if (err.response) {\r\n        const { status, data } = err.response;\r\n        \r\n        switch (status) {\r\n          case 400:\r\n            errorMessage = data?.message || 'Invalid registration data';\r\n            break;\r\n          case 409:\r\n            if (data?.message?.includes('Student ID')) {\r\n              errorMessage = 'This Student ID is already registered';\r\n            } else {\r\n              errorMessage = 'An account with this email already exists';\r\n            }\r\n            break;\r\n          case 422:\r\n            errorMessage = data?.message || 'Validation failed. Please check your inputs.';\r\n            break;\r\n          case 429:\r\n            errorMessage = 'Too many registration attempts. Please try again later.';\r\n            break;\r\n          case 500:\r\n            errorMessage = 'Server error. Please try again later.';\r\n            break;\r\n          default:\r\n            errorMessage = data?.message || errorMessage;\r\n        }\r\n      } else if (err.code === 'ECONNABORTED') {\r\n        errorMessage = 'Request timeout. Please check your connection.';\r\n      } else if (err.message === 'Network Error') {\r\n        errorMessage = 'Cannot connect to server. Check your internet connection.';\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      \r\n      // Log registration failure\r\n      logSecurityEvent('registration_failed', {\r\n        email: formData.email,\r\n        error: err.message,\r\n        status: err.response?.status\r\n      });\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Toggles password visibility\r\n   */\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  /**\r\n   * Toggles confirm password visibility\r\n   */\r\n  const toggleConfirmPasswordVisibility = () => {\r\n    setShowConfirmPassword(!showConfirmPassword);\r\n  };\r\n\r\n  /**\r\n   * Handles role change with validation\r\n   */\r\n  const handleRoleChange = (role) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      role,\r\n      // Clear student-specific fields if role changes from student\r\n      ...(prev.role === 'student' && role !== 'student' && { \r\n        studentId: '',\r\n        program: '',\r\n        campus: 'main',\r\n        yearOfEntry: CURRENT_YEAR,\r\n        status: 'R'\r\n      }),\r\n      // Clear department if changing to student\r\n      ...(prev.role !== 'student' && role === 'student' && { \r\n        department: ''\r\n      })\r\n    }));\r\n    \r\n    // Clear role-specific validation errors\r\n    setValidationErrors(prev => {\r\n      const newErrors = { ...prev };\r\n      delete newErrors.studentId;\r\n      delete newErrors.program;\r\n      delete newErrors.campus;\r\n      delete newErrors.department;\r\n      return newErrors;\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Gets current role object\r\n   */\r\n  const getCurrentRole = () => {\r\n    return roleOptions.find(role => role.value === formData.role) || roleOptions[0];\r\n  };\r\n\r\n  /**\r\n   * Gets selected program object\r\n   */\r\n  const getSelectedProgram = () => {\r\n    return programs.find(p => p.value === formData.program);\r\n  };\r\n\r\n  /**\r\n   * Gets selected campus object\r\n   */\r\n  const getSelectedCampus = () => {\r\n    return campuses.find(c => c.value === formData.campus);\r\n  };\r\n\r\n  // Get password strength info\r\n  const strengthInfo = getPasswordStrengthInfo();\r\n\r\n  // Check if form is disabled\r\n  const isFormDisabled = loading || isSubmitting;\r\n\r\n  // Get current role\r\n  const currentRole = getCurrentRole();\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"auth-container\">\r\n        <div className=\"auth-form\">\r\n          {/* Header */}\r\n          <div className=\"auth-header\">\r\n            <div className=\"auth-logo\">\r\n              <svg className=\"logo-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"none\"/>\r\n                <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              </svg>\r\n              <h2>Bugema University IT Support</h2>\r\n            </div>\r\n            <p className=\"auth-subtitle\">Create your university account</p>\r\n          </div>\r\n\r\n          {/* Progress Bar */}\r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\" \r\n              style={{ width: `${formProgress}%` }}\r\n              role=\"progressbar\"\r\n              aria-valuenow={formProgress}\r\n              aria-valuemin=\"0\"\r\n              aria-valuemax=\"100\"\r\n            >\r\n              <span className=\"progress-text\">{formProgress}% Complete</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"error-message\" role=\"alert\">\r\n              <div className=\"error-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"error-content\">\r\n                <p>{error}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Registration Form */}\r\n          <form onSubmit={handleSubmit} className=\"register-form\" noValidate>\r\n            {/* Personal Information Section */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                </svg>\r\n                Personal Information\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\" className=\"form-label\">\r\n                  Full Name <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.username ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    ref={nameRef}\r\n                    id=\"username\"\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    autoComplete=\"name\"\r\n                    value={formData.username}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Enter your full name\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.username ? \"username-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                </div>\r\n                {validationErrors.username && (\r\n                  <div id=\"username-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.username}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\" className=\"form-label\">\r\n                  Bugema University Email <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.email ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    autoComplete=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"name@bugemauniv.ac.ug\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.email ? \"email-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                </div>\r\n                {validationErrors.email && (\r\n                  <div id=\"email-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.email}\r\n                  </div>\r\n                )}\r\n                <div className=\"info-note\">\r\n                  <div className=\"note-content\">\r\n                    <p>Use your official Bugema University email address</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\" className=\"form-label\">\r\n                  Phone Number (Uganda) <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.phone ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"phone\"\r\n                    name=\"phone\"\r\n                    type=\"tel\"\r\n                    autoComplete=\"tel\"\r\n                    value={formData.phone}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"07XXXXXXXX or 2567XXXXXXXX\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.phone ? \"phone-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                </div>\r\n                {validationErrors.phone && (\r\n                  <div id=\"phone-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.phone}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Account Type Section */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n                </svg>\r\n                Account Type\r\n              </h3>\r\n              \r\n              <div className=\"role-selection\">\r\n                {roleOptions.map(option => (\r\n                  <label \r\n                    key={option.value} \r\n                    className={`role-option ${formData.role === option.value ? 'selected' : ''}`}\r\n                    onClick={() => handleRoleChange(option.value)}\r\n                  >\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"role\"\r\n                      value={option.value}\r\n                      checked={formData.role === option.value}\r\n                      onChange={() => handleRoleChange(option.value)}\r\n                      className=\"role-radio\"\r\n                      disabled={isFormDisabled}\r\n                      aria-label={option.label}\r\n                    />\r\n                    <div className=\"role-content\">\r\n                      <span className=\"role-icon\">{option.icon}</span>\r\n                      <div className=\"role-info\">\r\n                        <span className=\"role-label\">{option.label}</span>\r\n                        <span className=\"role-description\">{option.description}</span>\r\n                        {option.requiresApproval && (\r\n                          <span className=\"role-notice\">\r\n                            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n                            </svg>\r\n                            Requires approval\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Student-Specific Information */}\r\n            {currentRole.showStudentFields && (\r\n              <div className=\"form-section\">\r\n                <h3 className=\"section-title\">\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                    <path d=\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\"/>\r\n                  </svg>\r\n                  Academic Information\r\n                </h3>\r\n                \r\n                {/* Program/Course Selection */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"program\" className=\"form-label\">\r\n                    Program/Course <span className=\"required\">*</span>\r\n                  </label>\r\n                  <div className={`input-group ${validationErrors.program ? 'error' : ''}`}>\r\n                    <div className=\"input-icon\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\"/>\r\n                      </svg>\r\n                    </div>\r\n                    <select\r\n                      id=\"program\"\r\n                      name=\"program\"\r\n                      value={formData.program}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-select\"\r\n                      aria-describedby={validationErrors.program ? \"program-error\" : undefined}\r\n                      aria-required=\"true\"\r\n                    >\r\n                      <option value=\"\">Select your program</option>\r\n                      {programs.map(program => (\r\n                        <option key={program.value} value={program.value}>\r\n                          {program.label} ({program.code})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  {validationErrors.program && (\r\n                    <div id=\"program-error\" className=\"error-text\" role=\"alert\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                      </svg>\r\n                      {validationErrors.program}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Campus Selection */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"campus\" className=\"form-label\">\r\n                    Campus <span className=\"required\">*</span>\r\n                  </label>\r\n                  <div className={`input-group ${validationErrors.campus ? 'error' : ''}`}>\r\n                    <div className=\"input-icon\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                      </svg>\r\n                    </div>\r\n                    <select\r\n                      id=\"campus\"\r\n                      name=\"campus\"\r\n                      value={formData.campus}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-select\"\r\n                      aria-describedby={validationErrors.campus ? \"campus-error\" : undefined}\r\n                      aria-required=\"true\"\r\n                    >\r\n                      <option value=\"\">Select your campus</option>\r\n                      {campuses.map(campus => (\r\n                        <option key={campus.value} value={campus.value}>\r\n                          {campus.label} ({campus.code})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  {validationErrors.campus && (\r\n                    <div id=\"campus-error\" className=\"error-text\" role=\"alert\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                      </svg>\r\n                      {validationErrors.campus}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Year of Entry and Status */}\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"yearOfEntry\" className=\"form-label\">\r\n                      Year of Entry <span className=\"required\">*</span>\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-icon\">\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path d=\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\"/>\r\n                        </svg>\r\n                      </div>\r\n                      <input\r\n                        id=\"yearOfEntry\"\r\n                        name=\"yearOfEntry\"\r\n                        type=\"text\"\r\n                        value={formData.yearOfEntry}\r\n                        onChange={handleChange}\r\n                        disabled={isFormDisabled}\r\n                        placeholder=\"YY (e.g., 22)\"\r\n                        maxLength=\"2\"\r\n                        className=\"form-input\"\r\n                        aria-required=\"true\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"status\" className=\"form-label\">\r\n                      Student Status <span className=\"required\">*</span>\r\n                    </label>\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-icon\">\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                        </svg>\r\n                      </div>\r\n                      <select\r\n                        id=\"status\"\r\n                        name=\"status\"\r\n                        value={formData.status}\r\n                        onChange={handleChange}\r\n                        disabled={isFormDisabled}\r\n                        className=\"form-select\"\r\n                        aria-required=\"true\"\r\n                      >\r\n                        {studentStatusOptions.map(status => (\r\n                          <option key={status.value} value={status.value}>\r\n                            {status.label} ({status.value})\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Student ID Input */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"studentId\" className=\"form-label\">\r\n                    Student ID <span className=\"required\">*</span>\r\n                  </label>\r\n                  <div className={`input-group ${validationErrors.studentId ? 'error' : ''}`}>\r\n                    <div className=\"input-icon\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"/>\r\n                      </svg>\r\n                    </div>\r\n                    <input\r\n                      id=\"studentId\"\r\n                      name=\"studentId\"\r\n                      type=\"text\"\r\n                      value={formData.studentId}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      placeholder=\"22/BIT/BU/R/0010\"\r\n                      className=\"form-input\"\r\n                      aria-describedby={validationErrors.studentId ? \"studentId-error\" : undefined}\r\n                      aria-required=\"true\"\r\n                    />\r\n                  </div>\r\n                  {validationErrors.studentId && (\r\n                    <div id=\"studentId-error\" className=\"error-text\" role=\"alert\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                      </svg>\r\n                      {validationErrors.studentId}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Student ID Format Guide */}\r\n                  <div className=\"info-note\">\r\n                    <div className=\"note-content\">\r\n                      <p><strong>Student ID Format:</strong> YY/PROGRAM/CAMPUS/STATUS/NUMBER</p>\r\n                      <p><strong>Example:</strong> 22/BIT/BU/R/0010</p>\r\n                      <p>\r\n                        <strong>Where:</strong> \r\n                        22 = Year of entry, \r\n                        BIT = Program code, \r\n                        BU = Campus code, \r\n                        R = Student status (R/H/E/W), \r\n                        0010 = Unique number\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Auto-generated ID preview */}\r\n                  {autoGeneratedStudentId && (\r\n                    <div className=\"info-note success\">\r\n                      <div className=\"note-content\">\r\n                        <p><strong>Expected format based on your selection:</strong></p>\r\n                        <code className=\"student-id-preview\">{autoGeneratedStudentId}</code>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Staff/Non-Student Information */}\r\n            {!currentRole.showStudentFields && (\r\n              <div className=\"form-section\">\r\n                <h3 className=\"section-title\">\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                    <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z\"/>\r\n                  </svg>\r\n                  Staff Information\r\n                </h3>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"department\" className=\"form-label\">\r\n                    Department <span className=\"required\">*</span>\r\n                  </label>\r\n                  <div className={`input-group ${validationErrors.department ? 'error' : ''}`}>\r\n                    <div className=\"input-icon\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z\"/>\r\n                      </svg>\r\n                    </div>\r\n                    <select\r\n                      id=\"department\"\r\n                      name=\"department\"\r\n                      value={formData.department}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-select\"\r\n                      aria-describedby={validationErrors.department ? \"department-error\" : undefined}\r\n                      aria-required=\"true\"\r\n                    >\r\n                      <option value=\"\">Select your department</option>\r\n                      {departments.map(dept => (\r\n                        <option key={dept.value} value={dept.value}>\r\n                          {dept.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  {validationErrors.department && (\r\n                    <div id=\"department-error\" className=\"error-text\" role=\"alert\">\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                      </svg>\r\n                      {validationErrors.department}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Staff account note */}\r\n                <div className=\"info-note warning\">\r\n                  <div className=\"note-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"note-content\">\r\n                    <strong>Staff Account Verification</strong>\r\n                    <p>Staff, lecturer, and administrator accounts require verification by the IT department. You will receive an email notification once your account is approved.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Security Section */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                </svg>\r\n                Account Security\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\" className=\"form-label\">\r\n                  Password <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.password ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    autoComplete=\"new-password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Create a strong password\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.password ? \"password-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={togglePasswordVisibility}\r\n                    className=\"password-toggle\"\r\n                    disabled={isFormDisabled}\r\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                  >\r\n                    {showPassword ? (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"/>\r\n                      </svg>\r\n                    ) : (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                \r\n                {/* Password Strength Meter */}\r\n                {formData.password && (\r\n                  <div className=\"password-strength\">\r\n                    <div className=\"strength-meter\">\r\n                      <div \r\n                        className={`strength-bar ${strengthInfo.className}`}\r\n                        style={{ width: `${passwordStrength}%` }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"strength-info\">\r\n                      <span className=\"strength-label\">Strength: {strengthInfo.label}</span>\r\n                      <span className=\"strength-score\">{passwordStrength}%</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {validationErrors.password && (\r\n                  <div id=\"password-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.password}\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"password-requirements\">\r\n                  <p><strong>Password requirements:</strong></p>\r\n                  <ul>\r\n                    <li className={formData.password.length >= 8 ? 'valid' : 'invalid'}>\r\n                      At least 8 characters\r\n                    </li>\r\n                    <li className={/[A-Z]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      One uppercase letter\r\n                    </li>\r\n                    <li className={/[a-z]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      One lowercase letter\r\n                    </li>\r\n                    <li className={/[0-9]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      One number\r\n                    </li>\r\n                    <li className={/[^A-Za-z0-9]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      One special character\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"confirmPassword\" className=\"form-label\">\r\n                  Confirm Password <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.confirmPassword ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"confirmPassword\"\r\n                    name=\"confirmPassword\"\r\n                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                    autoComplete=\"new-password\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Re-enter your password\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.confirmPassword ? \"confirmPassword-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={toggleConfirmPasswordVisibility}\r\n                    className=\"password-toggle\"\r\n                    disabled={isFormDisabled}\r\n                    aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\r\n                  >\r\n                    {showConfirmPassword ? (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"/>\r\n                      </svg>\r\n                    ) : (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {validationErrors.confirmPassword && (\r\n                  <div id=\"confirmPassword-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.confirmPassword}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Terms and Conditions */}\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z\"/>\r\n                </svg>\r\n                Terms and Conditions\r\n              </h3>\r\n              \r\n              <div className=\"form-group checkbox-group\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"agreeToTerms\"\r\n                    checked={formData.agreeToTerms}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    className=\"checkbox-input\"\r\n                    aria-describedby={validationErrors.agreeToTerms ? \"terms-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                  />\r\n                  <span className=\"checkbox-custom\"></span>\r\n                  <span className=\"checkbox-text\">\r\n                    I agree to Bugema University's{' '}\r\n                    <Link to=\"/terms\" target=\"_blank\" className=\"link\">\r\n                      Terms of Service\r\n                    </Link>\r\n                    {' '}and{' '}\r\n                    <Link to=\"/privacy\" target=\"_blank\" className=\"link\">\r\n                      Privacy Policy\r\n                    </Link>\r\n                    <span className=\"required\">*</span>\r\n                  </span>\r\n                </label>\r\n                {validationErrors.agreeToTerms && (\r\n                  <div id=\"terms-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.agreeToTerms}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group checkbox-group\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"receiveNotifications\"\r\n                    checked={formData.receiveNotifications}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    className=\"checkbox-input\"\r\n                  />\r\n                  <span className=\"checkbox-custom\"></span>\r\n                  <span className=\"checkbox-text\">\r\n                    I want to receive notifications about university announcements and system updates\r\n                  </span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"info-note\">\r\n                <div className=\"note-content\">\r\n                  <p><strong>Important Information:</strong></p>\r\n                  <ul>\r\n                    <li>You are responsible for maintaining the confidentiality of your account credentials</li>\r\n                    <li>All account activities are monitored for security purposes</li>\r\n                    <li>Misuse of the system may result in account suspension</li>\r\n                    <li>By registering, you confirm that all information provided is accurate</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Submit Button */}\r\n            <div className=\"form-group\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isFormDisabled}\r\n                className={`auth-btn ${loading ? 'loading' : ''}`}\r\n                aria-busy={loading}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <span className=\"spinner\"></span>\r\n                    Creating Account...\r\n                  </>\r\n                ) : (\r\n                  'Create Bugema University Account'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n          \r\n          {/* Footer */}\r\n          <div className=\"auth-footer\">\r\n            <p className=\"auth-link\">\r\n              Already have an account?{' '}\r\n              <Link \r\n                to=\"/login\" \r\n                className=\"link\"\r\n                aria-disabled={isFormDisabled}\r\n              >\r\n                Login here\r\n              </Link>\r\n            </p>\r\n            <p className=\"auth-version\">\r\n              Bugema University IT Support System v{process.env.REACT_APP_VERSION || '1.0.0'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* University Contact Information */}\r\n          <div className=\"security-footer\">\r\n            <p className=\"security-notice\">\r\n              Need help with registration? Contact Bugema University IT Support:\r\n            </p>\r\n            <p className=\"security-contact\">\r\n              ðŸ“§ <a href=\"mailto:itsupport@bugemauniv.ac.ug\">itsupport@bugemauniv.ac.ug</a> â€¢ \r\n              ðŸ“ž <a href=\"tel:+256392730294\">+256 392 730 294</a> â€¢\r\n              ðŸ“ Main Campus, Luwero\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}