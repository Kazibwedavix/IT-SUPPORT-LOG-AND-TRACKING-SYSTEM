{"ast":null,"code":"import _objectSpread from\"C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import Navbar from'../components/Navbar';import'../styles/Auth.css';/**\r\n * Enterprise Registration Component for Bugema University IT Support System\r\n * \r\n * This component handles user registration with role-based form fields,\r\n * comprehensive validation, and security features.\r\n * \r\n * Features:\r\n * - Role-based registration (student, staff, technician, admin)\r\n * - Real-time form validation and progress tracking\r\n * - Password strength analysis with visual feedback\r\n * - Department mapping based on user role\r\n * - Email domain validation for university emails\r\n * - Student ID validation following Bugema University format\r\n * - Accessibility compliance with ARIA labels\r\n * - Security event logging\r\n * - Responsive design\r\n * \r\n * @version 3.1.0\r\n * @author Bugema University IT Department\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{// ====================\n// STATE MANAGEMENT\n// ====================\n// Form data state\nconst[formData,setFormData]=useState({// Authentication credentials\nusername:'',email:'',password:'',confirmPassword:'',// Personal information\nfirstName:'',lastName:'',phone:'',// Role and institutional information\nrole:'student',department:'computer_science',// Student-specific fields\nstudentId:'',campus:'BU',yearOfEntry:new Date().getFullYear(),semester:'1',// Agreement and preferences\nagreeToTerms:false,receiveNotifications:true,// Professional information\nemployeeId:''});// UI and validation state\nconst[error,setError]=useState('');const[loading,setLoading]=useState(false);const[validationErrors,setValidationErrors]=useState({});const[passwordStrength,setPasswordStrength]=useState(0);const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[formProgress,setFormProgress]=useState(0);const[isSubmitting,setIsSubmitting]=useState(false);const[suggestedDepartments,setSuggestedDepartments]=useState([]);const[isPersonalEmail,setIsPersonalEmail]=useState(false);const[fieldTouched,setFieldTouched]=useState({});// Refs and hooks\nconst firstNameRef=useRef(null);const{register,logSecurityEvent,checkUsername}=useAuth();const navigate=useNavigate();// ====================\n// CONSTANTS AND CONFIGURATION\n// ====================\n// Available user roles with descriptions and permissions\nconst roleOptions=[{value:'student',label:'Student',description:'Access academic resources and submit support tickets',icon:'ðŸŽ“',permissions:['create_ticket','view_own_tickets','access_knowledge_base'],requiresApproval:false,requiresStudentId:true},{value:'staff',label:'Staff/Faculty',description:'University staff and teaching faculty members',icon:'ðŸ‘¨â€ðŸ«',permissions:['create_ticket','view_department_tickets','access_knowledge_base','manage_own_assets'],requiresApproval:true,requiresEmployeeId:false},{value:'technician',label:'IT Technician',description:'Provide technical support and resolve tickets',icon:'ðŸ‘¨â€ðŸ’»',permissions:['view_all_tickets','resolve_tickets','manage_assets','access_admin_tools'],requiresApproval:true,requiresEmployeeId:true},{value:'admin',label:'System Administrator',description:'Full system access and user management',icon:'ðŸ‘¨â€ðŸ’¼',permissions:['all_permissions'],requiresApproval:true,requiresEmployeeId:true}];// Department configuration with role-based mapping\nconst departments=[// Academic departments (for students - lowercase values)\n{value:'computer_science',label:'Computer Science',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'engineering',label:'Engineering',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'business',label:'Business School',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'arts_sciences',label:'Arts & Sciences',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'medicine',label:'School of Medicine',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'law',label:'School of Law',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},{value:'education',label:'School of Education',category:'academic',professionalValue:'ACADEMIC_AFFAIRS'},// Administrative departments (for staff/technicians/admins - uppercase values)\n{value:'administration',label:'Administration',category:'administrative',professionalValue:'ADMINISTRATION'},{value:'it_services',label:'IT Services',category:'administrative',professionalValue:'IT_SERVICES'},{value:'facilities',label:'Facilities Management',category:'administrative',professionalValue:'ADMINISTRATION'},{value:'library',label:'Library Services',category:'administrative',professionalValue:'LIBRARY'},{value:'student_services',label:'Student Services',category:'administrative',professionalValue:'STUDENT_AFFAIRS'},{value:'research',label:'Research Division',category:'administrative',professionalValue:'RESEARCH'},{value:'other',label:'Other Department',category:'other',professionalValue:'ADMINISTRATION'}];// Valid university email domains\nconst universityDomains=['bugemauniv.ac.ug','students.bugemauniv.ac.ug','staff.bugemauniv.ac.ug','bugema.ac.ug'];// Student ID validation patterns (Bugema University format)\nconst studentIdPatterns=[/^[0-9]{2}\\/[A-Z]{3}\\/[A-Z]{2}\\/[A-Z]\\/[0-9]{4}$/,// Format: 22/BIT/BU/R/0010\n/^[A-Z0-9\\/\\-_]{6,20}$/// Alternative format\n];// Campus options for student accounts\nconst campusOptions=[{value:'BU',label:'Main Campus (Luweero)'},{value:'MA',label:'Kampala Campus'},{value:'KA',label:'Kasese Campus'},{value:'AR',label:'Arua Campus'},{value:'MB',label:'Mbale Campus'},{value:'OTHER',label:'Other Campus'}];// ====================\n// HELPER FUNCTIONS\n// ====================\n/**\r\n   * Maps department value based on user role\r\n   * @param {string} role - User role (student, staff, technician, admin)\r\n   * @param {string} departmentValue - Selected department value\r\n   * @returns {string} Mapped department value\r\n   */const getDepartmentValue=(role,departmentValue)=>{// Students use lowercase academic department values\nif(role==='student'){return departmentValue;}// Staff/technician/admin use uppercase professional department values\nconst department=departments.find(dept=>dept.value===departmentValue);return department?department.professionalValue:'ADMINISTRATION';};/**\r\n   * Gets display label for department based on current role\r\n   * @param {string} role - User role\r\n   * @param {string} departmentValue - Department value\r\n   * @returns {string} Department display label\r\n   */const getDepartmentLabel=(role,departmentValue)=>{const department=departments.find(dept=>dept.value===departmentValue);return department?department.label:'Select Department';};// ====================\n// ICON PATH CONSTANTS\n// ====================\nconst errorPath=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\";const checkPath=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\";const xPath=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\";// ====================\n// EFFECT HOOKS\n// ====================\n// Focus first input on component mount\nuseEffect(()=>{if(firstNameRef.current){firstNameRef.current.focus();}},[]);// Calculate form completion progress\nuseEffect(()=>{calculateFormProgress();},[formData]);// Calculate password strength when password changes\nuseEffect(()=>{if(formData.password){calculatePasswordStrength(formData.password);}else{setPasswordStrength(0);}},[formData.password]);// Filter departments based on selected role\nuseEffect(()=>{if(formData.role==='student'){setSuggestedDepartments(departments.filter(dept=>dept.category==='academic'));}else if(['staff','technician','admin'].includes(formData.role)){setSuggestedDepartments(departments.filter(dept=>dept.category==='administrative'||dept.category==='other'));}else{setSuggestedDepartments(departments);}},[formData.role]);// ====================\n// VALIDATION FUNCTIONS\n// ====================\n/**\r\n   * Validates email format and domain\r\n   * @param {string} email - Email address to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validateEmail=email=>{if(!email.trim()){return'Email address is required';}const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email.trim())){return'Please enter a valid email address';}// Check if email uses university domain\nconst isUniversityEmail=universityDomains.some(domain=>email.toLowerCase().endsWith(domain.toLowerCase()));setIsPersonalEmail(!isUniversityEmail);return null;};/**\r\n   * Validates phone number format (Uganda-specific validation)\r\n   * @param {string} phone - Phone number to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validatePhone=phone=>{if(!phone.trim())return null;const cleanedPhone=phone.replace(/[\\s\\-\\(\\)\\.\\+\\s]/g,'');// Uganda phone number validation\nif(cleanedPhone.startsWith('256')){if(cleanedPhone.length!==12){return'Ugandan phone numbers must be 12 digits with 256 prefix';}const operatorCode=cleanedPhone.substring(3,6);const validOperatorCodes=['700','701','702','703','704','705','706','707','708','709','710','711','712','713','714','715','716','717','718','719','720','721','722','723','724','725','726','727','728','729','740','741','742','743','744','745','746','747','748','749','750','751','752','753','754','755','756','757','758','759','770','771','772','773','774','775','776','777','778','779','780','781','782','783','784','785','786','787','788','789','790','791','792','793','794','795','796','797','798','799'];if(!validOperatorCodes.includes(operatorCode)){return'Please enter a valid Uganda phone number';}}// General international phone validation\nconst phoneRegex=/^[1-9][0-9]{7,14}$/;if(!phoneRegex.test(cleanedPhone)){return'Please enter a valid phone number';}return null;};/**\r\n   * Validates username format and checks availability\r\n   * @param {string} username - Username to validate\r\n   * @returns {Promise<string|null>} Error message or null if valid\r\n   */const validateUsername=async username=>{if(!username.trim()){return'Username is required';}if(username.length<3){return'Username must be at least 3 characters';}if(username.length>30){return'Username cannot exceed 30 characters';}const usernameRegex=/^[a-zA-Z0-9_-]+$/;if(!usernameRegex.test(username)){return'Username can only contain letters, numbers, underscores, and hyphens';}const reservedUsernames=['admin','administrator','root','system','support','helpdesk'];if(reservedUsernames.includes(username.toLowerCase())){return'This username is reserved';}// Check username availability via API\ntry{const result=await checkUsername(username);if(!result.available){return'This username is already taken';}}catch(error){console.warn('Username availability check failed:',error);// Continue registration if availability check fails\n}return null;};/**\r\n   * Validates first name format\r\n   * @param {string} firstName - First name to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validateFirstName=firstName=>{if(!firstName.trim()){return'First name is required';}if(firstName.length<2){return'First name must be at least 2 characters';}if(firstName.length>50){return'First name cannot exceed 50 characters';}const nameRegex=/^[A-Za-z\\s\\-\\'\\u00C0-\\u024F\\u1E00-\\u1EFF]+$/;if(!nameRegex.test(firstName)){return'First name can only contain letters, spaces, hyphens, and apostrophes';}return null;};/**\r\n   * Validates last name format\r\n   * @param {string} lastName - Last name to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validateLastName=lastName=>{if(!lastName.trim()){return'Last name is required';}if(lastName.length<2){return'Last name must be at least 2 characters';}if(lastName.length>50){return'Last name cannot exceed 50 characters';}const nameRegex=/^[A-Za-z\\s\\-\\'\\u00C0-\\u024F\\u1E00-\\u1EFF]+$/;if(!nameRegex.test(lastName)){return'Last name can only contain letters, spaces, hyphens, and apostrophes';}return null;};/**\r\n   * Validates student ID format for Bugema University\r\n   * @param {string} studentId - Student ID to validate\r\n   * @param {string} role - User role\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validateStudentId=(studentId,role)=>{if(role!=='student')return null;if(!studentId||!studentId.trim()){return'Student ID is required for student accounts';}const formattedId=studentId.trim().toUpperCase();if(formattedId.length<10||formattedId.length>20){return'Student ID must be 10-20 characters';}const isValidFormat=studentIdPatterns.some(pattern=>pattern.test(formattedId));if(!isValidFormat){return'Invalid student ID format. Expected: YY/DEPT/CAMPUS/LEVEL/NUMBER (e.g., 24/BIT/BU/R/0010)';}const year=parseInt(formattedId.substring(0,2));const currentYear=new Date().getFullYear()%100;if(year<20||year>currentYear+5){return'Invalid year in student ID';}const segments=formattedId.split('/');if(segments.length>=3){const campusCode=segments[2];const validCampusCodes=['BU','MA','KA','AR','MB'];if(!validCampusCodes.includes(campusCode)){return'Invalid campus code in student ID';}}return null;};/**\r\n   * Validates password strength requirements\r\n   * @param {string} password - Password to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validatePassword=password=>{if(!password){return'Password is required';}if(password.length<8){return'Password must be at least 8 characters';}if(!/[A-Z]/.test(password)){return'Password must contain at least one uppercase letter';}if(!/[a-z]/.test(password)){return'Password must contain at least one lowercase letter';}if(!/[0-9]/.test(password)){return'Password must contain at least one number';}if(!/[^A-Za-z0-9]/.test(password)){return'Password must contain at least one special character';}return null;};/**\r\n   * Validates password confirmation\r\n   * @param {string} confirmPassword - Confirmed password\r\n   * @param {string} password - Original password\r\n   * @returns {string|null} Error message or null if valid\r\n   */const validateConfirmPassword=(confirmPassword,password)=>{if(!confirmPassword){return'Please confirm your password';}if(confirmPassword!==password){return'Passwords do not match';}return null;};/**\r\n   * Calculates password strength score (0-100)\r\n   * @param {string} password - Password to analyze\r\n   * @returns {number} Strength score\r\n   */const calculatePasswordStrength=password=>{let strength=0;// Length contributions\nif(password.length>=8)strength+=20;if(password.length>=12)strength+=10;if(password.length>=16)strength+=10;// Character variety contributions\nif(/[A-Z]/.test(password))strength+=15;if(/[a-z]/.test(password))strength+=15;if(/[0-9]/.test(password))strength+=15;if(/[^A-Za-z0-9]/.test(password))strength+=15;// Penalties for weak patterns\nif(/(.)\\1{2,}/.test(password))strength-=10;const commonPatterns=['123','abc','qwe','password','admin'];commonPatterns.forEach(pattern=>{if(password.toLowerCase().includes(pattern))strength-=10;});strength=Math.max(0,Math.min(100,strength));setPasswordStrength(strength);return strength;};/**\r\n   * Gets password strength information for display\r\n   * @returns {Object} Strength label, color, and CSS class\r\n   */const getPasswordStrengthInfo=()=>{if(passwordStrength<40)return{label:'Weak',color:'#ef4444',className:'weak'};if(passwordStrength<70)return{label:'Fair',color:'#f59e0b',className:'fair'};if(passwordStrength<90)return{label:'Good',color:'#10b981',className:'good'};return{label:'Strong',color:'#059669',className:'strong'};};/**\r\n   * Calculates form completion percentage\r\n   */const calculateFormProgress=()=>{const requiredFields={student:['username','email','password','confirmPassword','firstName','lastName','role','department','studentId','agreeToTerms'],staff:['username','email','password','confirmPassword','firstName','lastName','role','department','agreeToTerms'],technician:['username','email','password','confirmPassword','firstName','lastName','role','department','agreeToTerms'],admin:['username','email','password','confirmPassword','firstName','lastName','role','department','agreeToTerms']};const fields=requiredFields[formData.role]||requiredFields.student;let completed=0;fields.forEach(field=>{var _formData$field;if(field==='agreeToTerms'){if(formData[field])completed++;}else if(field==='confirmPassword'){if(formData.password&&formData.confirmPassword&&formData.password===formData.confirmPassword)completed++;}else if((_formData$field=formData[field])!==null&&_formData$field!==void 0&&_formData$field.toString().trim()){completed++;}});const progress=Math.round(completed/fields.length*100);setFormProgress(progress);};// ====================\n// FORM HANDLERS\n// ====================\n/**\r\n   * Handles form input changes with validation\r\n   * @param {Object} e - Change event\r\n   */const handleChange=e=>{const{name,value,type,checked}=e.target;setFieldTouched(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:true}));let sanitizedValue=value;switch(name){case'username':sanitizedValue=value.toLowerCase().replace(/[^a-z0-9_-]/g,'');break;case'email':sanitizedValue=value.toLowerCase().trim();break;case'phone':sanitizedValue=formatPhoneNumber(value);break;case'studentId':sanitizedValue=value.toUpperCase().trim();break;case'firstName':case'lastName':sanitizedValue=value.trim();break;case'yearOfEntry':sanitizedValue=value.replace(/\\D/g,'').slice(0,4);break;default:sanitizedValue=value;}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:sanitizedValue}));if(validationErrors[name]){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}if(error)setError('');};/**\r\n   * Formats phone number for display as user types\r\n   * @param {string} phone - Raw phone number input\r\n   * @returns {string} Formatted phone number\r\n   */const formatPhoneNumber=phone=>{const cleaned=phone.replace(/\\D/g,'');if(cleaned.startsWith('256')){if(cleaned.length<=3)return\"+\".concat(cleaned);if(cleaned.length<=6)return\"+\".concat(cleaned.slice(0,3),\" \").concat(cleaned.slice(3));if(cleaned.length<=9)return\"+\".concat(cleaned.slice(0,3),\" \").concat(cleaned.slice(3,6),\" \").concat(cleaned.slice(6));return\"+\".concat(cleaned.slice(0,3),\" \").concat(cleaned.slice(3,6),\" \").concat(cleaned.slice(6,9),\" \").concat(cleaned.slice(9,12));}if(cleaned.length<=3)return cleaned;if(cleaned.length<=6)return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3));return\"(\".concat(cleaned.slice(0,3),\") \").concat(cleaned.slice(3,6),\"-\").concat(cleaned.slice(6,10));};/**\r\n   * Validates a single form field\r\n   * @param {string} name - Field name\r\n   * @param {string} value - Field value\r\n   * @returns {Promise<string|null>} Error message or null\r\n   */const validateField=async(name,value)=>{switch(name){case'username':return await validateUsername(value);case'email':return validateEmail(value);case'password':return validatePassword(value);case'confirmPassword':return validateConfirmPassword(value,formData.password);case'firstName':return validateFirstName(value);case'lastName':return validateLastName(value);case'phone':return validatePhone(value);case'studentId':return validateStudentId(value,formData.role);case'department':return!value?'Please select your department':null;case'agreeToTerms':return!value?'You must agree to the Terms of Service':null;default:return null;}};/**\r\n   * Validates the entire form\r\n   * @returns {Promise<boolean>} True if form is valid\r\n   */const validateForm=useCallback(async()=>{const errors={};let hasError=false;const requiredFields={student:['username','email','password','confirmPassword','firstName','lastName','department','studentId','agreeToTerms'],staff:['username','email','password','confirmPassword','firstName','lastName','department','agreeToTerms'],technician:['username','email','password','confirmPassword','firstName','lastName','department','agreeToTerms'],admin:['username','email','password','confirmPassword','firstName','lastName','department','agreeToTerms']};const fieldsToValidate=requiredFields[formData.role]||requiredFields.student;for(const fieldName of fieldsToValidate){const error=await validateField(fieldName,formData[fieldName]);if(error){errors[fieldName]=error;hasError=true;}}if(formData.password&&passwordStrength<40){errors.password='Please choose a stronger password';hasError=true;}setValidationErrors(errors);return!hasError;},[formData,passwordStrength]);/**\r\n   * Handles form submission\r\n   * @param {Object} e - Submit event\r\n   */const handleSubmit=async e=>{e.preventDefault();setError('');const allFields=['username','email','password','confirmPassword','firstName','lastName','department','studentId','agreeToTerms'];const touchedFields={};allFields.forEach(field=>touchedFields[field]=true);setFieldTouched(touchedFields);const isValid=await validateForm();if(!isValid){setError('Please fix the errors in the form');logSecurityEvent('registration_validation_failed',{email:formData.email,role:formData.role,errors:Object.keys(validationErrors),timestamp:new Date().toISOString()});const firstErrorField=Object.keys(validationErrors)[0];if(firstErrorField){const errorElement=document.getElementById(\"\".concat(firstErrorField,\"-error\"))||document.querySelector(\"[name=\\\"\".concat(firstErrorField,\"\\\"]\"));if(errorElement){errorElement.scrollIntoView({behavior:'smooth',block:'center'});if(errorElement.focus)errorElement.focus();}}return;}if(formProgress<100){setError('Please complete all required fields');return;}setLoading(true);setIsSubmitting(true);try{logSecurityEvent('registration_attempt',{email:formData.email,role:formData.role,timestamp:new Date().toISOString(),userAgent:navigator.userAgent});const mappedDepartment=getDepartmentValue(formData.role,formData.department);// Combine first and last name for fullName field required by backend\nconst fullName=\"\".concat(formData.firstName.trim(),\" \").concat(formData.lastName.trim());// Prepare registration data for API\nconst registrationData={username:formData.username.trim(),email:formData.email.trim().toLowerCase(),password:formData.password,role:formData.role,firstName:formData.firstName.trim(),lastName:formData.lastName.trim(),fullName:fullName,// Required by backend validation\nphone:formData.phone?formData.phone.replace(/\\D/g,''):undefined,department:mappedDepartment,// Root-level department field\nmetadata:{registrationSource:'web',userAgent:navigator.userAgent,screenResolution:\"\".concat(window.screen.width,\"x\").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};registrationData.metadata.isPersonalEmail=isPersonalEmail;// Add role-specific fields\nif(formData.role==='student'){registrationData.studentId=formData.studentId.trim().toUpperCase();registrationData.campus=formData.campus;registrationData.yearOfEntry=parseInt(formData.yearOfEntry)||new Date().getFullYear();registrationData.semester=parseInt(formData.semester)||1;// Include academicInfo for backend compatibility\nregistrationData.academicInfo={studentId:formData.studentId.trim().toUpperCase(),department:formData.department,// Original lowercase for students\ncampus:formData.campus,yearOfEntry:parseInt(formData.yearOfEntry)||new Date().getFullYear(),semester:parseInt(formData.semester)||1,academicStatus:'active'};}else{if(formData.employeeId){registrationData.employeeId=formData.employeeId.trim().toUpperCase();}// Include professionalInfo for backend compatibility\nregistrationData.professionalInfo={department:mappedDepartment// Uppercase for professionals\n};}console.log('ðŸ“¨ Sending registration data:',registrationData);const result=await register(registrationData);if(result.success){var _result$data,_result$data$user;logSecurityEvent('registration_success',{email:formData.email,role:formData.role,userId:(_result$data=result.data)===null||_result$data===void 0?void 0:(_result$data$user=_result$data.user)===null||_result$data$user===void 0?void 0:_result$data$user.id,timestamp:new Date().toISOString()});navigate('/login',{state:{registrationSuccess:true,message:'Account created successfully! Please check your email to verify your account.',userRole:formData.role}});}else{throw new Error(result.message||'Registration failed');}}catch(err){var _err$response;console.error('Registration error:',err);let errorMessage='Registration failed. Please try again.';if(err.response){const{status,data}=err.response;switch(status){case 400:if((data===null||data===void 0?void 0:data.code)==='EMAIL_EXISTS'){errorMessage='An account with this email already exists.';}else if((data===null||data===void 0?void 0:data.code)==='USERNAME_EXISTS'){errorMessage='This username is already taken.';}else if((data===null||data===void 0?void 0:data.code)==='STUDENT_ID_EXISTS'){errorMessage='This student ID is already registered.';}else if(data!==null&&data!==void 0&&data.message){errorMessage=data.message;}else{errorMessage='Invalid registration data. Please check your information.';}break;case 409:errorMessage='An account with this email or username already exists.';break;case 422:errorMessage=(data===null||data===void 0?void 0:data.message)||'Validation failed. Please check your information.';break;case 429:errorMessage='Too many registration attempts. Please try again in 15 minutes.';break;case 500:errorMessage='Server error. Please try again later or contact support.';break;default:errorMessage=(data===null||data===void 0?void 0:data.message)||errorMessage;}}else if(err.code==='ECONNABORTED'){errorMessage='Request timeout. Please check your connection and try again.';}else if(err.message==='Network Error'){errorMessage='Cannot connect to server. Please check your internet connection.';}else if(err.message.includes('already exists')){errorMessage=err.message;}setError(errorMessage);logSecurityEvent('registration_failed',{email:formData.email,error:err.message,status:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status,timestamp:new Date().toISOString()});}finally{setLoading(false);setIsSubmitting(false);}};/**\r\n   * Toggles password visibility\r\n   */const togglePasswordVisibility=()=>{setShowPassword(!showPassword);};/**\r\n   * Toggles confirm password visibility\r\n   */const toggleConfirmPasswordVisibility=()=>{setShowConfirmPassword(!showConfirmPassword);};/**\r\n   * Handles role change and resets role-specific fields\r\n   * @param {string} role - New role value\r\n   */const handleRoleChange=role=>{let defaultDepartment='';// Set default department based on role\nif(role==='student'){defaultDepartment='computer_science';// Default for students\n}else{defaultDepartment='administration';// Default for professionals\n}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{role,department:defaultDepartment,studentId:role!=='student'?'':prev.studentId,employeeId:role!=='technician'&&role!=='admin'?'':prev.employeeId,campus:role==='student'?prev.campus:'BU',yearOfEntry:role==='student'?prev.yearOfEntry:new Date().getFullYear()}));const newErrors=_objectSpread({},validationErrors);delete newErrors.studentId;delete newErrors.employeeId;delete newErrors.department;setValidationErrors(newErrors);};/**\r\n   * Gets current role configuration object\r\n   * @returns {Object} Role configuration\r\n   */const getCurrentRole=()=>{return roleOptions.find(role=>role.value===formData.role)||roleOptions[0];};// ====================\n// RENDER\n// ====================\nconst strengthInfo=getPasswordStrengthInfo();const isFormDisabled=loading||isSubmitting;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-logo\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"logo-icon\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Bugema University IT Support System\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-subtitle\",children:\"Create your account to access IT support services\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(formProgress,\"%\")},role:\"progressbar\",\"aria-valuenow\":formProgress,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[formProgress,\"% Complete\"]})})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:errorPath})})}),/*#__PURE__*/_jsx(\"div\",{className:\"error-content\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"register-form\",noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})}),\"Personal Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"username\",className:\"form-label\",children:[\"Username \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.username?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",type:\"text\",autoComplete:\"username\",value:formData.username,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Choose a username\",className:\"form-input\",\"aria-describedby\":validationErrors.username?\"username-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.username})]}),validationErrors.username&&/*#__PURE__*/_jsxs(\"div\",{id:\"username-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.username]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"3-30 characters. Use letters, numbers, underscores, and hyphens only.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[\"Email Address \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.email?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",value:formData.email,onChange:handleChange,disabled:isFormDisabled,placeholder:\"your.email@bugema.ac.ug\",className:\"form-input\",\"aria-describedby\":validationErrors.email?\"email-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.email})]}),validationErrors.email&&/*#__PURE__*/_jsxs(\"div\",{id:\"email-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.email]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note \".concat(isPersonalEmail?'warning':'info'),children:/*#__PURE__*/_jsx(\"div\",{className:\"note-content\",children:isPersonalEmail?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Using personal email. For official communication, use your university email (\",/*#__PURE__*/_jsx(\"strong\",{children:\"@bugemauniv.ac.ug\"}),\").\"]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u2705 Verified Bugema University email address\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"firstName\",className:\"form-label\",children:[\"First Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.firstName?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),/*#__PURE__*/_jsx(\"input\",{ref:firstNameRef,id:\"firstName\",name:\"firstName\",type:\"text\",autoComplete:\"given-name\",value:formData.firstName,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Enter your first name\",className:\"form-input\",\"aria-describedby\":validationErrors.firstName?\"firstName-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.firstName})]}),validationErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{id:\"firstName-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"lastName\",className:\"form-label\",children:[\"Last Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.lastName?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",name:\"lastName\",type:\"text\",autoComplete:\"family-name\",value:formData.lastName,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Enter your last name\",className:\"form-input\",\"aria-describedby\":validationErrors.lastName?\"lastName-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.lastName})]}),validationErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{id:\"lastName-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"form-label\",children:\"Phone Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.phone?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",autoComplete:\"tel\",value:formData.phone,onChange:handleChange,disabled:isFormDisabled,placeholder:\"+256 XXX XXX XXX\",className:\"form-input\",\"aria-describedby\":validationErrors.phone?\"phone-error\":undefined,\"aria-invalid\":!!validationErrors.phone})]}),validationErrors.phone&&/*#__PURE__*/_jsxs(\"div\",{id:\"phone-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.phone]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),\"Account Type\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"role-selection\",children:roleOptions.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"role-option \".concat(formData.role===option.value?'selected':''),onClick:()=>handleRoleChange(option.value),children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"role\",value:option.value,checked:formData.role===option.value,onChange:()=>handleRoleChange(option.value),className:\"role-radio\",disabled:isFormDisabled,\"aria-label\":option.label}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"role-icon\",children:option.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"role-label\",children:option.label}),/*#__PURE__*/_jsx(\"span\",{className:\"role-description\",children:option.description}),option.requiresApproval&&/*#__PURE__*/_jsxs(\"span\",{className:\"role-notice\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),\"Requires approval\"]})]})]})]},option.value))}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-permissions\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Permissions for \",getCurrentRole().label,\":\"]}),/*#__PURE__*/_jsxs(\"ul\",{children:[getCurrentRole().permissions.slice(0,5).map((permission,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'16px',height:'16px',marginRight:'8px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"})}),permission.replace(/_/g,' ')]},index)),getCurrentRole().permissions.length>5&&/*#__PURE__*/_jsxs(\"li\",{children:[\"...and \",getCurrentRole().permissions.length-5,\" more permissions\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z\"})}),\"Department & Additional Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"department\",className:\"form-label\",children:[\"Department \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.department?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z\"})})}),/*#__PURE__*/_jsxs(\"select\",{id:\"department\",name:\"department\",value:formData.department,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",\"aria-describedby\":validationErrors.department?\"department-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.department,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your department\"}),suggestedDepartments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept.value,children:dept.label},dept.value))]})]}),validationErrors.department&&/*#__PURE__*/_jsxs(\"div\",{id:\"department-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.department]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note info\",children:/*#__PURE__*/_jsx(\"p\",{children:formData.role==='student'?'Academic departments are shown for student accounts.':'Administrative departments are shown for staff/technician/admin accounts.'})})]}),formData.role==='student'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"studentId\",className:\"form-label\",children:[\"Student ID \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.studentId?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"studentId\",name:\"studentId\",type:\"text\",value:formData.studentId,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Format: 24/BIT/BU/R/0010\",className:\"form-input\",\"aria-describedby\":validationErrors.studentId?\"studentId-error\":undefined,\"aria-required\":formData.role==='student',\"aria-invalid\":!!validationErrors.studentId})]}),validationErrors.studentId&&/*#__PURE__*/_jsxs(\"div\",{id:\"studentId-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.studentId]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Format:\"}),\" Year/Department/Campus/Level/Number (e.g., 22/BIT/BU/R/0010)\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Campus codes:\"}),\" BU (Main), MA (Kampala), KA (Kasese), AR (Arua), MB (Mbale)\"]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"campus\",className:\"form-label\",children:\"Campus\"}),/*#__PURE__*/_jsx(\"select\",{id:\"campus\",name:\"campus\",value:formData.campus,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",children:campusOptions.map(campus=>/*#__PURE__*/_jsx(\"option\",{value:campus.value,children:campus.label},campus.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"yearOfEntry\",className:\"form-label\",children:\"Year of Entry\"}),/*#__PURE__*/_jsx(\"input\",{id:\"yearOfEntry\",name:\"yearOfEntry\",type:\"number\",min:\"2000\",max:new Date().getFullYear()+1,value:formData.yearOfEntry,onChange:handleChange,disabled:isFormDisabled,className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"semester\",className:\"form-label\",children:\"Semester\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"semester\",name:\"semester\",value:formData.semester,onChange:handleChange,disabled:isFormDisabled,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Semester 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Semester 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Semester 3\"})]})]})]}),['technician','admin'].includes(formData.role)&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"employeeId\",className:\"form-label\",children:\"Employee ID (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"employeeId\",name:\"employeeId\",type:\"text\",value:formData.employeeId,onChange:handleChange,disabled:isFormDisabled,placeholder:\"e.g., IT2024001\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Provide your employee ID for verification purposes.\"})})]}),(formData.role==='technician'||formData.role==='admin'||formData.role==='staff')&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-note warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"note-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Account Verification Required\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Staff, technician, and administrator accounts require verification by system administrators. You will receive an email notification once your account is approved.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})}),\"Security Settings\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"form-label\",children:[\"Password \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.password?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:showPassword?\"text\":\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Create a strong password\",className:\"form-input\",\"aria-describedby\":validationErrors.password?\"password-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.password}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:togglePasswordVisibility,className:\"password-toggle\",disabled:isFormDisabled,\"aria-label\":showPassword?\"Hide password\":\"Show password\",\"aria-controls\":\"password\",children:showPassword?/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"})})})]}),formData.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"password-strength\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"strength-meter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"strength-bar \".concat(strengthInfo.className),style:{width:\"\".concat(passwordStrength,\"%\"),backgroundColor:strengthInfo.color}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"strength-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"strength-label\",children:[\"Strength: \",strengthInfo.label]}),/*#__PURE__*/_jsxs(\"span\",{className:\"strength-score\",children:[passwordStrength,\"%\"]})]})]}),validationErrors.password&&/*#__PURE__*/_jsxs(\"div\",{id:\"password-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.password]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-requirements\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Password must contain:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:formData.password.length>=8?'valid':'invalid',children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:formData.password.length>=8?/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}):/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"At least 8 characters\"]}),/*#__PURE__*/_jsxs(\"li\",{className:/[A-Z]/.test(formData.password)?'valid':'invalid',children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/[A-Z]/.test(formData.password)?/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}):/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"One uppercase letter\"]}),/*#__PURE__*/_jsxs(\"li\",{className:/[a-z]/.test(formData.password)?'valid':'invalid',children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/[a-z]/.test(formData.password)?/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}):/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"One lowercase letter\"]}),/*#__PURE__*/_jsxs(\"li\",{className:/[0-9]/.test(formData.password)?'valid':'invalid',children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/[0-9]/.test(formData.password)?/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}):/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"One number\"]}),/*#__PURE__*/_jsxs(\"li\",{className:/[^A-Za-z0-9]/.test(formData.password)?'valid':'invalid',children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'14px',height:'14px',marginRight:'4px'},children:/[^A-Za-z0-9]/.test(formData.password)?/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}):/*#__PURE__*/_jsx(\"path\",{d:\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"})}),\"One special character\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:[\"Confirm Password \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group \".concat(validationErrors.confirmPassword?'error':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-icon\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",name:\"confirmPassword\",type:showConfirmPassword?\"text\":\"password\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleChange,disabled:isFormDisabled,placeholder:\"Re-enter your password\",className:\"form-input\",\"aria-describedby\":validationErrors.confirmPassword?\"confirmPassword-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.confirmPassword}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleConfirmPasswordVisibility,className:\"password-toggle\",disabled:isFormDisabled,\"aria-label\":showConfirmPassword?\"Hide password\":\"Show password\",\"aria-controls\":\"confirmPassword\",children:showConfirmPassword?/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"})})})]}),validationErrors.confirmPassword&&/*#__PURE__*/_jsxs(\"div\",{id:\"confirmPassword-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.confirmPassword]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-title\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",style:{width:'20px',height:'20px'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z\"})}),\"Terms and Conditions\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"agreeToTerms\",checked:formData.agreeToTerms,onChange:handleChange,disabled:isFormDisabled,className:\"checkbox-input\",\"aria-describedby\":validationErrors.agreeToTerms?\"terms-error\":undefined,\"aria-required\":\"true\",\"aria-invalid\":!!validationErrors.agreeToTerms}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-custom\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"checkbox-text\",children:[\"I agree to the\",' ',/*#__PURE__*/_jsx(Link,{to:\"/terms\",target:\"_blank\",className:\"link\",children:\"Terms of Service\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(Link,{to:\"/privacy\",target:\"_blank\",className:\"link\",children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]})]}),validationErrors.agreeToTerms&&/*#__PURE__*/_jsxs(\"div\",{id:\"terms-error\",className:\"error-text\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"})}),validationErrors.agreeToTerms]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"receiveNotifications\",checked:formData.receiveNotifications,onChange:handleChange,disabled:isFormDisabled,className:\"checkbox-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-custom\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-text\",children:\"I want to receive notifications about system updates, security alerts, and important announcements\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"info-note\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Important Information:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"You are responsible for maintaining the confidentiality of your account credentials\"}),/*#__PURE__*/_jsx(\"li\",{children:\"You must provide accurate and truthful information during registration\"}),/*#__PURE__*/_jsx(\"li\",{children:\"All accounts are subject to verification and approval by system administrators\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Student accounts require valid Bugema University student ID\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Staff/Technician/Admin accounts require administrative approval\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isFormDisabled||formProgress<100,className:\"auth-btn \".concat(loading?'loading':''),\"aria-busy\":loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Creating Account...\"]}):'Create Account'}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-note\",children:/*#__PURE__*/_jsx(\"p\",{children:formProgress<100?\"Complete all required fields (\".concat(formProgress,\"%) to enable registration\"):'âœ“ All required fields completed. Ready to register.'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"auth-link\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"link\",\"aria-disabled\":isFormDisabled,children:\"Login here\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-version\",children:[\"IT Support System v\",process.env.REACT_APP_VERSION||'3.1.0',\" \\u2022 Bugema University\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"security-footer\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"security-notice\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Security Notice:\"}),\" Your information is protected with enterprise-grade security measures.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"security-contact\",children:[\"For registration assistance, contact IT Support: \\uD83D\\uDCE7\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"mailto:support@bugemauniv.ac.ug\",children:\"support@bugemauniv.ac.ug\"}),\" \\u2022 \\uD83D\\uDCDE\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"tel:+256784845785\",children:\"+256 784-845-785\"})]})]})]})})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Link","useNavigate","useAuth","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","formData","setFormData","username","email","password","confirmPassword","firstName","lastName","phone","role","department","studentId","campus","yearOfEntry","Date","getFullYear","semester","agreeToTerms","receiveNotifications","employeeId","error","setError","loading","setLoading","validationErrors","setValidationErrors","passwordStrength","setPasswordStrength","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","formProgress","setFormProgress","isSubmitting","setIsSubmitting","suggestedDepartments","setSuggestedDepartments","isPersonalEmail","setIsPersonalEmail","fieldTouched","setFieldTouched","firstNameRef","register","logSecurityEvent","checkUsername","navigate","roleOptions","value","label","description","icon","permissions","requiresApproval","requiresStudentId","requiresEmployeeId","departments","category","professionalValue","universityDomains","studentIdPatterns","campusOptions","getDepartmentValue","departmentValue","find","dept","getDepartmentLabel","errorPath","checkPath","xPath","current","focus","calculateFormProgress","calculatePasswordStrength","filter","includes","validateEmail","trim","emailRegex","test","isUniversityEmail","some","domain","toLowerCase","endsWith","validatePhone","cleanedPhone","replace","startsWith","length","operatorCode","substring","validOperatorCodes","phoneRegex","validateUsername","usernameRegex","reservedUsernames","result","available","console","warn","validateFirstName","nameRegex","validateLastName","validateStudentId","formattedId","toUpperCase","isValidFormat","pattern","year","parseInt","currentYear","segments","split","campusCode","validCampusCodes","validatePassword","validateConfirmPassword","strength","commonPatterns","forEach","Math","max","min","getPasswordStrengthInfo","color","className","requiredFields","student","staff","technician","admin","fields","completed","field","_formData$field","toString","progress","round","handleChange","e","name","type","checked","target","prev","_objectSpread","sanitizedValue","formatPhoneNumber","slice","cleaned","concat","validateField","validateForm","errors","hasError","fieldsToValidate","fieldName","handleSubmit","preventDefault","allFields","touchedFields","isValid","Object","keys","timestamp","toISOString","firstErrorField","errorElement","document","getElementById","querySelector","scrollIntoView","behavior","block","userAgent","navigator","mappedDepartment","fullName","registrationData","undefined","metadata","registrationSource","screenResolution","window","screen","width","height","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","academicInfo","academicStatus","professionalInfo","log","success","_result$data","_result$data$user","userId","data","user","id","state","registrationSuccess","message","userRole","Error","err","_err$response","errorMessage","response","status","code","togglePasswordVisibility","toggleConfirmPasswordVisibility","handleRoleChange","defaultDepartment","newErrors","getCurrentRole","strengthInfo","isFormDisabled","children","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","style","onSubmit","noValidate","htmlFor","autoComplete","onChange","disabled","placeholder","ref","map","option","onClick","marginRight","permission","index","backgroundColor","to","process","env","REACT_APP_VERSION","href"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport Navbar from '../components/Navbar';\r\nimport '../styles/Auth.css';\r\n\r\n/**\r\n * Enterprise Registration Component for Bugema University IT Support System\r\n * \r\n * This component handles user registration with role-based form fields,\r\n * comprehensive validation, and security features.\r\n * \r\n * Features:\r\n * - Role-based registration (student, staff, technician, admin)\r\n * - Real-time form validation and progress tracking\r\n * - Password strength analysis with visual feedback\r\n * - Department mapping based on user role\r\n * - Email domain validation for university emails\r\n * - Student ID validation following Bugema University format\r\n * - Accessibility compliance with ARIA labels\r\n * - Security event logging\r\n * - Responsive design\r\n * \r\n * @version 3.1.0\r\n * @author Bugema University IT Department\r\n */\r\n\r\nconst Register = () => {\r\n  // ====================\r\n  // STATE MANAGEMENT\r\n  // ====================\r\n  \r\n  // Form data state\r\n  const [formData, setFormData] = useState({\r\n    // Authentication credentials\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    \r\n    // Personal information\r\n    firstName: '',\r\n    lastName: '',\r\n    phone: '',\r\n    \r\n    // Role and institutional information\r\n    role: 'student',\r\n      department: 'computer_science',\r\n    \r\n    // Student-specific fields\r\n    studentId: '',\r\n    campus: 'BU',\r\n    yearOfEntry: new Date().getFullYear(),\r\n    semester: '1',\r\n    \r\n    // Agreement and preferences\r\n    agreeToTerms: false,\r\n    receiveNotifications: true,\r\n    \r\n    // Professional information\r\n    employeeId: ''\r\n  });\r\n\r\n  // UI and validation state\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [validationErrors, setValidationErrors] = useState({});\r\n  const [passwordStrength, setPasswordStrength] = useState(0);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [formProgress, setFormProgress] = useState(0);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [suggestedDepartments, setSuggestedDepartments] = useState([]);\r\n  const [isPersonalEmail, setIsPersonalEmail] = useState(false);\r\n  const [fieldTouched, setFieldTouched] = useState({});\r\n\r\n  // Refs and hooks\r\n  const firstNameRef = useRef(null);\r\n  const { register, logSecurityEvent, checkUsername } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // ====================\r\n  // CONSTANTS AND CONFIGURATION\r\n  // ====================\r\n  \r\n  // Available user roles with descriptions and permissions\r\n  const roleOptions = [\r\n    {\r\n      value: 'student',\r\n      label: 'Student',\r\n      description: 'Access academic resources and submit support tickets',\r\n      icon: 'ðŸŽ“',\r\n      permissions: ['create_ticket', 'view_own_tickets', 'access_knowledge_base'],\r\n      requiresApproval: false,\r\n      requiresStudentId: true\r\n    },\r\n    {\r\n      value: 'staff',\r\n      label: 'Staff/Faculty', \r\n      description: 'University staff and teaching faculty members',\r\n      icon: 'ðŸ‘¨â€ðŸ«',\r\n      permissions: ['create_ticket', 'view_department_tickets', 'access_knowledge_base', 'manage_own_assets'],\r\n      requiresApproval: true,\r\n      requiresEmployeeId: false\r\n    },\r\n    {\r\n      value: 'technician',\r\n      label: 'IT Technician',\r\n      description: 'Provide technical support and resolve tickets',\r\n      icon: 'ðŸ‘¨â€ðŸ’»',\r\n      permissions: ['view_all_tickets', 'resolve_tickets', 'manage_assets', 'access_admin_tools'],\r\n      requiresApproval: true,\r\n      requiresEmployeeId: true\r\n    },\r\n    {\r\n      value: 'admin',\r\n      label: 'System Administrator',\r\n      description: 'Full system access and user management',\r\n      icon: 'ðŸ‘¨â€ðŸ’¼',\r\n      permissions: ['all_permissions'],\r\n      requiresApproval: true,\r\n      requiresEmployeeId: true\r\n    }\r\n  ];\r\n\r\n  // Department configuration with role-based mapping\r\n  const departments = [\r\n    // Academic departments (for students - lowercase values)\r\n    { value: 'computer_science', label: 'Computer Science', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'engineering', label: 'Engineering', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'business', label: 'Business School', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'arts_sciences', label: 'Arts & Sciences', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'medicine', label: 'School of Medicine', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'law', label: 'School of Law', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    { value: 'education', label: 'School of Education', category: 'academic', professionalValue: 'ACADEMIC_AFFAIRS' },\r\n    \r\n    // Administrative departments (for staff/technicians/admins - uppercase values)\r\n    { value: 'administration', label: 'Administration', category: 'administrative', professionalValue: 'ADMINISTRATION' },\r\n    { value: 'it_services', label: 'IT Services', category: 'administrative', professionalValue: 'IT_SERVICES' },\r\n    { value: 'facilities', label: 'Facilities Management', category: 'administrative', professionalValue: 'ADMINISTRATION' },\r\n    { value: 'library', label: 'Library Services', category: 'administrative', professionalValue: 'LIBRARY' },\r\n    { value: 'student_services', label: 'Student Services', category: 'administrative', professionalValue: 'STUDENT_AFFAIRS' },\r\n    { value: 'research', label: 'Research Division', category: 'administrative', professionalValue: 'RESEARCH' },\r\n    { value: 'other', label: 'Other Department', category: 'other', professionalValue: 'ADMINISTRATION' }\r\n  ];\r\n\r\n  // Valid university email domains\r\n  const universityDomains = [\r\n    'bugemauniv.ac.ug',\r\n    'students.bugemauniv.ac.ug',\r\n    'staff.bugemauniv.ac.ug',\r\n    'bugema.ac.ug'\r\n  ];\r\n\r\n  // Student ID validation patterns (Bugema University format)\r\n  const studentIdPatterns = [\r\n    /^[0-9]{2}\\/[A-Z]{3}\\/[A-Z]{2}\\/[A-Z]\\/[0-9]{4}$/, // Format: 22/BIT/BU/R/0010\r\n    /^[A-Z0-9\\/\\-_]{6,20}$/, // Alternative format\r\n  ];\r\n\r\n  // Campus options for student accounts\r\n  const campusOptions = [\r\n    { value: 'BU', label: 'Main Campus (Luweero)' },\r\n    { value: 'MA', label: 'Kampala Campus' },\r\n    { value: 'KA', label: 'Kasese Campus' },\r\n    { value: 'AR', label: 'Arua Campus' },\r\n    { value: 'MB', label: 'Mbale Campus' },\r\n    { value: 'OTHER', label: 'Other Campus' }\r\n  ];\r\n\r\n  // ====================\r\n  // HELPER FUNCTIONS\r\n  // ====================\r\n\r\n  /**\r\n   * Maps department value based on user role\r\n   * @param {string} role - User role (student, staff, technician, admin)\r\n   * @param {string} departmentValue - Selected department value\r\n   * @returns {string} Mapped department value\r\n   */\r\n  const getDepartmentValue = (role, departmentValue) => {\r\n    // Students use lowercase academic department values\r\n    if (role === 'student') {\r\n      return departmentValue;\r\n    }\r\n    \r\n    // Staff/technician/admin use uppercase professional department values\r\n    const department = departments.find(dept => dept.value === departmentValue);\r\n    return department ? department.professionalValue : 'ADMINISTRATION';\r\n  };\r\n\r\n  /**\r\n   * Gets display label for department based on current role\r\n   * @param {string} role - User role\r\n   * @param {string} departmentValue - Department value\r\n   * @returns {string} Department display label\r\n   */\r\n  const getDepartmentLabel = (role, departmentValue) => {\r\n    const department = departments.find(dept => dept.value === departmentValue);\r\n    return department ? department.label : 'Select Department';\r\n  };\r\n\r\n  // ====================\r\n  // ICON PATH CONSTANTS\r\n  // ====================\r\n\r\n  const errorPath = \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\";\r\n  const checkPath = \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\";\r\n  const xPath = \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\";\r\n\r\n  // ====================\r\n  // EFFECT HOOKS\r\n  // ====================\r\n\r\n  // Focus first input on component mount\r\n  useEffect(() => {\r\n    if (firstNameRef.current) {\r\n      firstNameRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  // Calculate form completion progress\r\n  useEffect(() => {\r\n    calculateFormProgress();\r\n  }, [formData]);\r\n\r\n  // Calculate password strength when password changes\r\n  useEffect(() => {\r\n    if (formData.password) {\r\n      calculatePasswordStrength(formData.password);\r\n    } else {\r\n      setPasswordStrength(0);\r\n    }\r\n  }, [formData.password]);\r\n\r\n  // Filter departments based on selected role\r\n  useEffect(() => {\r\n    if (formData.role === 'student') {\r\n      setSuggestedDepartments(departments.filter(dept => dept.category === 'academic'));\r\n    } else if (['staff', 'technician', 'admin'].includes(formData.role)) {\r\n      setSuggestedDepartments(departments.filter(dept => dept.category === 'administrative' || dept.category === 'other'));\r\n    } else {\r\n      setSuggestedDepartments(departments);\r\n    }\r\n  }, [formData.role]);\r\n\r\n  // ====================\r\n  // VALIDATION FUNCTIONS\r\n  // ====================\r\n\r\n  /**\r\n   * Validates email format and domain\r\n   * @param {string} email - Email address to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validateEmail = (email) => {\r\n    if (!email.trim()) {\r\n      return 'Email address is required';\r\n    }\r\n\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email.trim())) {\r\n      return 'Please enter a valid email address';\r\n    }\r\n\r\n    // Check if email uses university domain\r\n    const isUniversityEmail = universityDomains.some(domain => \r\n      email.toLowerCase().endsWith(domain.toLowerCase())\r\n    );\r\n\r\n    setIsPersonalEmail(!isUniversityEmail);\r\n\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates phone number format (Uganda-specific validation)\r\n   * @param {string} phone - Phone number to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validatePhone = (phone) => {\r\n    if (!phone.trim()) return null;\r\n    \r\n    const cleanedPhone = phone.replace(/[\\s\\-\\(\\)\\.\\+\\s]/g, '');\r\n    \r\n    // Uganda phone number validation\r\n    if (cleanedPhone.startsWith('256')) {\r\n      if (cleanedPhone.length !== 12) {\r\n        return 'Ugandan phone numbers must be 12 digits with 256 prefix';\r\n      }\r\n      \r\n      const operatorCode = cleanedPhone.substring(3, 6);\r\n      const validOperatorCodes = ['700', '701', '702', '703', '704', '705', '706', '707', '708', '709', \r\n                                 '710', '711', '712', '713', '714', '715', '716', '717', '718', '719',\r\n                                 '720', '721', '722', '723', '724', '725', '726', '727', '728', '729',\r\n                                 '740', '741', '742', '743', '744', '745', '746', '747', '748', '749',\r\n                                 '750', '751', '752', '753', '754', '755', '756', '757', '758', '759',\r\n                                 '770', '771', '772', '773', '774', '775', '776', '777', '778', '779',\r\n                                 '780', '781', '782', '783', '784', '785', '786', '787', '788', '789',\r\n                                 '790', '791', '792', '793', '794', '795', '796', '797', '798', '799'];\r\n      \r\n      if (!validOperatorCodes.includes(operatorCode)) {\r\n        return 'Please enter a valid Uganda phone number';\r\n      }\r\n    }\r\n    \r\n    // General international phone validation\r\n    const phoneRegex = /^[1-9][0-9]{7,14}$/;\r\n    if (!phoneRegex.test(cleanedPhone)) {\r\n      return 'Please enter a valid phone number';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates username format and checks availability\r\n   * @param {string} username - Username to validate\r\n   * @returns {Promise<string|null>} Error message or null if valid\r\n   */\r\n  const validateUsername = async (username) => {\r\n    if (!username.trim()) {\r\n      return 'Username is required';\r\n    }\r\n    \r\n    if (username.length < 3) {\r\n      return 'Username must be at least 3 characters';\r\n    }\r\n    \r\n    if (username.length > 30) {\r\n      return 'Username cannot exceed 30 characters';\r\n    }\r\n    \r\n    const usernameRegex = /^[a-zA-Z0-9_-]+$/;\r\n    if (!usernameRegex.test(username)) {\r\n      return 'Username can only contain letters, numbers, underscores, and hyphens';\r\n    }\r\n    \r\n    const reservedUsernames = ['admin', 'administrator', 'root', 'system', 'support', 'helpdesk'];\r\n    if (reservedUsernames.includes(username.toLowerCase())) {\r\n      return 'This username is reserved';\r\n    }\r\n    \r\n    // Check username availability via API\r\n    try {\r\n      const result = await checkUsername(username);\r\n      if (!result.available) {\r\n        return 'This username is already taken';\r\n      }\r\n    } catch (error) {\r\n      console.warn('Username availability check failed:', error);\r\n      // Continue registration if availability check fails\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates first name format\r\n   * @param {string} firstName - First name to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validateFirstName = (firstName) => {\r\n    if (!firstName.trim()) {\r\n      return 'First name is required';\r\n    }\r\n    \r\n    if (firstName.length < 2) {\r\n      return 'First name must be at least 2 characters';\r\n    }\r\n    \r\n    if (firstName.length > 50) {\r\n      return 'First name cannot exceed 50 characters';\r\n    }\r\n    \r\n    const nameRegex = /^[A-Za-z\\s\\-\\'\\u00C0-\\u024F\\u1E00-\\u1EFF]+$/;\r\n    if (!nameRegex.test(firstName)) {\r\n      return 'First name can only contain letters, spaces, hyphens, and apostrophes';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates last name format\r\n   * @param {string} lastName - Last name to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validateLastName = (lastName) => {\r\n    if (!lastName.trim()) {\r\n      return 'Last name is required';\r\n    }\r\n    \r\n    if (lastName.length < 2) {\r\n      return 'Last name must be at least 2 characters';\r\n    }\r\n    \r\n    if (lastName.length > 50) {\r\n      return 'Last name cannot exceed 50 characters';\r\n    }\r\n    \r\n    const nameRegex = /^[A-Za-z\\s\\-\\'\\u00C0-\\u024F\\u1E00-\\u1EFF]+$/;\r\n    if (!nameRegex.test(lastName)) {\r\n      return 'Last name can only contain letters, spaces, hyphens, and apostrophes';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates student ID format for Bugema University\r\n   * @param {string} studentId - Student ID to validate\r\n   * @param {string} role - User role\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validateStudentId = (studentId, role) => {\r\n    if (role !== 'student') return null;\r\n    \r\n    if (!studentId || !studentId.trim()) {\r\n      return 'Student ID is required for student accounts';\r\n    }\r\n    \r\n    const formattedId = studentId.trim().toUpperCase();\r\n    \r\n    if (formattedId.length < 10 || formattedId.length > 20) {\r\n      return 'Student ID must be 10-20 characters';\r\n    }\r\n    \r\n    const isValidFormat = studentIdPatterns.some(pattern => pattern.test(formattedId));\r\n    \r\n    if (!isValidFormat) {\r\n      return 'Invalid student ID format. Expected: YY/DEPT/CAMPUS/LEVEL/NUMBER (e.g., 24/BIT/BU/R/0010)';\r\n    }\r\n    \r\n    const year = parseInt(formattedId.substring(0, 2));\r\n    const currentYear = new Date().getFullYear() % 100;\r\n    if (year < 20 || year > currentYear + 5) {\r\n      return 'Invalid year in student ID';\r\n    }\r\n    \r\n    const segments = formattedId.split('/');\r\n    if (segments.length >= 3) {\r\n      const campusCode = segments[2];\r\n      const validCampusCodes = ['BU', 'MA', 'KA', 'AR', 'MB'];\r\n      if (!validCampusCodes.includes(campusCode)) {\r\n        return 'Invalid campus code in student ID';\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates password strength requirements\r\n   * @param {string} password - Password to validate\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validatePassword = (password) => {\r\n    if (!password) {\r\n      return 'Password is required';\r\n    }\r\n    \r\n    if (password.length < 8) {\r\n      return 'Password must be at least 8 characters';\r\n    }\r\n    \r\n    if (!/[A-Z]/.test(password)) {\r\n      return 'Password must contain at least one uppercase letter';\r\n    }\r\n    \r\n    if (!/[a-z]/.test(password)) {\r\n      return 'Password must contain at least one lowercase letter';\r\n    }\r\n    \r\n    if (!/[0-9]/.test(password)) {\r\n      return 'Password must contain at least one number';\r\n    }\r\n    \r\n    if (!/[^A-Za-z0-9]/.test(password)) {\r\n      return 'Password must contain at least one special character';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Validates password confirmation\r\n   * @param {string} confirmPassword - Confirmed password\r\n   * @param {string} password - Original password\r\n   * @returns {string|null} Error message or null if valid\r\n   */\r\n  const validateConfirmPassword = (confirmPassword, password) => {\r\n    if (!confirmPassword) {\r\n      return 'Please confirm your password';\r\n    }\r\n    \r\n    if (confirmPassword !== password) {\r\n      return 'Passwords do not match';\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Calculates password strength score (0-100)\r\n   * @param {string} password - Password to analyze\r\n   * @returns {number} Strength score\r\n   */\r\n  const calculatePasswordStrength = (password) => {\r\n    let strength = 0;\r\n    \r\n    // Length contributions\r\n    if (password.length >= 8) strength += 20;\r\n    if (password.length >= 12) strength += 10;\r\n    if (password.length >= 16) strength += 10;\r\n    \r\n    // Character variety contributions\r\n    if (/[A-Z]/.test(password)) strength += 15;\r\n    if (/[a-z]/.test(password)) strength += 15;\r\n    if (/[0-9]/.test(password)) strength += 15;\r\n    if (/[^A-Za-z0-9]/.test(password)) strength += 15;\r\n    \r\n    // Penalties for weak patterns\r\n    if (/(.)\\1{2,}/.test(password)) strength -= 10;\r\n    \r\n    const commonPatterns = ['123', 'abc', 'qwe', 'password', 'admin'];\r\n    commonPatterns.forEach(pattern => {\r\n      if (password.toLowerCase().includes(pattern)) strength -= 10;\r\n    });\r\n    \r\n    strength = Math.max(0, Math.min(100, strength));\r\n    setPasswordStrength(strength);\r\n    \r\n    return strength;\r\n  };\r\n\r\n  /**\r\n   * Gets password strength information for display\r\n   * @returns {Object} Strength label, color, and CSS class\r\n   */\r\n  const getPasswordStrengthInfo = () => {\r\n    if (passwordStrength < 40) return { label: 'Weak', color: '#ef4444', className: 'weak' };\r\n    if (passwordStrength < 70) return { label: 'Fair', color: '#f59e0b', className: 'fair' };\r\n    if (passwordStrength < 90) return { label: 'Good', color: '#10b981', className: 'good' };\r\n    return { label: 'Strong', color: '#059669', className: 'strong' };\r\n  };\r\n\r\n  /**\r\n   * Calculates form completion percentage\r\n   */\r\n  const calculateFormProgress = () => {\r\n    const requiredFields = {\r\n      student: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'role', 'department', 'studentId', 'agreeToTerms'],\r\n      staff: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'role', 'department', 'agreeToTerms'],\r\n      technician: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'role', 'department', 'agreeToTerms'],\r\n      admin: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'role', 'department', 'agreeToTerms']\r\n    };\r\n    \r\n    const fields = requiredFields[formData.role] || requiredFields.student;\r\n    let completed = 0;\r\n    \r\n    fields.forEach(field => {\r\n      if (field === 'agreeToTerms') {\r\n        if (formData[field]) completed++;\r\n      } else if (field === 'confirmPassword') {\r\n        if (formData.password && formData.confirmPassword && formData.password === formData.confirmPassword) completed++;\r\n      } else if (formData[field]?.toString().trim()) {\r\n        completed++;\r\n      }\r\n    });\r\n    \r\n    const progress = Math.round((completed / fields.length) * 100);\r\n    setFormProgress(progress);\r\n  };\r\n\r\n  // ====================\r\n  // FORM HANDLERS\r\n  // ====================\r\n\r\n  /**\r\n   * Handles form input changes with validation\r\n   * @param {Object} e - Change event\r\n   */\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    \r\n    setFieldTouched(prev => ({ ...prev, [name]: true }));\r\n    \r\n    let sanitizedValue = value;\r\n    \r\n    switch (name) {\r\n      case 'username':\r\n        sanitizedValue = value.toLowerCase().replace(/[^a-z0-9_-]/g, '');\r\n        break;\r\n      case 'email':\r\n        sanitizedValue = value.toLowerCase().trim();\r\n        break;\r\n      case 'phone':\r\n        sanitizedValue = formatPhoneNumber(value);\r\n        break;\r\n      case 'studentId':\r\n        sanitizedValue = value.toUpperCase().trim();\r\n        break;\r\n      case 'firstName':\r\n      case 'lastName':\r\n        sanitizedValue = value.trim();\r\n        break;\r\n      case 'yearOfEntry':\r\n        sanitizedValue = value.replace(/\\D/g, '').slice(0, 4);\r\n        break;\r\n      default:\r\n        sanitizedValue = value;\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : sanitizedValue\r\n    }));\r\n    \r\n    if (validationErrors[name]) {\r\n      setValidationErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n    \r\n    if (error) setError('');\r\n  };\r\n\r\n  /**\r\n   * Formats phone number for display as user types\r\n   * @param {string} phone - Raw phone number input\r\n   * @returns {string} Formatted phone number\r\n   */\r\n  const formatPhoneNumber = (phone) => {\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n    \r\n    if (cleaned.startsWith('256')) {\r\n      if (cleaned.length <= 3) return `+${cleaned}`;\r\n      if (cleaned.length <= 6) return `+${cleaned.slice(0, 3)} ${cleaned.slice(3)}`;\r\n      if (cleaned.length <= 9) return `+${cleaned.slice(0, 3)} ${cleaned.slice(3, 6)} ${cleaned.slice(6)}`;\r\n      return `+${cleaned.slice(0, 3)} ${cleaned.slice(3, 6)} ${cleaned.slice(6, 9)} ${cleaned.slice(9, 12)}`;\r\n    }\r\n    \r\n    if (cleaned.length <= 3) return cleaned;\r\n    if (cleaned.length <= 6) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\r\n    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6, 10)}`;\r\n  };\r\n\r\n  /**\r\n   * Validates a single form field\r\n   * @param {string} name - Field name\r\n   * @param {string} value - Field value\r\n   * @returns {Promise<string|null>} Error message or null\r\n   */\r\n  const validateField = async (name, value) => {\r\n    switch (name) {\r\n      case 'username':\r\n        return await validateUsername(value);\r\n      case 'email':\r\n        return validateEmail(value);\r\n      case 'password':\r\n        return validatePassword(value);\r\n      case 'confirmPassword':\r\n        return validateConfirmPassword(value, formData.password);\r\n      case 'firstName':\r\n        return validateFirstName(value);\r\n      case 'lastName':\r\n        return validateLastName(value);\r\n      case 'phone':\r\n        return validatePhone(value);\r\n      case 'studentId':\r\n        return validateStudentId(value, formData.role);\r\n      case 'department':\r\n        return !value ? 'Please select your department' : null;\r\n      case 'agreeToTerms':\r\n        return !value ? 'You must agree to the Terms of Service' : null;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Validates the entire form\r\n   * @returns {Promise<boolean>} True if form is valid\r\n   */\r\n  const validateForm = useCallback(async () => {\r\n    const errors = {};\r\n    let hasError = false;\r\n    \r\n    const requiredFields = {\r\n      student: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'department', 'studentId', 'agreeToTerms'],\r\n      staff: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'department', 'agreeToTerms'],\r\n      technician: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'department', 'agreeToTerms'],\r\n      admin: ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', 'department', 'agreeToTerms']\r\n    };\r\n    \r\n    const fieldsToValidate = requiredFields[formData.role] || requiredFields.student;\r\n    \r\n    for (const fieldName of fieldsToValidate) {\r\n      const error = await validateField(fieldName, formData[fieldName]);\r\n      if (error) {\r\n        errors[fieldName] = error;\r\n        hasError = true;\r\n      }\r\n    }\r\n    \r\n    if (formData.password && passwordStrength < 40) {\r\n      errors.password = 'Please choose a stronger password';\r\n      hasError = true;\r\n    }\r\n    \r\n    setValidationErrors(errors);\r\n    return !hasError;\r\n  }, [formData, passwordStrength]);\r\n\r\n  /**\r\n   * Handles form submission\r\n   * @param {Object} e - Submit event\r\n   */\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    setError('');\r\n    \r\n    const allFields = ['username', 'email', 'password', 'confirmPassword', 'firstName', 'lastName', \r\n                      'department', 'studentId', 'agreeToTerms'];\r\n    const touchedFields = {};\r\n    allFields.forEach(field => touchedFields[field] = true);\r\n    setFieldTouched(touchedFields);\r\n    \r\n    const isValid = await validateForm();\r\n    if (!isValid) {\r\n      setError('Please fix the errors in the form');\r\n      \r\n      logSecurityEvent('registration_validation_failed', {\r\n        email: formData.email,\r\n        role: formData.role,\r\n        errors: Object.keys(validationErrors),\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n      const firstErrorField = Object.keys(validationErrors)[0];\r\n      if (firstErrorField) {\r\n        const errorElement = document.getElementById(`${firstErrorField}-error`) || \r\n                            document.querySelector(`[name=\"${firstErrorField}\"]`);\r\n        if (errorElement) {\r\n          errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n          if (errorElement.focus) errorElement.focus();\r\n        }\r\n      }\r\n      \r\n      return;\r\n    }\r\n    \r\n    if (formProgress < 100) {\r\n      setError('Please complete all required fields');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      logSecurityEvent('registration_attempt', {\r\n        email: formData.email,\r\n        role: formData.role,\r\n        timestamp: new Date().toISOString(),\r\n        userAgent: navigator.userAgent\r\n      });\r\n      \r\n      const mappedDepartment = getDepartmentValue(formData.role, formData.department);\r\n      \r\n      // Combine first and last name for fullName field required by backend\r\n      const fullName = `${formData.firstName.trim()} ${formData.lastName.trim()}`;\r\n      \r\n      // Prepare registration data for API\r\n      const registrationData = {\r\n        username: formData.username.trim(),\r\n        email: formData.email.trim().toLowerCase(),\r\n        password: formData.password,\r\n        role: formData.role,\r\n        firstName: formData.firstName.trim(),\r\n        lastName: formData.lastName.trim(),\r\n        fullName: fullName, // Required by backend validation\r\n        phone: formData.phone ? formData.phone.replace(/\\D/g, '') : undefined,\r\n        department: mappedDepartment, // Root-level department field\r\n        metadata: {\r\n          registrationSource: 'web',\r\n          userAgent: navigator.userAgent,\r\n          screenResolution: `${window.screen.width}x${window.screen.height}`,\r\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone\r\n        }\r\n      };\r\n      \r\n      registrationData.metadata.isPersonalEmail = isPersonalEmail;\r\n      \r\n      // Add role-specific fields\r\n      if (formData.role === 'student') {\r\n        registrationData.studentId = formData.studentId.trim().toUpperCase();\r\n        registrationData.campus = formData.campus;\r\n        registrationData.yearOfEntry = parseInt(formData.yearOfEntry) || new Date().getFullYear();\r\n        registrationData.semester = parseInt(formData.semester) || 1;\r\n        \r\n        // Include academicInfo for backend compatibility\r\n        registrationData.academicInfo = {\r\n          studentId: formData.studentId.trim().toUpperCase(),\r\n          department: formData.department, // Original lowercase for students\r\n          campus: formData.campus,\r\n          yearOfEntry: parseInt(formData.yearOfEntry) || new Date().getFullYear(),\r\n          semester: parseInt(formData.semester) || 1,\r\n          academicStatus: 'active'\r\n        };\r\n      } else {\r\n        if (formData.employeeId) {\r\n          registrationData.employeeId = formData.employeeId.trim().toUpperCase();\r\n        }\r\n        \r\n        // Include professionalInfo for backend compatibility\r\n        registrationData.professionalInfo = {\r\n          department: mappedDepartment // Uppercase for professionals\r\n        };\r\n      }\r\n      \r\n      console.log('ðŸ“¨ Sending registration data:', registrationData);\r\n      \r\n      const result = await register(registrationData);\r\n      \r\n      if (result.success) {\r\n        logSecurityEvent('registration_success', {\r\n          email: formData.email,\r\n          role: formData.role,\r\n          userId: result.data?.user?.id,\r\n          timestamp: new Date().toISOString()\r\n        });\r\n        \r\n        navigate('/login', {\r\n          state: {\r\n            registrationSuccess: true,\r\n            message: 'Account created successfully! Please check your email to verify your account.',\r\n            userRole: formData.role\r\n          }\r\n        });\r\n      } else {\r\n        throw new Error(result.message || 'Registration failed');\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Registration error:', err);\r\n      \r\n      let errorMessage = 'Registration failed. Please try again.';\r\n      \r\n      if (err.response) {\r\n        const { status, data } = err.response;\r\n        \r\n        switch (status) {\r\n          case 400:\r\n            if (data?.code === 'EMAIL_EXISTS') {\r\n              errorMessage = 'An account with this email already exists.';\r\n            } else if (data?.code === 'USERNAME_EXISTS') {\r\n              errorMessage = 'This username is already taken.';\r\n            } else if (data?.code === 'STUDENT_ID_EXISTS') {\r\n              errorMessage = 'This student ID is already registered.';\r\n            } else if (data?.message) {\r\n              errorMessage = data.message;\r\n            } else {\r\n              errorMessage = 'Invalid registration data. Please check your information.';\r\n            }\r\n            break;\r\n          case 409:\r\n            errorMessage = 'An account with this email or username already exists.';\r\n            break;\r\n          case 422:\r\n            errorMessage = data?.message || 'Validation failed. Please check your information.';\r\n            break;\r\n          case 429:\r\n            errorMessage = 'Too many registration attempts. Please try again in 15 minutes.';\r\n            break;\r\n          case 500:\r\n            errorMessage = 'Server error. Please try again later or contact support.';\r\n            break;\r\n          default:\r\n            errorMessage = data?.message || errorMessage;\r\n        }\r\n      } else if (err.code === 'ECONNABORTED') {\r\n        errorMessage = 'Request timeout. Please check your connection and try again.';\r\n      } else if (err.message === 'Network Error') {\r\n        errorMessage = 'Cannot connect to server. Please check your internet connection.';\r\n      } else if (err.message.includes('already exists')) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      setError(errorMessage);\r\n      \r\n      logSecurityEvent('registration_failed', {\r\n        email: formData.email,\r\n        error: err.message,\r\n        status: err.response?.status,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Toggles password visibility\r\n   */\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  /**\r\n   * Toggles confirm password visibility\r\n   */\r\n  const toggleConfirmPasswordVisibility = () => {\r\n    setShowConfirmPassword(!showConfirmPassword);\r\n  };\r\n\r\n  /**\r\n   * Handles role change and resets role-specific fields\r\n   * @param {string} role - New role value\r\n   */\r\n  const handleRoleChange = (role) => {\r\n\r\n     let defaultDepartment = '';\r\n  \r\n  // Set default department based on role\r\n  if (role === 'student') {\r\n    defaultDepartment = 'computer_science'; // Default for students\r\n  } else {\r\n    defaultDepartment = 'administration'; // Default for professionals\r\n  }\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      role,\r\n      \r\n        department: defaultDepartment,\r\n      studentId: role !== 'student' ? '' : prev.studentId,\r\n      employeeId: role !== 'technician' && role !== 'admin' ? '' : prev.employeeId,\r\n      campus: role === 'student' ? prev.campus : 'BU',\r\n      yearOfEntry: role === 'student' ? prev.yearOfEntry : new Date().getFullYear()\r\n    }));\r\n    \r\n    const newErrors = { ...validationErrors };\r\n    delete newErrors.studentId;\r\n    delete newErrors.employeeId;\r\n    delete newErrors.department;\r\n    setValidationErrors(newErrors);\r\n  };\r\n\r\n  /**\r\n   * Gets current role configuration object\r\n   * @returns {Object} Role configuration\r\n   */\r\n  const getCurrentRole = () => {\r\n    return roleOptions.find(role => role.value === formData.role) || roleOptions[0];\r\n  };\r\n\r\n  // ====================\r\n  // RENDER\r\n  // ====================\r\n\r\n  const strengthInfo = getPasswordStrengthInfo();\r\n  const isFormDisabled = loading || isSubmitting;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"auth-container\">\r\n        <div className=\"auth-form\">\r\n          <div className=\"auth-header\">\r\n            <div className=\"auth-logo\">\r\n              <svg className=\"logo-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M12 2L3 7V12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12V7L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                <path d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"none\"/>\r\n                <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              </svg>\r\n              <h2>Bugema University IT Support System</h2>\r\n            </div>\r\n            <p className=\"auth-subtitle\">Create your account to access IT support services</p>\r\n          </div>\r\n\r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\" \r\n              style={{ width: `${formProgress}%` }}\r\n              role=\"progressbar\"\r\n              aria-valuenow={formProgress}\r\n              aria-valuemin=\"0\"\r\n              aria-valuemax=\"100\"\r\n            >\r\n              <span className=\"progress-text\">{formProgress}% Complete</span>\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"error-message\" role=\"alert\">\r\n              <div className=\"error-icon\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d={errorPath}/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"error-content\">\r\n                <p>{error}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"register-form\" noValidate>\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                </svg>\r\n                Personal Information\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\" className=\"form-label\">\r\n                  Username <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.username ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"username\"\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    autoComplete=\"username\"\r\n                    value={formData.username}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Choose a username\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.username ? \"username-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.username}\r\n                  />\r\n                </div>\r\n                {validationErrors.username && (\r\n                  <div id=\"username-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.username}\r\n                  </div>\r\n                )}\r\n                <div className=\"info-note info\">\r\n                  <p>3-30 characters. Use letters, numbers, underscores, and hyphens only.</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\" className=\"form-label\">\r\n                  Email Address <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.email ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    autoComplete=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"your.email@bugema.ac.ug\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.email ? \"email-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.email}\r\n                  />\r\n                </div>\r\n                {validationErrors.email && (\r\n                  <div id=\"email-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.email}\r\n                  </div>\r\n                )}\r\n                <div className={`info-note ${isPersonalEmail ? 'warning' : 'info'}`}>\r\n                  <div className=\"note-content\">\r\n                    {isPersonalEmail ? (\r\n                      <p>\r\n                        <strong>Note:</strong> Using personal email. For official communication, \r\n                        use your university email (<strong>@bugemauniv.ac.ug</strong>).\r\n                      </p>\r\n                    ) : (\r\n                      <p>âœ… Verified Bugema University email address</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"firstName\" className=\"form-label\">\r\n                  First Name <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.firstName ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    ref={firstNameRef}\r\n                    id=\"firstName\"\r\n                    name=\"firstName\"\r\n                    type=\"text\"\r\n                    autoComplete=\"given-name\"\r\n                    value={formData.firstName}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Enter your first name\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.firstName ? \"firstName-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.firstName}\r\n                  />\r\n                </div>\r\n                {validationErrors.firstName && (\r\n                  <div id=\"firstName-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.firstName}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"lastName\" className=\"form-label\">\r\n                  Last Name <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.lastName ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"lastName\"\r\n                    name=\"lastName\"\r\n                    type=\"text\"\r\n                    autoComplete=\"family-name\"\r\n                    value={formData.lastName}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Enter your last name\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.lastName ? \"lastName-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.lastName}\r\n                  />\r\n                </div>\r\n                {validationErrors.lastName && (\r\n                  <div id=\"lastName-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.lastName}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\" className=\"form-label\">\r\n                  Phone Number\r\n                </label>\r\n                <div className={`input-group ${validationErrors.phone ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"phone\"\r\n                    name=\"phone\"\r\n                    type=\"tel\"\r\n                    autoComplete=\"tel\"\r\n                    value={formData.phone}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"+256 XXX XXX XXX\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.phone ? \"phone-error\" : undefined}\r\n                    aria-invalid={!!validationErrors.phone}\r\n                  />\r\n                </div>\r\n                {validationErrors.phone && (\r\n                  <div id=\"phone-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.phone}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n                </svg>\r\n                Account Type\r\n              </h3>\r\n              \r\n              <div className=\"role-selection\">\r\n                {roleOptions.map(option => (\r\n                  <label \r\n                    key={option.value} \r\n                    className={`role-option ${formData.role === option.value ? 'selected' : ''}`}\r\n                    onClick={() => handleRoleChange(option.value)}\r\n                  >\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"role\"\r\n                      value={option.value}\r\n                      checked={formData.role === option.value}\r\n                      onChange={() => handleRoleChange(option.value)}\r\n                      className=\"role-radio\"\r\n                      disabled={isFormDisabled}\r\n                      aria-label={option.label}\r\n                    />\r\n                    <div className=\"role-content\">\r\n                      <span className=\"role-icon\">{option.icon}</span>\r\n                      <div className=\"role-info\">\r\n                        <span className=\"role-label\">{option.label}</span>\r\n                        <span className=\"role-description\">{option.description}</span>\r\n                        {option.requiresApproval && (\r\n                          <span className=\"role-notice\">\r\n                            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\r\n                            </svg>\r\n                            Requires approval\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n              \r\n              <div className=\"role-permissions\">\r\n                <h4>Permissions for {getCurrentRole().label}:</h4>\r\n                <ul>\r\n                  {getCurrentRole().permissions.slice(0, 5).map((permission, index) => (\r\n                    <li key={index}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '16px', height: '16px', marginRight: '8px' }}>\r\n                        <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                      </svg>\r\n                      {permission.replace(/_/g, ' ')}\r\n                    </li>\r\n                  ))}\r\n                  {getCurrentRole().permissions.length > 5 && (\r\n                    <li>...and {getCurrentRole().permissions.length - 5} more permissions</li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z\"/>\r\n                </svg>\r\n                Department & Additional Information\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"department\" className=\"form-label\">\r\n                  Department <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.department ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <select\r\n                    id=\"department\"\r\n                    name=\"department\"\r\n                    value={formData.department}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    className=\"form-select\"\r\n                    aria-describedby={validationErrors.department ? \"department-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.department}\r\n                  >\r\n                    <option value=\"\">Select your department</option>\r\n                    {suggestedDepartments.map(dept => (\r\n                      <option key={dept.value} value={dept.value}>\r\n                        {dept.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                {validationErrors.department && (\r\n                  <div id=\"department-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.department}\r\n                  </div>\r\n                )}\r\n                <div className=\"info-note info\">\r\n                  <p>\r\n                    {formData.role === 'student' \r\n                      ? 'Academic departments are shown for student accounts.' \r\n                      : 'Administrative departments are shown for staff/technician/admin accounts.'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {formData.role === 'student' && (\r\n                <>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"studentId\" className=\"form-label\">\r\n                      Student ID <span className=\"required\">*</span>\r\n                    </label>\r\n                    <div className={`input-group ${validationErrors.studentId ? 'error' : ''}`}>\r\n                      <div className=\"input-icon\">\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"/>\r\n                        </svg>\r\n                      </div>\r\n                      <input\r\n                        id=\"studentId\"\r\n                        name=\"studentId\"\r\n                        type=\"text\"\r\n                        value={formData.studentId}\r\n                        onChange={handleChange}\r\n                        disabled={isFormDisabled}\r\n                        placeholder=\"Format: 24/BIT/BU/R/0010\"\r\n                        className=\"form-input\"\r\n                        aria-describedby={validationErrors.studentId ? \"studentId-error\" : undefined}\r\n                        aria-required={formData.role === 'student'}\r\n                        aria-invalid={!!validationErrors.studentId}\r\n                      />\r\n                    </div>\r\n                    {validationErrors.studentId && (\r\n                      <div id=\"studentId-error\" className=\"error-text\" role=\"alert\">\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                        </svg>\r\n                        {validationErrors.studentId}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"info-note info\">\r\n                      <div className=\"note-content\">\r\n                        <p><strong>Format:</strong> Year/Department/Campus/Level/Number (e.g., 22/BIT/BU/R/0010)</p>\r\n                        <p><strong>Campus codes:</strong> BU (Main), MA (Kampala), KA (Kasese), AR (Arua), MB (Mbale)</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"campus\" className=\"form-label\">\r\n                      Campus\r\n                    </label>\r\n                    <select\r\n                      id=\"campus\"\r\n                      name=\"campus\"\r\n                      value={formData.campus}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-select\"\r\n                    >\r\n                      {campusOptions.map(campus => (\r\n                        <option key={campus.value} value={campus.value}>\r\n                          {campus.label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"yearOfEntry\" className=\"form-label\">\r\n                      Year of Entry\r\n                    </label>\r\n                    <input\r\n                      id=\"yearOfEntry\"\r\n                      name=\"yearOfEntry\"\r\n                      type=\"number\"\r\n                      min=\"2000\"\r\n                      max={new Date().getFullYear() + 1}\r\n                      value={formData.yearOfEntry}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"semester\" className=\"form-label\">\r\n                      Semester\r\n                    </label>\r\n                    <select\r\n                      id=\"semester\"\r\n                      name=\"semester\"\r\n                      value={formData.semester}\r\n                      onChange={handleChange}\r\n                      disabled={isFormDisabled}\r\n                      className=\"form-select\"\r\n                    >\r\n                      <option value=\"1\">Semester 1</option>\r\n                      <option value=\"2\">Semester 2</option>\r\n                      <option value=\"3\">Semester 3</option>\r\n                    </select>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {['technician', 'admin'].includes(formData.role) && (\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"employeeId\" className=\"form-label\">\r\n                    Employee ID (Optional)\r\n                  </label>\r\n                  <input\r\n                    id=\"employeeId\"\r\n                    name=\"employeeId\"\r\n                    type=\"text\"\r\n                    value={formData.employeeId}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"e.g., IT2024001\"\r\n                    className=\"form-input\"\r\n                  />\r\n                  <div className=\"info-note info\">\r\n                    <p>Provide your employee ID for verification purposes.</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {(formData.role === 'technician' || formData.role === 'admin' || formData.role === 'staff') && (\r\n                <div className=\"info-note warning\">\r\n                  <div className=\"note-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"note-content\">\r\n                    <strong>Account Verification Required</strong>\r\n                    <p>Staff, technician, and administrator accounts require verification by system administrators. You will receive an email notification once your account is approved.</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                </svg>\r\n                Security Settings\r\n              </h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\" className=\"form-label\">\r\n                  Password <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.password ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    autoComplete=\"new-password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Create a strong password\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.password ? \"password-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.password}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={togglePasswordVisibility}\r\n                    className=\"password-toggle\"\r\n                    disabled={isFormDisabled}\r\n                    aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n                    aria-controls=\"password\"\r\n                  >\r\n                    {showPassword ? (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"/>\r\n                      </svg>\r\n                    ) : (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                \r\n                {formData.password && (\r\n                  <div className=\"password-strength\">\r\n                    <div className=\"strength-meter\">\r\n                      <div \r\n                        className={`strength-bar ${strengthInfo.className}`}\r\n                        style={{ width: `${passwordStrength}%`, backgroundColor: strengthInfo.color }}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"strength-info\">\r\n                      <span className=\"strength-label\">Strength: {strengthInfo.label}</span>\r\n                      <span className=\"strength-score\">{passwordStrength}%</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {validationErrors.password && (\r\n                  <div id=\"password-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.password}\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"password-requirements\">\r\n                  <p><strong>Password must contain:</strong></p>\r\n                  <ul>\r\n                    <li className={formData.password.length >= 8 ? 'valid' : 'invalid'}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                        {formData.password.length >= 8 ? (\r\n                          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                        ) : (\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n                        )}\r\n                      </svg>\r\n                      At least 8 characters\r\n                    </li>\r\n                    <li className={/[A-Z]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                        {/[A-Z]/.test(formData.password) ? (\r\n                          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                        ) : (\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n                        )}\r\n                      </svg>\r\n                      One uppercase letter\r\n                    </li>\r\n                    <li className={/[a-z]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                        {/[a-z]/.test(formData.password) ? (\r\n                          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                        ) : (\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n                        )}\r\n                      </svg>\r\n                      One lowercase letter\r\n                    </li>\r\n                    <li className={/[0-9]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                        {/[0-9]/.test(formData.password) ? (\r\n                          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                        ) : (\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n                        )}\r\n                      </svg>\r\n                      One number\r\n                    </li>\r\n                    <li className={/[^A-Za-z0-9]/.test(formData.password) ? 'valid' : 'invalid'}>\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '14px', height: '14px', marginRight: '4px' }}>\r\n                        {/[^A-Za-z0-9]/.test(formData.password) ? (\r\n                          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                        ) : (\r\n                          <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n                        )}\r\n                      </svg>\r\n                      One special character\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"confirmPassword\" className=\"form-label\">\r\n                  Confirm Password <span className=\"required\">*</span>\r\n                </label>\r\n                <div className={`input-group ${validationErrors.confirmPassword ? 'error' : ''}`}>\r\n                  <div className=\"input-icon\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/>\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    id=\"confirmPassword\"\r\n                    name=\"confirmPassword\"\r\n                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                    autoComplete=\"new-password\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    placeholder=\"Re-enter your password\"\r\n                    className=\"form-input\"\r\n                    aria-describedby={validationErrors.confirmPassword ? \"confirmPassword-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.confirmPassword}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={toggleConfirmPasswordVisibility}\r\n                    className=\"password-toggle\"\r\n                    disabled={isFormDisabled}\r\n                    aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\r\n                    aria-controls=\"confirmPassword\"\r\n                  >\r\n                    {showConfirmPassword ? (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"/>\r\n                      </svg>\r\n                    ) : (\r\n                      <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {validationErrors.confirmPassword && (\r\n                  <div id=\"confirmPassword-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.confirmPassword}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-section\">\r\n              <h3 className=\"section-title\">\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ width: '20px', height: '20px' }}>\r\n                  <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z\"/>\r\n                </svg>\r\n                Terms and Conditions\r\n              </h3>\r\n              \r\n              <div className=\"form-group checkbox-group\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"agreeToTerms\"\r\n                    checked={formData.agreeToTerms}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    className=\"checkbox-input\"\r\n                    aria-describedby={validationErrors.agreeToTerms ? \"terms-error\" : undefined}\r\n                    aria-required=\"true\"\r\n                    aria-invalid={!!validationErrors.agreeToTerms}\r\n                  />\r\n                  <span className=\"checkbox-custom\"></span>\r\n                  <span className=\"checkbox-text\">\r\n                    I agree to the{' '}\r\n                    <Link to=\"/terms\" target=\"_blank\" className=\"link\">\r\n                      Terms of Service\r\n                    </Link>\r\n                    {' '}and{' '}\r\n                    <Link to=\"/privacy\" target=\"_blank\" className=\"link\">\r\n                      Privacy Policy\r\n                    </Link>\r\n                    <span className=\"required\">*</span>\r\n                  </span>\r\n                </label>\r\n                {validationErrors.agreeToTerms && (\r\n                  <div id=\"terms-error\" className=\"error-text\" role=\"alert\">\r\n                    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n                    </svg>\r\n                    {validationErrors.agreeToTerms}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group checkbox-group\">\r\n                <label className=\"checkbox-label\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"receiveNotifications\"\r\n                    checked={formData.receiveNotifications}\r\n                    onChange={handleChange}\r\n                    disabled={isFormDisabled}\r\n                    className=\"checkbox-input\"\r\n                  />\r\n                  <span className=\"checkbox-custom\"></span>\r\n                  <span className=\"checkbox-text\">\r\n                    I want to receive notifications about system updates, security alerts, and important announcements\r\n                  </span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"info-note\">\r\n                <div className=\"note-content\">\r\n                  <p><strong>Important Information:</strong></p>\r\n                  <ul>\r\n                    <li>You are responsible for maintaining the confidentiality of your account credentials</li>\r\n                    <li>You must provide accurate and truthful information during registration</li>\r\n                    <li>All accounts are subject to verification and approval by system administrators</li>\r\n                    <li>Student accounts require valid Bugema University student ID</li>\r\n                    <li>Staff/Technician/Admin accounts require administrative approval</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-actions\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isFormDisabled || formProgress < 100}\r\n                className={`auth-btn ${loading ? 'loading' : ''}`}\r\n                aria-busy={loading}\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <span className=\"spinner\"></span>\r\n                    Creating Account...\r\n                  </>\r\n                ) : (\r\n                  'Create Account'\r\n                )}\r\n              </button>\r\n              \r\n              <div className=\"progress-note\">\r\n                <p>\r\n                  {formProgress < 100 ? (\r\n                    `Complete all required fields (${formProgress}%) to enable registration`\r\n                  ) : (\r\n                    'âœ“ All required fields completed. Ready to register.'\r\n                  )}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          \r\n          <div className=\"auth-footer\">\r\n            <p className=\"auth-link\">\r\n              Already have an account?{' '}\r\n              <Link \r\n                to=\"/login\" \r\n                className=\"link\"\r\n                aria-disabled={isFormDisabled}\r\n              >\r\n                Login here\r\n              </Link>\r\n            </p>\r\n            <p className=\"auth-version\">\r\n              IT Support System v{process.env.REACT_APP_VERSION || '3.1.0'} â€¢ Bugema University\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"security-footer\">\r\n            <p className=\"security-notice\">\r\n              <strong>Security Notice:</strong> Your information is protected with enterprise-grade security measures.\r\n            </p>\r\n            <p className=\"security-contact\">\r\n              For registration assistance, contact IT Support: ðŸ“§{' '}\r\n              <a href=\"mailto:support@bugemauniv.ac.ug\">support@bugemauniv.ac.ug</a> â€¢ ðŸ“ž{' '}\r\n              <a href=\"tel:+256784845785\">+256 784-845-785</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}