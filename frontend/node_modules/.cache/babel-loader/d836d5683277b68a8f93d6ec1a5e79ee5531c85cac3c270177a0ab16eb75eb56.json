{"ast":null,"code":"import _objectSpread from\"C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/services/authService.js\n/**\r\n * Enterprise Authentication Service\r\n * \r\n * Production-grade authentication service with comprehensive\r\n * security features, monitoring, and enterprise patterns.\r\n * \r\n * Features:\r\n * - JWT token management with refresh tokens\r\n * - Secure HTTP-only cookie handling\r\n * - Comprehensive error handling\r\n * - Security event tracking\r\n * - Rate limiting awareness\r\n * - Audit logging\r\n * - Session management\r\n * - Token refresh automation\r\n * - Offline detection\r\n * - Network retry logic\r\n * - Cache management\r\n * \r\n * @version 4.0.1\r\n * @author Bugema University IT Support System\r\n */import api from'./api';// Constants\nconst TOKEN_REFRESH_THRESHOLD=5*60*1000;// 5 minutes before expiry\nconst MAX_RETRY_ATTEMPTS=3;const RETRY_DELAY=1000;// 1 second\nconst OFFLINE_CHECK_INTERVAL=30000;// 30 seconds\n// Security event tracking\nclass SecurityMonitor{constructor(){this.events=[];this.maxEvents=100;}log(eventType){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const event=_objectSpread(_objectSpread({id:crypto.randomUUID(),timestamp:new Date().toISOString(),type:eventType},data),{},{userAgent:navigator.userAgent,url:window.location.href});// Development logging\nif(process.env.NODE_ENV==='development'){console.group('ðŸ” Security Event');console.log('Type:',eventType);console.log('Data:',data);console.log('Timestamp:',event.timestamp);console.groupEnd();}// Store event\nthis.events.unshift(event);if(this.events.length>this.maxEvents){this.events.pop();}// Persist to localStorage for debugging\nthis.persistEvents();// Send to security monitoring in production\nif(process.env.NODE_ENV==='production'){this.sendToMonitoring(event);}}persistEvents(){try{localStorage.setItem('auth_security_events',JSON.stringify(this.events));}catch(e){// Silently fail if localStorage is not available\n}}sendToMonitoring(event){// Implement with your security monitoring service\n// Example: Sentry, LogRocket, custom API\nconsole.log('[Security Monitor]',event);}getEvents(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;return this.events.slice(0,limit);}clearEvents(){this.events=[];localStorage.removeItem('auth_security_events');}}// Initialize security monitor\nconst securityMonitor=new SecurityMonitor();// Token management\nclass TokenManager{constructor(){this.accessToken=null;this.refreshToken=null;this.tokenExpiry=null;this.isRefreshing=false;this.refreshQueue=[];}async getAccessToken(){// Check if token is expired or about to expire\nif(this.accessToken&&this.tokenExpiry){const timeToExpiry=this.tokenExpiry-Date.now();if(timeToExpiry<TOKEN_REFRESH_THRESHOLD){await this.refreshAccessToken();}}return this.accessToken;}async refreshAccessToken(){if(this.isRefreshing){// Wait for the ongoing refresh to complete\nreturn new Promise((resolve,reject)=>{this.refreshQueue.push({resolve,reject});});}this.isRefreshing=true;try{const response=await api.post('/auth/refresh',{},{withCredentials:true// Important for HTTP-only cookies\n});const{accessToken}=response.data;if(accessToken){this.setTokens(accessToken,this.refreshToken);// Resolve all queued requests\nthis.refreshQueue.forEach(_ref=>{let{resolve}=_ref;return resolve(accessToken);});}return accessToken;}catch(error){// Reject all queued requests\nthis.refreshQueue.forEach(_ref2=>{let{reject}=_ref2;return reject(error);});throw error;}finally{this.isRefreshing=false;this.refreshQueue=[];}}setTokens(accessToken,refreshToken){this.accessToken=accessToken;this.refreshToken=refreshToken;// Calculate token expiry (assuming 15 minutes from now)\nthis.tokenExpiry=Date.now()+15*60*1000;// Store in memory only (cookies are HTTP-only)\nsessionStorage.setItem('token_refresh_time',Date.now().toString());}clearTokens(){this.accessToken=null;this.refreshToken=null;this.tokenExpiry=null;sessionStorage.removeItem('token_refresh_time');}}// Initialize token manager\nconst tokenManager=new TokenManager();// Request interceptor\napi.interceptors.request.use(async config=>{// Skip token for auth endpoints except logout\nif(config.url.includes('/auth/')&&!config.url.includes('/auth/logout')){return config;}// Add access token if available\nconst accessToken=await tokenManager.getAccessToken();if(accessToken){config.headers.Authorization=\"Bearer \".concat(accessToken);}// Add request ID for tracking\nconfig.headers['X-Request-ID']=crypto.randomUUID();// Add timestamp for monitoring\nconfig.metadata={startTime:Date.now(),url:config.url,method:config.method};return config;},error=>{var _error$config;securityMonitor.log('request_interceptor_error',{error:error.message,url:(_error$config=error.config)===null||_error$config===void 0?void 0:_error$config.url});return Promise.reject(error);});// Response interceptor\napi.interceptors.response.use(response=>{var _config$metadata;const{config,data}=response;const duration=Date.now()-(((_config$metadata=config.metadata)===null||_config$metadata===void 0?void 0:_config$metadata.startTime)||Date.now());// Log successful requests\nif(config.url.includes('/auth/')){securityMonitor.log('auth_request_success',{endpoint:config.url,method:config.method,duration:\"\".concat(duration,\"ms\"),status:response.status});}// Handle token in response for login/register\nif(config.url.includes('/auth/login')||config.url.includes('/auth/register')){var _data$data;if((_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.accessToken){tokenManager.setTokens(data.data.accessToken,data.data.refreshToken);}}return response;},async error=>{var _config$url;const{config,response}=error;const originalRequest=config;// Log failed requests\nif(config!==null&&config!==void 0&&(_config$url=config.url)!==null&&_config$url!==void 0&&_config$url.includes('/auth/')){securityMonitor.log('auth_request_failed',{endpoint:config.url,method:config.method,status:response===null||response===void 0?void 0:response.status,error:error.message,retryCount:originalRequest._retryCount||0});}// Handle 401 - Unauthorized (token expired)\nif((response===null||response===void 0?void 0:response.status)===401&&!originalRequest._retry){originalRequest._retry=true;try{// Attempt to refresh token\nawait tokenManager.refreshAccessToken();// Retry the original request\nreturn api(originalRequest);}catch(refreshError){// Refresh failed, clear tokens and redirect to login\ntokenManager.clearTokens();window.location.href='/login?session=expired';return Promise.reject(refreshError);}}// Handle 429 - Rate limited\nif((response===null||response===void 0?void 0:response.status)===429){const retryAfter=response.headers['retry-after']||60;securityMonitor.log('rate_limited',{endpoint:config.url,retryAfter,timestamp:new Date().toISOString()});return new Promise(resolve=>{setTimeout(()=>{resolve(api(originalRequest));},retryAfter*1000);});}// Handle network errors with retry logic\nif(!response&&originalRequest._retryCount<MAX_RETRY_ATTEMPTS){originalRequest._retryCount=(originalRequest._retryCount||0)+1;return new Promise(resolve=>{setTimeout(()=>{resolve(api(originalRequest));},RETRY_DELAY*Math.pow(2,originalRequest._retryCount-1));});}return Promise.reject(error);});// Offline detection\nclass NetworkMonitor{constructor(){this.isOnline=navigator.onLine;this.listeners=[];window.addEventListener('online',()=>this.handleOnline());window.addEventListener('offline',()=>this.handleOffline());// Periodic connectivity check\nsetInterval(()=>this.checkConnectivity(),OFFLINE_CHECK_INTERVAL);}handleOnline(){this.isOnline=true;securityMonitor.log('network_online');this.notifyListeners(true);}handleOffline(){this.isOnline=false;securityMonitor.log('network_offline');this.notifyListeners(false);}checkConnectivity(){// Implement custom connectivity check if needed\nconst wasOnline=this.isOnline;this.isOnline=navigator.onLine;if(wasOnline!==this.isOnline){securityMonitor.log(this.isOnline?'network_restored':'network_lost');this.notifyListeners(this.isOnline);}}addListener(listener){this.listeners.push(listener);}notifyListeners(isOnline){this.listeners.forEach(listener=>listener(isOnline));}isConnected(){return this.isOnline;}}// Initialize network monitor\nconst networkMonitor=new NetworkMonitor();// Main auth service\nconst authService={/**\r\n   * Register new user with comprehensive validation\r\n   * \r\n   * @param {Object} userData - User registration data\r\n   * @returns {Promise<Object>} Registration response\r\n   */register:async userData=>{try{var _userData$firstName,_userData$lastName,_data$user,_data$user2,_data$user3;securityMonitor.log('registration_attempt',{email:userData.email,role:userData.role,hasStudentId:!!userData.studentId});console.log('ðŸ” Received registration data:',userData);// Validate required fields\nconst requiredFields=['username','email','password','role'];const missingFields=requiredFields.filter(field=>!userData[field]);if(missingFields.length>0){throw new Error(\"Missing required fields: \".concat(missingFields.join(', ')));}// Prepare registration data\nconst registrationData={username:userData.username.trim(),email:userData.email.toLowerCase().trim(),password:userData.password,role:userData.role,firstName:(_userData$firstName=userData.firstName)===null||_userData$firstName===void 0?void 0:_userData$firstName.trim(),lastName:(_userData$lastName=userData.lastName)===null||_userData$lastName===void 0?void 0:_userData$lastName.trim(),phone:userData.phone,metadata:{registrationSource:'web',userAgent:navigator.userAgent,screenResolution:\"\".concat(window.screen.width,\"x\").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,isPersonalEmail:userData.isPersonalEmail||false}};// Add role-specific fields with proper department mapping\nif(userData.role==='student'){// For students - use academicInfo with lowercase department\nif(userData.department){var _userData$studentId;registrationData.academicInfo={studentId:(_userData$studentId=userData.studentId)===null||_userData$studentId===void 0?void 0:_userData$studentId.trim().toUpperCase(),department:userData.department.trim(),// lowercase for academicInfo.department\ncampus:userData.campus||'BU',yearOfEntry:userData.yearOfEntry||new Date().getFullYear(),semester:userData.semester||1,academicStatus:'active'};}else{throw new Error('Department is required for student accounts');}}else{// For staff, technician, admin - use professionalInfo with UPPERCASE department\nif(userData.department){// Convert department to UPPERCASE for professional roles\nconst professionalDepartment=userData.department.toUpperCase();registrationData.professionalInfo={department:professionalDepartment,// UPPERCASE for professionalInfo.department\nemploymentType:'FULL_TIME'};// Add employee ID if provided\nif(userData.employeeId){registrationData.professionalInfo.employeeId=userData.employeeId.trim().toUpperCase();}}else{throw new Error('Department is required for staff/technician/admin accounts');}}// Add student-specific fields at root level if they exist\nif(userData.studentId&&userData.role==='student'){registrationData.studentId=userData.studentId.trim().toUpperCase();}console.log('ðŸ” Final registration payload:',JSON.stringify(registrationData,null,2));const response=await api.post('/auth/register',registrationData);console.log('ðŸ” Registration response:',response.data);if(!response.data.success){console.error('âŒ Backend returned success: false',response.data);throw new Error(response.data.message||'Registration failed');}const{data}=response.data;securityMonitor.log('registration_success',{userId:(_data$user=data.user)===null||_data$user===void 0?void 0:_data$user.id,email:(_data$user2=data.user)===null||_data$user2===void 0?void 0:_data$user2.email,role:(_data$user3=data.user)===null||_data$user3===void 0?void 0:_data$user3.role,requiresEmailVerification:data.requiresEmailVerification});return{success:true,message:response.data.message,data:{user:data.user,accessToken:data.accessToken,requiresEmailVerification:data.requiresEmailVerification}};}catch(error){var _error$response,_error$response2,_error$response3,_error$response4,_error$response5;console.error('ðŸ”¥ REGISTRATION API ERROR DETAILS:');console.error('ðŸ”¥ Error:',error.message);console.error('ðŸ”¥ Error response:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);console.error('ðŸ”¥ Error status:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status);securityMonitor.log('registration_failed',{email:userData===null||userData===void 0?void 0:userData.email,role:userData===null||userData===void 0?void 0:userData.role,error:error.message,response:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data,status:(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status});let errorMessage='Registration failed. Please try again.';if((_error$response5=error.response)!==null&&_error$response5!==void 0&&_error$response5.data){const{message,code,errors}=error.response.data;console.error('ðŸ”¥ Backend error details:',{message,code,errors});if(code==='EMAIL_EXISTS'){errorMessage='An account with this email already exists.';}else if(code==='USERNAME_EXISTS'){errorMessage='This username is already taken.';}else if(code==='STUDENT_ID_EXISTS'){errorMessage='This student ID is already registered.';}else if(code==='EMPLOYEE_ID_EXISTS'){errorMessage='This employee ID is already registered.';}else if(code==='VALIDATION_ERROR'){// Handle Mongoose validation errors\nif(errors!==null&&errors!==void 0&&errors.length){errorMessage=errors.map(e=>e.message||e.msg).join('. ');}else if(message){errorMessage=message;}}else if(message){errorMessage=message;}}else if(error.message.includes('Network Error')){errorMessage='Cannot connect to server. Please check your internet connection.';}else if(error.request){console.error('ðŸ”¥ No response received:',error.request);errorMessage='No response from server. Please try again.';}throw new Error(errorMessage);}},/**\r\n   * User login with credentials\r\n   * \r\n   * @param {string} email - User email\r\n   * @param {string} password - User password\r\n   * @param {boolean} rememberMe - Remember login\r\n   * @returns {Promise<Object>} Authentication response\r\n   */login:async function(email,password){let rememberMe=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;try{var _data$user4,_data$user5,_data$user6;securityMonitor.log('login_attempt',{email,rememberMe});if(!email||!password){throw new Error('Email and password are required');}const response=await api.post('/auth/login',{email:email.toLowerCase().trim(),password:password.trim(),rememberMe});if(!response.data.success){throw new Error(response.data.message||'Login failed');}const{data}=response.data;securityMonitor.log('login_success',{userId:(_data$user4=data.user)===null||_data$user4===void 0?void 0:_data$user4.id,email:(_data$user5=data.user)===null||_data$user5===void 0?void 0:_data$user5.email,role:(_data$user6=data.user)===null||_data$user6===void 0?void 0:_data$user6.role,requiresEmailVerification:data.requiresEmailVerification});return{success:true,message:response.data.message,data:{user:data.user,accessToken:data.accessToken,refreshToken:data.refreshToken,requiresEmailVerification:data.requiresEmailVerification}};}catch(error){var _error$response6,_error$response7,_error$response7$data,_error$response8;securityMonitor.log('login_failed',{email,error:error.message,status:(_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status,code:(_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.code});let errorMessage='Login failed. Please check your credentials.';if((_error$response8=error.response)!==null&&_error$response8!==void 0&&_error$response8.data){const{message,code,attemptsLeft,locked}=error.response.data;if(code==='ACCOUNT_LOCKED'){errorMessage=\"Account is locked. Try again in \".concat(error.response.data.lockDuration,\" minutes.\");}else if(code==='ACCOUNT_INACTIVE'){errorMessage='Account is deactivated. Please contact support.';}else if(code==='INVALID_CREDENTIALS'){if(attemptsLeft>0){errorMessage=\"Invalid credentials. \".concat(attemptsLeft,\" attempts remaining.\");}else if(locked){errorMessage='Account locked due to too many failed attempts.';}}else if(message){errorMessage=message;}}else if(error.message.includes('Network Error')){errorMessage='Cannot connect to server. Please check your internet connection.';}throw new Error(errorMessage);}},/**\r\n   * Logout user and clear tokens\r\n   * \r\n   * @returns {Promise<Object>} Logout response\r\n   */logout:async()=>{try{securityMonitor.log('logout_attempt');await api.post('/auth/logout',{},{withCredentials:true});// Clear local tokens\ntokenManager.clearTokens();// Clear any stored user data\nsessionStorage.clear();localStorage.removeItem('user_data');securityMonitor.log('logout_success');return{success:true,message:'Logged out successfully'};}catch(error){securityMonitor.log('logout_failed',{error:error.message});// Still clear tokens even if API call fails\ntokenManager.clearTokens();sessionStorage.clear();localStorage.removeItem('user_data');return{success:true,message:'Logged out locally'};}},/**\r\n   * Get current authenticated user\r\n   * \r\n   * @returns {Promise<Object>} Current user data\r\n   */getCurrentUser:async()=>{try{const response=await api.get('/auth/me',{withCredentials:true});if(!response.data.success){throw new Error(response.data.message||'Failed to get user data');}return{success:true,data:response.data.data.user};}catch(error){var _error$response9;securityMonitor.log('get_current_user_failed',{error:error.message});if(((_error$response9=error.response)===null||_error$response9===void 0?void 0:_error$response9.status)===401){tokenManager.clearTokens();throw new Error('Session expired. Please login again.');}throw new Error('Failed to get user data');}},/**\r\n   * Update user profile\r\n   * \r\n   * @param {Object} updates - Profile updates\r\n   * @returns {Promise<Object>} Updated user data\r\n   */updateProfile:async updates=>{try{securityMonitor.log('profile_update_attempt',{fields:Object.keys(updates)});const response=await api.put('/auth/me',updates,{withCredentials:true});if(!response.data.success){throw new Error(response.data.message||'Update failed');}securityMonitor.log('profile_update_success',{fields:Object.keys(updates)});return{success:true,message:response.data.message,data:response.data.data.user};}catch(error){var _error$response0,_error$response0$data,_error$response0$data2;securityMonitor.log('profile_update_failed',{error:error.message,fields:Object.keys(updates)});let errorMessage='Failed to update profile.';if((_error$response0=error.response)!==null&&_error$response0!==void 0&&(_error$response0$data=_error$response0.data)!==null&&_error$response0$data!==void 0&&(_error$response0$data2=_error$response0$data.errors)!==null&&_error$response0$data2!==void 0&&_error$response0$data2.length){errorMessage=error.response.data.errors.map(e=>e.message).join('. ');}throw new Error(errorMessage);}},/**\r\n   * Change password for authenticated user\r\n   * \r\n   * @param {string} currentPassword - Current password\r\n   * @param {string} newPassword - New password\r\n   * @returns {Promise<Object>} Success response\r\n   */changePassword:async(currentPassword,newPassword)=>{try{securityMonitor.log('password_change_attempt');// Validate password strength\nif(newPassword.length<8){throw new Error('Password must be at least 8 characters');}const response=await api.post('/auth/change-password',{currentPassword:currentPassword.trim(),newPassword:newPassword.trim()},{withCredentials:true});if(!response.data.success){throw new Error(response.data.message||'Password change failed');}securityMonitor.log('password_change_success');return{success:true,message:response.data.message};}catch(error){var _error$response1,_error$response1$data;securityMonitor.log('password_change_failed',{error:error.message});throw new Error(((_error$response1=error.response)===null||_error$response1===void 0?void 0:(_error$response1$data=_error$response1.data)===null||_error$response1$data===void 0?void 0:_error$response1$data.message)||'Failed to change password');}},/**\r\n   * Request password reset\r\n   * \r\n   * @param {string} email - User email\r\n   * @returns {Promise<Object>} Success response\r\n   */forgotPassword:async email=>{try{securityMonitor.log('password_reset_request',{email});const response=await api.post('/auth/forgot-password',{email:email.toLowerCase().trim()});if(!response.data.success){throw new Error(response.data.message||'Request failed');}securityMonitor.log('password_reset_request_success',{email});return{success:true,message:response.data.message};}catch(error){securityMonitor.log('password_reset_request_failed',{email,error:error.message});// Always return success for security (don't reveal if email exists)\nreturn{success:true,message:'If an account exists with this email, you will receive reset instructions.'};}},/**\r\n   * Reset password with token\r\n   * \r\n   * @param {string} token - Reset token\r\n   * @param {string} userId - User ID\r\n   * @param {string} newPassword - New password\r\n   * @returns {Promise<Object>} Success response\r\n   */resetPassword:async(token,userId,newPassword)=>{try{securityMonitor.log('password_reset_attempt',{token:token.substring(0,10)+'...',userId});if(newPassword.length<8){throw new Error('Password must be at least 8 characters');}const response=await api.post('/auth/reset-password',{token:token.trim(),userId:userId.trim(),password:newPassword.trim()});if(!response.data.success){throw new Error(response.data.message||'Password reset failed');}securityMonitor.log('password_reset_success',{userId});return{success:true,message:response.data.message};}catch(error){var _error$response10,_error$response10$dat;securityMonitor.log('password_reset_failed',{userId,error:error.message});throw new Error(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.message)||'Failed to reset password');}},/**\r\n   * Verify email with token\r\n   *\r\n   * @param {string} token - Verification token\r\n   * @returns {Promise<Object>} Success response\r\n   */verifyEmail:async token=>{try{securityMonitor.log('email_verification_attempt',{token:token.substring(0,10)+'...'});const response=await api.get(\"/auth/verify-email/\".concat(token.trim()));if(!response.data.success){throw new Error(response.data.message||'Verification failed');}securityMonitor.log('email_verification_success');return{success:true,message:response.data.message};}catch(error){var _error$response11,_error$response11$dat;securityMonitor.log('email_verification_failed',{error:error.message});throw new Error(((_error$response11=error.response)===null||_error$response11===void 0?void 0:(_error$response11$dat=_error$response11.data)===null||_error$response11$dat===void 0?void 0:_error$response11$dat.message)||'Failed to verify email');}},/**\r\n   * Resend verification email\r\n   * \r\n   * @returns {Promise<Object>} Success response\r\n   */resendVerification:async()=>{try{securityMonitor.log('verification_resend_attempt');const response=await api.post('/auth/resend-verification',{},{withCredentials:true});if(!response.data.success){throw new Error(response.data.message||'Failed to resend verification');}securityMonitor.log('verification_resend_success');return{success:true,message:response.data.message};}catch(error){var _error$response12,_error$response12$dat;securityMonitor.log('verification_resend_failed',{error:error.message});throw new Error(((_error$response12=error.response)===null||_error$response12===void 0?void 0:(_error$response12$dat=_error$response12.data)===null||_error$response12$dat===void 0?void 0:_error$response12$dat.message)||'Failed to resend verification');}},/**\r\n   * Check if email is available\r\n   * \r\n   * @param {string} email - Email to check\r\n   * @returns {Promise<Object>} Availability result\r\n   */checkEmail:async email=>{try{const response=await api.post('/auth/check-email',{email:email.toLowerCase().trim()});return{success:true,data:response.data.data};}catch(error){securityMonitor.log('check_email_failed',{email,error:error.message});throw new Error('Failed to check email availability');}},/**\r\n   * Check if username is available\r\n   * \r\n   * @param {string} username - Username to check\r\n   * @returns {Promise<Object>} Availability result\r\n   */checkUsername:async username=>{try{const response=await api.post('/auth/check-username',{username:username.trim()});return{success:true,data:response.data.data};}catch(error){securityMonitor.log('check_username_failed',{username,error:error.message});throw new Error('Failed to check username availability');}},/**\r\n   * Get authentication statistics (admin only)\r\n   * \r\n   * @returns {Promise<Object>} Authentication statistics\r\n   */getAuthStats:async()=>{try{const response=await api.get('/auth/stats',{withCredentials:true});if(!response.data.success){throw new Error(response.data.message||'Failed to get stats');}return{success:true,data:response.data.data};}catch(error){securityMonitor.log('get_auth_stats_failed',{error:error.message});throw new Error('Failed to get authentication statistics');}},/**\r\n   * Get security events (for debugging/admin)\r\n   * \r\n   * @param {number} limit - Maximum number of events\r\n   * @returns {Array} Security events\r\n   */getSecurityEvents:function(){let limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:50;return securityMonitor.getEvents(limit);},/**\r\n   * Clear security events\r\n   */clearSecurityEvents:()=>{securityMonitor.clearEvents();},/**\r\n   * Check if user is authenticated\r\n   * \r\n   * @returns {Promise<boolean>} Authentication status\r\n   */isAuthenticated:async()=>{try{await this.getCurrentUser();return true;}catch(error){return false;}},/**\r\n   * Check network connectivity\r\n   * \r\n   * @returns {boolean} Network status\r\n   */isOnline:()=>{return networkMonitor.isConnected();},/**\r\n   * Add network status listener\r\n   * \r\n   * @param {Function} listener - Listener function\r\n   */onNetworkChange:listener=>{networkMonitor.addListener(listener);}};export default authService;","map":{"version":3,"names":["api","TOKEN_REFRESH_THRESHOLD","MAX_RETRY_ATTEMPTS","RETRY_DELAY","OFFLINE_CHECK_INTERVAL","SecurityMonitor","constructor","events","maxEvents","log","eventType","data","arguments","length","undefined","event","_objectSpread","id","crypto","randomUUID","timestamp","Date","toISOString","type","userAgent","navigator","url","window","location","href","process","env","NODE_ENV","console","group","groupEnd","unshift","pop","persistEvents","sendToMonitoring","localStorage","setItem","JSON","stringify","e","getEvents","limit","slice","clearEvents","removeItem","securityMonitor","TokenManager","accessToken","refreshToken","tokenExpiry","isRefreshing","refreshQueue","getAccessToken","timeToExpiry","now","refreshAccessToken","Promise","resolve","reject","push","response","post","withCredentials","setTokens","forEach","_ref","error","_ref2","sessionStorage","toString","clearTokens","tokenManager","interceptors","request","use","config","includes","headers","Authorization","concat","metadata","startTime","method","_error$config","message","_config$metadata","duration","endpoint","status","_data$data","_config$url","originalRequest","retryCount","_retryCount","_retry","refreshError","retryAfter","setTimeout","Math","pow","NetworkMonitor","isOnline","onLine","listeners","addEventListener","handleOnline","handleOffline","setInterval","checkConnectivity","notifyListeners","wasOnline","addListener","listener","isConnected","networkMonitor","authService","register","userData","_userData$firstName","_userData$lastName","_data$user","_data$user2","_data$user3","email","role","hasStudentId","studentId","requiredFields","missingFields","filter","field","Error","join","registrationData","username","trim","toLowerCase","password","firstName","lastName","phone","registrationSource","screenResolution","screen","width","height","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","isPersonalEmail","department","_userData$studentId","academicInfo","toUpperCase","campus","yearOfEntry","getFullYear","semester","academicStatus","professionalDepartment","professionalInfo","employmentType","employeeId","success","userId","user","requiresEmailVerification","_error$response","_error$response2","_error$response3","_error$response4","_error$response5","errorMessage","code","errors","map","msg","login","rememberMe","_data$user4","_data$user5","_data$user6","_error$response6","_error$response7","_error$response7$data","_error$response8","attemptsLeft","locked","lockDuration","logout","clear","getCurrentUser","get","_error$response9","updateProfile","updates","fields","Object","keys","put","_error$response0","_error$response0$data","_error$response0$data2","changePassword","currentPassword","newPassword","_error$response1","_error$response1$data","forgotPassword","resetPassword","token","substring","_error$response10","_error$response10$dat","verifyEmail","_error$response11","_error$response11$dat","resendVerification","_error$response12","_error$response12$dat","checkEmail","checkUsername","getAuthStats","getSecurityEvents","clearSecurityEvents","isAuthenticated","onNetworkChange"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/services/authService.js"],"sourcesContent":["// frontend/src/services/authService.js\r\n/**\r\n * Enterprise Authentication Service\r\n * \r\n * Production-grade authentication service with comprehensive\r\n * security features, monitoring, and enterprise patterns.\r\n * \r\n * Features:\r\n * - JWT token management with refresh tokens\r\n * - Secure HTTP-only cookie handling\r\n * - Comprehensive error handling\r\n * - Security event tracking\r\n * - Rate limiting awareness\r\n * - Audit logging\r\n * - Session management\r\n * - Token refresh automation\r\n * - Offline detection\r\n * - Network retry logic\r\n * - Cache management\r\n * \r\n * @version 4.0.1\r\n * @author Bugema University IT Support System\r\n */\r\n\r\nimport api from './api';\r\n\r\n// Constants\r\nconst TOKEN_REFRESH_THRESHOLD = 5 * 60 * 1000; // 5 minutes before expiry\r\nconst MAX_RETRY_ATTEMPTS = 3;\r\nconst RETRY_DELAY = 1000; // 1 second\r\nconst OFFLINE_CHECK_INTERVAL = 30000; // 30 seconds\r\n\r\n// Security event tracking\r\nclass SecurityMonitor {\r\n  constructor() {\r\n    this.events = [];\r\n    this.maxEvents = 100;\r\n  }\r\n\r\n  log(eventType, data = {}) {\r\n    const event = {\r\n      id: crypto.randomUUID(),\r\n      timestamp: new Date().toISOString(),\r\n      type: eventType,\r\n      ...data,\r\n      userAgent: navigator.userAgent,\r\n      url: window.location.href\r\n    };\r\n\r\n    // Development logging\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.group('ðŸ” Security Event');\r\n      console.log('Type:', eventType);\r\n      console.log('Data:', data);\r\n      console.log('Timestamp:', event.timestamp);\r\n      console.groupEnd();\r\n    }\r\n\r\n    // Store event\r\n    this.events.unshift(event);\r\n    if (this.events.length > this.maxEvents) {\r\n      this.events.pop();\r\n    }\r\n\r\n    // Persist to localStorage for debugging\r\n    this.persistEvents();\r\n\r\n    // Send to security monitoring in production\r\n    if (process.env.NODE_ENV === 'production') {\r\n      this.sendToMonitoring(event);\r\n    }\r\n  }\r\n\r\n  persistEvents() {\r\n    try {\r\n      localStorage.setItem('auth_security_events', JSON.stringify(this.events));\r\n    } catch (e) {\r\n      // Silently fail if localStorage is not available\r\n    }\r\n  }\r\n\r\n  sendToMonitoring(event) {\r\n    // Implement with your security monitoring service\r\n    // Example: Sentry, LogRocket, custom API\r\n    console.log('[Security Monitor]', event);\r\n  }\r\n\r\n  getEvents(limit = 50) {\r\n    return this.events.slice(0, limit);\r\n  }\r\n\r\n  clearEvents() {\r\n    this.events = [];\r\n    localStorage.removeItem('auth_security_events');\r\n  }\r\n}\r\n\r\n// Initialize security monitor\r\nconst securityMonitor = new SecurityMonitor();\r\n\r\n// Token management\r\nclass TokenManager {\r\n  constructor() {\r\n    this.accessToken = null;\r\n    this.refreshToken = null;\r\n    this.tokenExpiry = null;\r\n    this.isRefreshing = false;\r\n    this.refreshQueue = [];\r\n  }\r\n\r\n  async getAccessToken() {\r\n    // Check if token is expired or about to expire\r\n    if (this.accessToken && this.tokenExpiry) {\r\n      const timeToExpiry = this.tokenExpiry - Date.now();\r\n      \r\n      if (timeToExpiry < TOKEN_REFRESH_THRESHOLD) {\r\n        await this.refreshAccessToken();\r\n      }\r\n    }\r\n    \r\n    return this.accessToken;\r\n  }\r\n\r\n  async refreshAccessToken() {\r\n    if (this.isRefreshing) {\r\n      // Wait for the ongoing refresh to complete\r\n      return new Promise((resolve, reject) => {\r\n        this.refreshQueue.push({ resolve, reject });\r\n      });\r\n    }\r\n\r\n    this.isRefreshing = true;\r\n\r\n    try {\r\n      const response = await api.post('/auth/refresh', {}, {\r\n        withCredentials: true // Important for HTTP-only cookies\r\n      });\r\n\r\n      const { accessToken } = response.data;\r\n      \r\n      if (accessToken) {\r\n        this.setTokens(accessToken, this.refreshToken);\r\n        \r\n        // Resolve all queued requests\r\n        this.refreshQueue.forEach(({ resolve }) => resolve(accessToken));\r\n      }\r\n      \r\n      return accessToken;\r\n    } catch (error) {\r\n      // Reject all queued requests\r\n      this.refreshQueue.forEach(({ reject }) => reject(error));\r\n      throw error;\r\n    } finally {\r\n      this.isRefreshing = false;\r\n      this.refreshQueue = [];\r\n    }\r\n  }\r\n\r\n  setTokens(accessToken, refreshToken) {\r\n    this.accessToken = accessToken;\r\n    this.refreshToken = refreshToken;\r\n    \r\n    // Calculate token expiry (assuming 15 minutes from now)\r\n    this.tokenExpiry = Date.now() + 15 * 60 * 1000;\r\n    \r\n    // Store in memory only (cookies are HTTP-only)\r\n    sessionStorage.setItem('token_refresh_time', Date.now().toString());\r\n  }\r\n\r\n  clearTokens() {\r\n    this.accessToken = null;\r\n    this.refreshToken = null;\r\n    this.tokenExpiry = null;\r\n    sessionStorage.removeItem('token_refresh_time');\r\n  }\r\n}\r\n\r\n// Initialize token manager\r\nconst tokenManager = new TokenManager();\r\n\r\n// Request interceptor\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    // Skip token for auth endpoints except logout\r\n    if (config.url.includes('/auth/') && !config.url.includes('/auth/logout')) {\r\n      return config;\r\n    }\r\n\r\n    // Add access token if available\r\n    const accessToken = await tokenManager.getAccessToken();\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n\r\n    // Add request ID for tracking\r\n    config.headers['X-Request-ID'] = crypto.randomUUID();\r\n    \r\n    // Add timestamp for monitoring\r\n    config.metadata = { \r\n      startTime: Date.now(),\r\n      url: config.url,\r\n      method: config.method \r\n    };\r\n\r\n    return config;\r\n  },\r\n  (error) => {\r\n    securityMonitor.log('request_interceptor_error', {\r\n      error: error.message,\r\n      url: error.config?.url\r\n    });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    const { config, data } = response;\r\n    const duration = Date.now() - (config.metadata?.startTime || Date.now());\r\n\r\n    // Log successful requests\r\n    if (config.url.includes('/auth/')) {\r\n      securityMonitor.log('auth_request_success', {\r\n        endpoint: config.url,\r\n        method: config.method,\r\n        duration: `${duration}ms`,\r\n        status: response.status\r\n      });\r\n    }\r\n\r\n    // Handle token in response for login/register\r\n    if (config.url.includes('/auth/login') || config.url.includes('/auth/register')) {\r\n      if (data.data?.accessToken) {\r\n        tokenManager.setTokens(data.data.accessToken, data.data.refreshToken);\r\n      }\r\n    }\r\n\r\n    return response;\r\n  },\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    const originalRequest = config;\r\n\r\n    // Log failed requests\r\n    if (config?.url?.includes('/auth/')) {\r\n      securityMonitor.log('auth_request_failed', {\r\n        endpoint: config.url,\r\n        method: config.method,\r\n        status: response?.status,\r\n        error: error.message,\r\n        retryCount: originalRequest._retryCount || 0\r\n      });\r\n    }\r\n\r\n    // Handle 401 - Unauthorized (token expired)\r\n    if (response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      \r\n      try {\r\n        // Attempt to refresh token\r\n        await tokenManager.refreshAccessToken();\r\n        \r\n        // Retry the original request\r\n        return api(originalRequest);\r\n      } catch (refreshError) {\r\n        // Refresh failed, clear tokens and redirect to login\r\n        tokenManager.clearTokens();\r\n        window.location.href = '/login?session=expired';\r\n        return Promise.reject(refreshError);\r\n      }\r\n    }\r\n\r\n    // Handle 429 - Rate limited\r\n    if (response?.status === 429) {\r\n      const retryAfter = response.headers['retry-after'] || 60;\r\n      securityMonitor.log('rate_limited', {\r\n        endpoint: config.url,\r\n        retryAfter,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n\r\n      return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          resolve(api(originalRequest));\r\n        }, retryAfter * 1000);\r\n      });\r\n    }\r\n\r\n    // Handle network errors with retry logic\r\n    if (!response && originalRequest._retryCount < MAX_RETRY_ATTEMPTS) {\r\n      originalRequest._retryCount = (originalRequest._retryCount || 0) + 1;\r\n      \r\n      return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          resolve(api(originalRequest));\r\n        }, RETRY_DELAY * Math.pow(2, originalRequest._retryCount - 1));\r\n      });\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Offline detection\r\nclass NetworkMonitor {\r\n  constructor() {\r\n    this.isOnline = navigator.onLine;\r\n    this.listeners = [];\r\n    \r\n    window.addEventListener('online', () => this.handleOnline());\r\n    window.addEventListener('offline', () => this.handleOffline());\r\n    \r\n    // Periodic connectivity check\r\n    setInterval(() => this.checkConnectivity(), OFFLINE_CHECK_INTERVAL);\r\n  }\r\n\r\n  handleOnline() {\r\n    this.isOnline = true;\r\n    securityMonitor.log('network_online');\r\n    this.notifyListeners(true);\r\n  }\r\n\r\n  handleOffline() {\r\n    this.isOnline = false;\r\n    securityMonitor.log('network_offline');\r\n    this.notifyListeners(false);\r\n  }\r\n\r\n  checkConnectivity() {\r\n    // Implement custom connectivity check if needed\r\n    const wasOnline = this.isOnline;\r\n    this.isOnline = navigator.onLine;\r\n    \r\n    if (wasOnline !== this.isOnline) {\r\n      securityMonitor.log(this.isOnline ? 'network_restored' : 'network_lost');\r\n      this.notifyListeners(this.isOnline);\r\n    }\r\n  }\r\n\r\n  addListener(listener) {\r\n    this.listeners.push(listener);\r\n  }\r\n\r\n  notifyListeners(isOnline) {\r\n    this.listeners.forEach(listener => listener(isOnline));\r\n  }\r\n\r\n  isConnected() {\r\n    return this.isOnline;\r\n  }\r\n}\r\n\r\n// Initialize network monitor\r\nconst networkMonitor = new NetworkMonitor();\r\n\r\n// Main auth service\r\nconst authService = {\r\n  /**\r\n   * Register new user with comprehensive validation\r\n   * \r\n   * @param {Object} userData - User registration data\r\n   * @returns {Promise<Object>} Registration response\r\n   */\r\n  register: async (userData) => {\r\n    try {\r\n      securityMonitor.log('registration_attempt', {\r\n        email: userData.email,\r\n        role: userData.role,\r\n        hasStudentId: !!userData.studentId\r\n      });\r\n\r\n      console.log('ðŸ” Received registration data:', userData);\r\n\r\n      // Validate required fields\r\n      const requiredFields = ['username', 'email', 'password', 'role'];\r\n      const missingFields = requiredFields.filter(field => !userData[field]);\r\n      \r\n      if (missingFields.length > 0) {\r\n        throw new Error(`Missing required fields: ${missingFields.join(', ')}`);\r\n      }\r\n\r\n      // Prepare registration data\r\n      const registrationData = {\r\n        username: userData.username.trim(),\r\n        email: userData.email.toLowerCase().trim(),\r\n        password: userData.password,\r\n        role: userData.role,\r\n        firstName: userData.firstName?.trim(),\r\n        lastName: userData.lastName?.trim(),\r\n        phone: userData.phone,\r\n        metadata: {\r\n          registrationSource: 'web',\r\n          userAgent: navigator.userAgent,\r\n          screenResolution: `${window.screen.width}x${window.screen.height}`,\r\n          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          isPersonalEmail: userData.isPersonalEmail || false\r\n        }\r\n      };\r\n\r\n      // Add role-specific fields with proper department mapping\r\n      if (userData.role === 'student') {\r\n        // For students - use academicInfo with lowercase department\r\n        if (userData.department) {\r\n          registrationData.academicInfo = {\r\n            studentId: userData.studentId?.trim().toUpperCase(),\r\n            department: userData.department.trim(), // lowercase for academicInfo.department\r\n            campus: userData.campus || 'BU',\r\n            yearOfEntry: userData.yearOfEntry || new Date().getFullYear(),\r\n            semester: userData.semester || 1,\r\n            academicStatus: 'active'\r\n          };\r\n        } else {\r\n          throw new Error('Department is required for student accounts');\r\n        }\r\n      } else {\r\n        // For staff, technician, admin - use professionalInfo with UPPERCASE department\r\n        if (userData.department) {\r\n          // Convert department to UPPERCASE for professional roles\r\n          const professionalDepartment = userData.department.toUpperCase();\r\n          \r\n          registrationData.professionalInfo = {\r\n            department: professionalDepartment, // UPPERCASE for professionalInfo.department\r\n            employmentType: 'FULL_TIME'\r\n          };\r\n\r\n          // Add employee ID if provided\r\n          if (userData.employeeId) {\r\n            registrationData.professionalInfo.employeeId = userData.employeeId.trim().toUpperCase();\r\n          }\r\n        } else {\r\n          throw new Error('Department is required for staff/technician/admin accounts');\r\n        }\r\n      }\r\n\r\n      // Add student-specific fields at root level if they exist\r\n      if (userData.studentId && userData.role === 'student') {\r\n        registrationData.studentId = userData.studentId.trim().toUpperCase();\r\n      }\r\n\r\n      console.log('ðŸ” Final registration payload:', JSON.stringify(registrationData, null, 2));\r\n\r\n      const response = await api.post('/auth/register', registrationData);\r\n      \r\n      console.log('ðŸ” Registration response:', response.data);\r\n      \r\n      if (!response.data.success) {\r\n        console.error('âŒ Backend returned success: false', response.data);\r\n        throw new Error(response.data.message || 'Registration failed');\r\n      }\r\n\r\n      const { data } = response.data;\r\n\r\n      securityMonitor.log('registration_success', {\r\n        userId: data.user?.id,\r\n        email: data.user?.email,\r\n        role: data.user?.role,\r\n        requiresEmailVerification: data.requiresEmailVerification\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message,\r\n        data: {\r\n          user: data.user,\r\n          accessToken: data.accessToken,\r\n          requiresEmailVerification: data.requiresEmailVerification\r\n        }\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error('ðŸ”¥ REGISTRATION API ERROR DETAILS:');\r\n      console.error('ðŸ”¥ Error:', error.message);\r\n      console.error('ðŸ”¥ Error response:', error.response?.data);\r\n      console.error('ðŸ”¥ Error status:', error.response?.status);\r\n      \r\n      securityMonitor.log('registration_failed', {\r\n        email: userData?.email,\r\n        role: userData?.role,\r\n        error: error.message,\r\n        response: error.response?.data,\r\n        status: error.response?.status\r\n      });\r\n\r\n      let errorMessage = 'Registration failed. Please try again.';\r\n      \r\n      if (error.response?.data) {\r\n        const { message, code, errors } = error.response.data;\r\n        console.error('ðŸ”¥ Backend error details:', { message, code, errors });\r\n        \r\n        if (code === 'EMAIL_EXISTS') {\r\n          errorMessage = 'An account with this email already exists.';\r\n        } else if (code === 'USERNAME_EXISTS') {\r\n          errorMessage = 'This username is already taken.';\r\n        } else if (code === 'STUDENT_ID_EXISTS') {\r\n          errorMessage = 'This student ID is already registered.';\r\n        } else if (code === 'EMPLOYEE_ID_EXISTS') {\r\n          errorMessage = 'This employee ID is already registered.';\r\n        } else if (code === 'VALIDATION_ERROR') {\r\n          // Handle Mongoose validation errors\r\n          if (errors?.length) {\r\n            errorMessage = errors.map(e => e.message || e.msg).join('. ');\r\n          } else if (message) {\r\n            errorMessage = message;\r\n          }\r\n        } else if (message) {\r\n          errorMessage = message;\r\n        }\r\n      } else if (error.message.includes('Network Error')) {\r\n        errorMessage = 'Cannot connect to server. Please check your internet connection.';\r\n      } else if (error.request) {\r\n        console.error('ðŸ”¥ No response received:', error.request);\r\n        errorMessage = 'No response from server. Please try again.';\r\n      }\r\n\r\n      throw new Error(errorMessage);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * User login with credentials\r\n   * \r\n   * @param {string} email - User email\r\n   * @param {string} password - User password\r\n   * @param {boolean} rememberMe - Remember login\r\n   * @returns {Promise<Object>} Authentication response\r\n   */\r\n  login: async (email, password, rememberMe = false) => {\r\n    try {\r\n      securityMonitor.log('login_attempt', { email, rememberMe });\r\n\r\n      if (!email || !password) {\r\n        throw new Error('Email and password are required');\r\n      }\r\n\r\n      const response = await api.post('/auth/login', {\r\n        email: email.toLowerCase().trim(),\r\n        password: password.trim(),\r\n        rememberMe\r\n      });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Login failed');\r\n      }\r\n\r\n      const { data } = response.data;\r\n\r\n      securityMonitor.log('login_success', {\r\n        userId: data.user?.id,\r\n        email: data.user?.email,\r\n        role: data.user?.role,\r\n        requiresEmailVerification: data.requiresEmailVerification\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message,\r\n        data: {\r\n          user: data.user,\r\n          accessToken: data.accessToken,\r\n          refreshToken: data.refreshToken,\r\n          requiresEmailVerification: data.requiresEmailVerification\r\n        }\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('login_failed', {\r\n        email,\r\n        error: error.message,\r\n        status: error.response?.status,\r\n        code: error.response?.data?.code\r\n      });\r\n\r\n      let errorMessage = 'Login failed. Please check your credentials.';\r\n      \r\n      if (error.response?.data) {\r\n        const { message, code, attemptsLeft, locked } = error.response.data;\r\n        \r\n        if (code === 'ACCOUNT_LOCKED') {\r\n          errorMessage = `Account is locked. Try again in ${error.response.data.lockDuration} minutes.`;\r\n        } else if (code === 'ACCOUNT_INACTIVE') {\r\n          errorMessage = 'Account is deactivated. Please contact support.';\r\n        } else if (code === 'INVALID_CREDENTIALS') {\r\n          if (attemptsLeft > 0) {\r\n            errorMessage = `Invalid credentials. ${attemptsLeft} attempts remaining.`;\r\n          } else if (locked) {\r\n            errorMessage = 'Account locked due to too many failed attempts.';\r\n          }\r\n        } else if (message) {\r\n          errorMessage = message;\r\n        }\r\n      } else if (error.message.includes('Network Error')) {\r\n        errorMessage = 'Cannot connect to server. Please check your internet connection.';\r\n      }\r\n\r\n      throw new Error(errorMessage);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Logout user and clear tokens\r\n   * \r\n   * @returns {Promise<Object>} Logout response\r\n   */\r\n  logout: async () => {\r\n    try {\r\n      securityMonitor.log('logout_attempt');\r\n\r\n      await api.post('/auth/logout', {}, { withCredentials: true });\r\n\r\n      // Clear local tokens\r\n      tokenManager.clearTokens();\r\n      \r\n      // Clear any stored user data\r\n      sessionStorage.clear();\r\n      localStorage.removeItem('user_data');\r\n\r\n      securityMonitor.log('logout_success');\r\n\r\n      return {\r\n        success: true,\r\n        message: 'Logged out successfully'\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('logout_failed', { error: error.message });\r\n      \r\n      // Still clear tokens even if API call fails\r\n      tokenManager.clearTokens();\r\n      sessionStorage.clear();\r\n      localStorage.removeItem('user_data');\r\n\r\n      return {\r\n        success: true,\r\n        message: 'Logged out locally'\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get current authenticated user\r\n   * \r\n   * @returns {Promise<Object>} Current user data\r\n   */\r\n  getCurrentUser: async () => {\r\n    try {\r\n      const response = await api.get('/auth/me', { withCredentials: true });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Failed to get user data');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        data: response.data.data.user\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('get_current_user_failed', { error: error.message });\r\n\r\n      if (error.response?.status === 401) {\r\n        tokenManager.clearTokens();\r\n        throw new Error('Session expired. Please login again.');\r\n      }\r\n\r\n      throw new Error('Failed to get user data');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Update user profile\r\n   * \r\n   * @param {Object} updates - Profile updates\r\n   * @returns {Promise<Object>} Updated user data\r\n   */\r\n  updateProfile: async (updates) => {\r\n    try {\r\n      securityMonitor.log('profile_update_attempt', { \r\n        fields: Object.keys(updates) \r\n      });\r\n\r\n      const response = await api.put('/auth/me', updates, { \r\n        withCredentials: true \r\n      });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Update failed');\r\n      }\r\n\r\n      securityMonitor.log('profile_update_success', { \r\n        fields: Object.keys(updates) \r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message,\r\n        data: response.data.data.user\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('profile_update_failed', { \r\n        error: error.message,\r\n        fields: Object.keys(updates)\r\n      });\r\n\r\n      let errorMessage = 'Failed to update profile.';\r\n      \r\n      if (error.response?.data?.errors?.length) {\r\n        errorMessage = error.response.data.errors.map(e => e.message).join('. ');\r\n      }\r\n\r\n      throw new Error(errorMessage);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Change password for authenticated user\r\n   * \r\n   * @param {string} currentPassword - Current password\r\n   * @param {string} newPassword - New password\r\n   * @returns {Promise<Object>} Success response\r\n   */\r\n  changePassword: async (currentPassword, newPassword) => {\r\n    try {\r\n      securityMonitor.log('password_change_attempt');\r\n\r\n      // Validate password strength\r\n      if (newPassword.length < 8) {\r\n        throw new Error('Password must be at least 8 characters');\r\n      }\r\n\r\n      const response = await api.post('/auth/change-password', {\r\n        currentPassword: currentPassword.trim(),\r\n        newPassword: newPassword.trim()\r\n      }, { withCredentials: true });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Password change failed');\r\n      }\r\n\r\n      securityMonitor.log('password_change_success');\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('password_change_failed', { error: error.message });\r\n      throw new Error(error.response?.data?.message || 'Failed to change password');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Request password reset\r\n   * \r\n   * @param {string} email - User email\r\n   * @returns {Promise<Object>} Success response\r\n   */\r\n  forgotPassword: async (email) => {\r\n    try {\r\n      securityMonitor.log('password_reset_request', { email });\r\n\r\n      const response = await api.post('/auth/forgot-password', {\r\n        email: email.toLowerCase().trim()\r\n      });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Request failed');\r\n      }\r\n\r\n      securityMonitor.log('password_reset_request_success', { email });\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('password_reset_request_failed', { \r\n        email,\r\n        error: error.message \r\n      });\r\n\r\n      // Always return success for security (don't reveal if email exists)\r\n      return {\r\n        success: true,\r\n        message: 'If an account exists with this email, you will receive reset instructions.'\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Reset password with token\r\n   * \r\n   * @param {string} token - Reset token\r\n   * @param {string} userId - User ID\r\n   * @param {string} newPassword - New password\r\n   * @returns {Promise<Object>} Success response\r\n   */\r\n  resetPassword: async (token, userId, newPassword) => {\r\n    try {\r\n      securityMonitor.log('password_reset_attempt', { \r\n        token: token.substring(0, 10) + '...',\r\n        userId \r\n      });\r\n\r\n      if (newPassword.length < 8) {\r\n        throw new Error('Password must be at least 8 characters');\r\n      }\r\n\r\n      const response = await api.post('/auth/reset-password', {\r\n        token: token.trim(),\r\n        userId: userId.trim(),\r\n        password: newPassword.trim()\r\n      });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Password reset failed');\r\n      }\r\n\r\n      securityMonitor.log('password_reset_success', { userId });\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('password_reset_failed', { \r\n        userId,\r\n        error: error.message \r\n      });\r\n\r\n      throw new Error(error.response?.data?.message || 'Failed to reset password');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Verify email with token\r\n   *\r\n   * @param {string} token - Verification token\r\n   * @returns {Promise<Object>} Success response\r\n   */\r\n  verifyEmail: async (token) => {\r\n    try {\r\n      securityMonitor.log('email_verification_attempt', {\r\n        token: token.substring(0, 10) + '...'\r\n      });\r\n\r\n      const response = await api.get(`/auth/verify-email/${token.trim()}`);\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Verification failed');\r\n      }\r\n\r\n      securityMonitor.log('email_verification_success');\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('email_verification_failed', {\r\n        error: error.message\r\n      });\r\n\r\n      throw new Error(error.response?.data?.message || 'Failed to verify email');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Resend verification email\r\n   * \r\n   * @returns {Promise<Object>} Success response\r\n   */\r\n  resendVerification: async () => {\r\n    try {\r\n      securityMonitor.log('verification_resend_attempt');\r\n\r\n      const response = await api.post('/auth/resend-verification', {}, { \r\n        withCredentials: true \r\n      });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Failed to resend verification');\r\n      }\r\n\r\n      securityMonitor.log('verification_resend_success');\r\n\r\n      return {\r\n        success: true,\r\n        message: response.data.message\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('verification_resend_failed', { error: error.message });\r\n      throw new Error(error.response?.data?.message || 'Failed to resend verification');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Check if email is available\r\n   * \r\n   * @param {string} email - Email to check\r\n   * @returns {Promise<Object>} Availability result\r\n   */\r\n  checkEmail: async (email) => {\r\n    try {\r\n      const response = await api.post('/auth/check-email', {\r\n        email: email.toLowerCase().trim()\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        data: response.data.data\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('check_email_failed', { email, error: error.message });\r\n      throw new Error('Failed to check email availability');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Check if username is available\r\n   * \r\n   * @param {string} username - Username to check\r\n   * @returns {Promise<Object>} Availability result\r\n   */\r\n  checkUsername: async (username) => {\r\n    try {\r\n      const response = await api.post('/auth/check-username', {\r\n        username: username.trim()\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        data: response.data.data\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('check_username_failed', { username, error: error.message });\r\n      throw new Error('Failed to check username availability');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get authentication statistics (admin only)\r\n   * \r\n   * @returns {Promise<Object>} Authentication statistics\r\n   */\r\n  getAuthStats: async () => {\r\n    try {\r\n      const response = await api.get('/auth/stats', { withCredentials: true });\r\n\r\n      if (!response.data.success) {\r\n        throw new Error(response.data.message || 'Failed to get stats');\r\n      }\r\n\r\n      return {\r\n        success: true,\r\n        data: response.data.data\r\n      };\r\n\r\n    } catch (error) {\r\n      securityMonitor.log('get_auth_stats_failed', { error: error.message });\r\n      throw new Error('Failed to get authentication statistics');\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get security events (for debugging/admin)\r\n   * \r\n   * @param {number} limit - Maximum number of events\r\n   * @returns {Array} Security events\r\n   */\r\n  getSecurityEvents: (limit = 50) => {\r\n    return securityMonitor.getEvents(limit);\r\n  },\r\n\r\n  /**\r\n   * Clear security events\r\n   */\r\n  clearSecurityEvents: () => {\r\n    securityMonitor.clearEvents();\r\n  },\r\n\r\n  /**\r\n   * Check if user is authenticated\r\n   * \r\n   * @returns {Promise<boolean>} Authentication status\r\n   */\r\n  isAuthenticated: async () => {\r\n    try {\r\n      await this.getCurrentUser();\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Check network connectivity\r\n   * \r\n   * @returns {boolean} Network status\r\n   */\r\n  isOnline: () => {\r\n    return networkMonitor.isConnected();\r\n  },\r\n\r\n  /**\r\n   * Add network status listener\r\n   * \r\n   * @param {Function} listener - Listener function\r\n   */\r\n  onNetworkChange: (listener) => {\r\n    networkMonitor.addListener(listener);\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}