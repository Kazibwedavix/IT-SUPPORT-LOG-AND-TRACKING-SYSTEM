{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport userService from '../services/userService';\nimport ticketService from '../services/ticketService';\n\n// Dashboard data\nexport const useDashboardData = () => {\n  _s();\n  return useQuery({\n    queryKey: ['adminDashboard'],\n    queryFn: async () => {\n      console.log('ðŸ”„ Fetching dashboard data...');\n      try {\n        var _ticketsResponse$tick;\n        const [userStats, systemStats, ticketsResponse] = await Promise.all([userService.getUserStats(), userService.getSystemStats(), ticketService.getTickets({\n          limit: 6,\n          sortBy: 'updatedAt',\n          sortOrder: 'desc'\n        })]);\n        console.log('âœ… Dashboard data fetched:', {\n          userStats,\n          systemStats,\n          tickets: (_ticketsResponse$tick = ticketsResponse.tickets) === null || _ticketsResponse$tick === void 0 ? void 0 : _ticketsResponse$tick.length\n        });\n        return {\n          userStats,\n          systemStats,\n          recentTickets: ticketsResponse.tickets || []\n        };\n      } catch (error) {\n        console.error('âŒ Dashboard data error:', error);\n        throw error;\n      }\n    },\n    refetchInterval: 30000\n  });\n};\n\n// Users management\n_s(useDashboardData, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useUsers = (filters = {}) => {\n  _s2();\n  return useQuery({\n    queryKey: ['users', filters],\n    queryFn: async () => {\n      console.log('ðŸ”„ Fetching users with filters:', filters);\n      try {\n        const data = await userService.getAllUsers(filters);\n        console.log('âœ… Users fetched:', data);\n        return data;\n      } catch (error) {\n        console.error('âŒ Users fetch error:', error);\n        throw error;\n      }\n    },\n    retry: 1\n  });\n};\n_s2(useUsers, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useCreateUser = () => {\n  _s3();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async userData => {\n      console.log('ðŸ”„ Creating user:', userData);\n      try {\n        const result = await userService.createUser(userData);\n        console.log('âœ… User created:', result);\n        return result;\n      } catch (error) {\n        console.error('âŒ User creation error:', error);\n        throw error;\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(['adminDashboard']);\n      queryClient.invalidateQueries(['users']);\n    }\n  });\n};\n_s3(useCreateUser, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useDeleteUser = () => {\n  _s4();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async id => {\n      console.log('ðŸ”„ Deleting user:', id);\n      try {\n        const result = await userService.deleteUser(id);\n        console.log('âœ… User deleted:', result);\n        return result;\n      } catch (error) {\n        console.error('âŒ User deletion error:', error);\n        throw error;\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(['adminDashboard']);\n      queryClient.invalidateQueries(['users']);\n    }\n  });\n};\n_s4(useDeleteUser, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});\nexport const useUpdateUser = () => {\n  _s5();\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({\n      id,\n      userData\n    }) => userService.updateUser(id, userData),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['adminDashboard']);\n      queryClient.invalidateQueries(['users']);\n    }\n  });\n};\n_s5(useUpdateUser, \"YK0wzM21ECnncaq5SECwU+/SVdQ=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useQuery","useMutation","useQueryClient","userService","ticketService","useDashboardData","_s","queryKey","queryFn","console","log","_ticketsResponse$tick","userStats","systemStats","ticketsResponse","Promise","all","getUserStats","getSystemStats","getTickets","limit","sortBy","sortOrder","tickets","length","recentTickets","error","refetchInterval","useUsers","filters","_s2","data","getAllUsers","retry","useCreateUser","_s3","queryClient","mutationFn","userData","result","createUser","onSuccess","invalidateQueries","useDeleteUser","_s4","id","deleteUser","useUpdateUser","_s5","updateUser"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/hooks/useAdminData.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport userService from '../services/userService';\r\nimport ticketService from '../services/ticketService';\r\n\r\n// Dashboard data\r\nexport const useDashboardData = () => {\r\n  return useQuery({\r\n    queryKey: ['adminDashboard'],\r\n    queryFn: async () => {\r\n      console.log('ðŸ”„ Fetching dashboard data...');\r\n      try {\r\n        const [userStats, systemStats, ticketsResponse] = await Promise.all([\r\n          userService.getUserStats(),\r\n          userService.getSystemStats(),\r\n          ticketService.getTickets({ limit: 6, sortBy: 'updatedAt', sortOrder: 'desc' })\r\n        ]);\r\n        \r\n        console.log('âœ… Dashboard data fetched:', { userStats, systemStats, tickets: ticketsResponse.tickets?.length });\r\n        \r\n        return {\r\n          userStats,\r\n          systemStats,\r\n          recentTickets: ticketsResponse.tickets || []\r\n        };\r\n      } catch (error) {\r\n        console.error('âŒ Dashboard data error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    refetchInterval: 30000,\r\n  });\r\n};\r\n\r\n// Users management\r\nexport const useUsers = (filters = {}) => {\r\n  return useQuery({\r\n    queryKey: ['users', filters],\r\n    queryFn: async () => {\r\n      console.log('ðŸ”„ Fetching users with filters:', filters);\r\n      try {\r\n        const data = await userService.getAllUsers(filters);\r\n        console.log('âœ… Users fetched:', data);\r\n        return data;\r\n      } catch (error) {\r\n        console.error('âŒ Users fetch error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    retry: 1,\r\n  });\r\n};\r\n\r\nexport const useCreateUser = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (userData) => {\r\n      console.log('ðŸ”„ Creating user:', userData);\r\n      try {\r\n        const result = await userService.createUser(userData);\r\n        console.log('âœ… User created:', result);\r\n        return result;\r\n      } catch (error) {\r\n        console.error('âŒ User creation error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['adminDashboard']);\r\n      queryClient.invalidateQueries(['users']);\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteUser = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (id) => {\r\n      console.log('ðŸ”„ Deleting user:', id);\r\n      try {\r\n        const result = await userService.deleteUser(id);\r\n        console.log('âœ… User deleted:', result);\r\n        return result;\r\n      } catch (error) {\r\n        console.error('âŒ User deletion error:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['adminDashboard']);\r\n      queryClient.invalidateQueries(['users']);\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateUser = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: ({ id, userData }) => userService.updateUser(id, userData),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['adminDashboard']);\r\n      queryClient.invalidateQueries(['users']);\r\n    },\r\n  });\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}