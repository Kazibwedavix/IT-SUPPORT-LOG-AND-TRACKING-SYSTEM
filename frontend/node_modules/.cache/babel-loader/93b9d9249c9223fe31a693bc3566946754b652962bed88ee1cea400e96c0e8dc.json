{"ast":null,"code":"import _objectSpread from\"C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useRef}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import Navbar from'../components/Navbar';import TicketCard from'../components/TicketCard';import LoadingSpinner from'../components/LoadingSpinner';import ErrorBoundary from'../components/ErrorBoundary';import ticketService from'../services/ticketService';import userService from'../services/userService';import'../styles/Dashboard.css';/**\r\n * TechnicianDashboard Component\r\n * \r\n * Enterprise-grade dashboard for IT technicians with real-time updates,\r\n * performance tracking, and ticket management capabilities.\r\n * \r\n * Features:\r\n * - Real-time dashboard updates\r\n * - Performance analytics\r\n * - Ticket assignment management\r\n * - SLA compliance tracking\r\n * - Responsive design\r\n * - Error boundary protection\r\n * \r\n * @version 3.0.0\r\n * @author Bugema IT Support Team\r\n */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const TechnicianDashboard=()=>{const{user,isAuthenticated}=useAuth();const navigate=useNavigate();const refreshIntervalRef=useRef(null);// State management\nconst[dashboardData,setDashboardData]=useState({assignedTickets:0,unassignedTickets:0,todayResolved:0,avgResolutionTime:0,slaMet:0,satisfactionRate:0,urgentCount:0,overdueCount:0});const[assignedTickets,setAssignedTickets]=useState([]);const[unassignedTickets,setUnassignedTickets]=useState([]);const[recentlyResolved,setRecentlyResolved]=useState([]);const[urgentTickets,setUrgentTickets]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeSection,setActiveSection]=useState('assigned');const[lastUpdated,setLastUpdated]=useState(null);// Authentication check\nuseEffect(()=>{if(!isAuthenticated){navigate('/login');return;}if((user===null||user===void 0?void 0:user.role)!=='technician'&&(user===null||user===void 0?void 0:user.role)!=='admin'){navigate('/dashboard');return;}},[isAuthenticated,user,navigate]);// Data fetching with cleanup\nuseEffect(()=>{if(isAuthenticated&&(user===null||user===void 0?void 0:user.role)==='technician'){fetchDashboardData();// Set up refresh interval (5 minutes for production)\nrefreshIntervalRef.current=setInterval(fetchDashboardData,300000);return()=>{if(refreshIntervalRef.current){clearInterval(refreshIntervalRef.current);}};}},[isAuthenticated,user]);/**\r\n   * Fetches all dashboard data with error handling and performance tracking\r\n   */const fetchDashboardData=useCallback(async()=>{try{setLoading(true);setError(null);const startTime=performance.now();// Fetch all data in parallel for performance\nconst[statsResponse,assignedResponse,unassignedResponse,resolvedResponse]=await Promise.all([userService.getTechnicianStats().catch(()=>({})),fetchTicketsWithFallback({assignedTo:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id),status:['open','in-progress'],limit:8,sortBy:'urgency',sortOrder:'desc'}),fetchTicketsWithFallback({assignedTo:null,status:'open',limit:6,sortBy:'createdAt',sortOrder:'desc'}),fetchTicketsWithFallback({status:['resolved','closed'],limit:4,sortBy:'updatedAt',sortOrder:'desc',assignedTo:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id)})]);// Process and validate responses\nprocessDashboardData(statsResponse,assignedResponse,unassignedResponse,resolvedResponse);const endTime=performance.now();console.log(\"Dashboard data loaded in \".concat((endTime-startTime).toFixed(2),\"ms\"));setLastUpdated(new Date());}catch(error){console.error('Error fetching dashboard data:',error);handleDashboardError(error);}finally{setLoading(false);}},[user]);/**\r\n   * Safe ticket fetching with fallback handling\r\n   */const fetchTicketsWithFallback=async filters=>{try{const response=await ticketService.getTickets(filters);if(response&&response.success){var _response$data,_response$data2,_response$data2$data;const tickets=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.tickets)||response.tickets||((_response$data2=response.data)===null||_response$data2===void 0?void 0:(_response$data2$data=_response$data2.data)===null||_response$data2$data===void 0?void 0:_response$data2$data.tickets)||response.data||[];return Array.isArray(tickets)?tickets:[];}return[];}catch(error){console.warn('Ticket fetch failed, using fallback:',error);return[];}};/**\r\n   * Processes and validates dashboard data\r\n   */const processDashboardData=(stats,assigned,unassigned,resolved)=>{// Validate and sanitize ticket data\nconst sanitizedAssigned=sanitizeTicketArray(assigned);const sanitizedUnassigned=sanitizeTicketArray(unassigned);const sanitizedResolved=sanitizeTicketArray(resolved);// Extract urgent tickets\nconst urgent=[...sanitizedAssigned.filter(t=>t.urgency==='critical'||t.urgency==='high'),...sanitizedUnassigned.filter(t=>t.urgency==='critical'||t.urgency==='high')];// Update state\nsetAssignedTickets(sanitizedAssigned);setUnassignedTickets(sanitizedUnassigned);setRecentlyResolved(sanitizedResolved);setUrgentTickets(urgent);// Update dashboard statistics\nsetDashboardData(prev=>_objectSpread(_objectSpread({},prev),{},{assignedTickets:sanitizedAssigned.length,unassignedTickets:sanitizedUnassigned.length,todayResolved:calculateTodayResolved(sanitizedResolved),avgResolutionTime:stats.avgResolutionTime||0,slaMet:stats.slaMet||0,satisfactionRate:stats.satisfactionRate||0,urgentCount:urgent.length,overdueCount:calculateOverdueTickets(sanitizedAssigned)}));};/**\r\n   * Sanitizes and validates ticket array\r\n   */const sanitizeTicketArray=tickets=>{if(!Array.isArray(tickets))return[];return tickets.filter(ticket=>ticket&&(ticket._id||ticket.id)).map(ticket=>_objectSpread(_objectSpread({},ticket),{},{// Ensure required fields exist\n_id:ticket._id||ticket.id,title:ticket.title||'Untitled Ticket',status:ticket.status||'open',urgency:ticket.urgency||'medium',issueType:ticket.issueType||'other',// Format dates for display\nformattedCreatedAt:formatDateForDisplay(ticket.createdAt),formattedUpdatedAt:formatDateForDisplay(ticket.updatedAt)}));};/**\r\n   * Calculates tickets resolved today\r\n   */const calculateTodayResolved=resolvedTickets=>{const today=new Date().toDateString();return resolvedTickets.filter(ticket=>{const resolvedDate=new Date(ticket.updatedAt||ticket.createdAt);return resolvedDate.toDateString()===today;}).length;};/**\r\n   * Calculates overdue tickets\r\n   */const calculateOverdueTickets=tickets=>{const now=new Date();return tickets.filter(ticket=>{if(!ticket.createdAt)return false;const createdDate=new Date(ticket.createdAt);const hoursSinceCreation=(now-createdDate)/(1000*60*60);// SLA thresholds based on urgency\nconst slaHours={critical:4,high:24,medium:48,low:72};const threshold=slaHours[ticket.urgency]||48;return hoursSinceCreation>threshold&&ticket.status!=='resolved';}).length;};/**\r\n   * Handles dashboard errors with user-friendly messages\r\n   */const handleDashboardError=error=>{const errorMap={'Network Error':'Unable to connect to server. Please check your internet connection.','Request failed with status code 401':'Session expired. Please log in again.','Request failed with status code 403':'You do not have permission to view this dashboard.','Request failed with status code 500':'Server error. Please try again later.'};const errorMessage=errorMap[error.message]||'Unable to load dashboard data. Please try again.';setError({message:errorMessage,type:'dashboard',retryable:true});};/**\r\n   * Handles manual refresh\r\n   */const handleManualRefresh=()=>{setError(null);fetchDashboardData();};/**\r\n   * Handles ticket assignment\r\n   */const handleAssignTicket=async ticketId=>{try{await ticketService.updateTicket(ticketId,{assignedTo:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id),status:'in-progress',assignedAt:new Date().toISOString()});await fetchDashboardData();}catch(error){console.error('Error assigning ticket:',error);setError({message:'Failed to assign ticket. Please try again.',type:'assignment',retryable:true});}};/**\r\n   * Formats date for display\r\n   */const formatDateForDisplay=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffHours=diffMs/(1000*60*60);if(diffHours<1){return'Just now';}else if(diffHours<24){return\"\".concat(Math.floor(diffHours),\" hours ago\");}else{return date.toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});}};/**\r\n   * Quick actions configuration\r\n   */const quickActions=[{id:'view-queue',label:'View Queue',description:'See all unassigned tickets',icon:'ðŸ“‹',action:()=>setActiveSection('unassigned'),color:'primary'},{id:'my-tickets',label:'My Tickets',description:'View assigned to me',icon:'ðŸ‘¤',action:()=>setActiveSection('assigned'),color:'secondary'},{id:'knowledge-base',label:'Knowledge Base',description:'Common solutions & guides',icon:'ðŸ“š',path:'/knowledge-base',color:'info'},{id:'performance',label:'Performance',description:'View detailed analytics',icon:'ðŸ“Š',path:'/technician/analytics',color:'success'}];/**\r\n   * Performance metrics configuration\r\n   */const performanceMetrics=[{id:'assigned',label:'Assigned',value:dashboardData.assignedTickets,description:'Tickets assigned to you'},{id:'resolved-today',label:'Resolved Today',value:dashboardData.todayResolved,description:'Tickets resolved today'},{id:'sla-met',label:'SLA Met',value:\"\".concat(dashboardData.slaMet,\"%\"),description:'Service level agreement compliance'},{id:'avg-time',label:'Avg. Time',value:\"\".concat(dashboardData.avgResolutionTime,\"m\"),description:'Average resolution time'},{id:'satisfaction',label:'Satisfaction',value:\"\".concat(dashboardData.satisfactionRate,\"%\"),description:'User satisfaction rate'},{id:'urgent',label:'Urgent',value:dashboardData.urgentCount,description:'High/Critical priority tickets'}];// Loading state\nif(loading&&assignedTickets.length===0){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Loading technician dashboard...\",fullPage:true})})]});}return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"technician-dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Technician Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"page-subtitle\",children:[\"Welcome back, \",/*#__PURE__*/_jsx(\"strong\",{children:(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)}),(user===null||user===void 0?void 0:user.department)&&\" \\u2022 \".concat(user.department)]})]}),lastUpdated&&/*#__PURE__*/_jsxs(\"div\",{className:\"last-updated\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"update-icon\",children:\"\\uD83D\\uDD04\"}),\"Last updated: \",lastUpdated.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleManualRefresh,className:\"btn btn-secondary btn-icon\",disabled:loading,\"aria-label\":\"Refresh dashboard\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDD04\"}),\"Refresh\"]}),/*#__PURE__*/_jsx(Link,{to:\"/tickets\",className:\"btn btn-primary\",children:\"View All Tickets\"})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-\".concat(error.type),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error.message]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-actions\",children:[error.retryable&&/*#__PURE__*/_jsx(\"button\",{onClick:handleManualRefresh,className:\"btn btn-sm\",children:\"Retry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"btn btn-sm btn-text\",children:\"Dismiss\"})]})]}),urgentTickets.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"critical-alert\",role:\"alert\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-icon\",children:\"\\uD83D\\uDEA8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Urgent Attention Required\"}),/*#__PURE__*/_jsxs(\"span\",{children:[urgentTickets.length,\" high-priority tickets need immediate action\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveSection('assigned'),className:\"btn btn-danger\",children:\"View Urgent Tickets\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"performance-stats\",\"aria-label\":\"Performance statistics\",children:/*#__PURE__*/_jsx(\"div\",{className:\"stats-grid\",children:performanceMetrics.map(metric=>/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card stat-\".concat(metric.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",\"aria-label\":metric.label,children:metric.value}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:metric.label}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-description\",children:metric.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-trend\"})]},metric.id))})}),/*#__PURE__*/_jsxs(\"section\",{className:\"quick-actions-section\",\"aria-label\":\"Quick actions\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-grid\",children:quickActions.map(action=>action.path?/*#__PURE__*/_jsxs(Link,{to:action.path,className:\"action-card action-\".concat(action.color),\"aria-label\":action.label,children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:action.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"action-label\",children:action.label}),/*#__PURE__*/_jsx(\"span\",{className:\"action-description\",children:action.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-arrow\",children:\"\\u2192\"})]},action.id):/*#__PURE__*/_jsxs(\"button\",{onClick:action.action,className:\"action-card action-\".concat(action.color),\"aria-label\":action.label,children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:action.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"action-label\",children:action.label}),/*#__PURE__*/_jsx(\"span\",{className:\"action-description\",children:action.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-arrow\",children:\"\\u2192\"})]},action.id))})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"ticket-management\",\"aria-label\":\"Ticket management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"management-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Ticket Management\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"management-tabs\",\"aria-label\":\"Ticket categories\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeSection==='assigned'?'active':''),onClick:()=>setActiveSection('assigned'),\"aria-label\":\"View assigned tickets\",\"aria-selected\":activeSection==='assigned',children:[\"My Tickets\",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:assignedTickets.length})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeSection==='unassigned'?'active':''),onClick:()=>setActiveSection('unassigned'),\"aria-label\":\"View unassigned tickets\",\"aria-selected\":activeSection==='unassigned',children:[\"Unassigned\",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:unassignedTickets.length})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeSection==='resolved'?'active':''),onClick:()=>setActiveSection('resolved'),\"aria-label\":\"View recently resolved tickets\",\"aria-selected\":activeSection==='resolved',children:[\"Recently Resolved\",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:recentlyResolved.length})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[activeSection==='assigned'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane\",\"aria-label\":\"Assigned tickets\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pane-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tickets Assigned to You\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"pane-subtitle\",children:[assignedTickets.length,\" tickets requiring your attention\",dashboardData.overdueCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"overdue-badge\",children:[dashboardData.overdueCount,\" overdue\"]})]})]}),assignedTickets.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",\"aria-label\":\"No assigned tickets\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"No Assigned Tickets\"}),/*#__PURE__*/_jsx(\"p\",{children:\"All clear! Check unassigned tickets to help colleagues.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveSection('unassigned'),className:\"btn btn-primary\",children:\"View Unassigned Tickets\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"tickets-grid\",role:\"list\",\"aria-label\":\"Assigned tickets list\",children:assignedTickets.map(ticket=>/*#__PURE__*/_jsx(\"div\",{className:\"ticket-card-wrapper\",role:\"listitem\",children:/*#__PURE__*/_jsx(TicketCard,{ticket:ticket,onStatusUpdate:fetchDashboardData})},ticket._id))})]}),activeSection==='unassigned'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane\",\"aria-label\":\"Unassigned tickets\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pane-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Unassigned Tickets\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"pane-subtitle\",children:[unassignedTickets.length,\" tickets waiting for assignment\"]})]}),unassignedTickets.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",\"aria-label\":\"No unassigned tickets\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83C\\uDF89\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"No Unassigned Tickets\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Great job team! All tickets are currently assigned.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"tickets-grid\",role:\"list\",\"aria-label\":\"Unassigned tickets list\",children:unassignedTickets.map(ticket=>/*#__PURE__*/_jsx(\"div\",{className:\"ticket-card-wrapper\",role:\"listitem\",children:/*#__PURE__*/_jsx(TicketCard,{ticket:ticket,showAssignButton:true,onAssign:handleAssignTicket})},ticket._id))})]}),activeSection==='resolved'&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-pane\",\"aria-label\":\"Recently resolved tickets\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pane-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recently Resolved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pane-subtitle\",children:\"Your recently completed tickets\"})]}),recentlyResolved.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",\"aria-label\":\"No recently resolved tickets\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"No Recent Resolutions\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Completed tickets will appear here.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"tickets-grid\",role:\"list\",\"aria-label\":\"Recently resolved tickets list\",children:recentlyResolved.map(ticket=>/*#__PURE__*/_jsx(\"div\",{className:\"ticket-card-wrapper\",role:\"listitem\",children:/*#__PURE__*/_jsx(TicketCard,{ticket:ticket})},ticket._id))})]})]})]}),loading&&assignedTickets.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Updating dashboard...\"})})]})]})});};export default TechnicianDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Link","useNavigate","useAuth","Navbar","TicketCard","LoadingSpinner","ErrorBoundary","ticketService","userService","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","TechnicianDashboard","user","isAuthenticated","navigate","refreshIntervalRef","dashboardData","setDashboardData","assignedTickets","unassignedTickets","todayResolved","avgResolutionTime","slaMet","satisfactionRate","urgentCount","overdueCount","setAssignedTickets","setUnassignedTickets","recentlyResolved","setRecentlyResolved","urgentTickets","setUrgentTickets","loading","setLoading","error","setError","activeSection","setActiveSection","lastUpdated","setLastUpdated","role","fetchDashboardData","current","setInterval","clearInterval","startTime","performance","now","statsResponse","assignedResponse","unassignedResponse","resolvedResponse","Promise","all","getTechnicianStats","catch","fetchTicketsWithFallback","assignedTo","_id","id","status","limit","sortBy","sortOrder","processDashboardData","endTime","console","log","concat","toFixed","Date","handleDashboardError","filters","response","getTickets","success","_response$data","_response$data2","_response$data2$data","tickets","data","Array","isArray","warn","stats","assigned","unassigned","resolved","sanitizedAssigned","sanitizeTicketArray","sanitizedUnassigned","sanitizedResolved","urgent","filter","t","urgency","prev","_objectSpread","length","calculateTodayResolved","calculateOverdueTickets","ticket","map","title","issueType","formattedCreatedAt","formatDateForDisplay","createdAt","formattedUpdatedAt","updatedAt","resolvedTickets","today","toDateString","resolvedDate","createdDate","hoursSinceCreation","slaHours","critical","high","medium","low","threshold","errorMap","errorMessage","message","type","retryable","handleManualRefresh","handleAssignTicket","ticketId","updateTicket","assignedAt","toISOString","dateString","date","diffMs","diffHours","Math","floor","toLocaleDateString","month","day","hour","minute","quickActions","label","description","icon","action","color","path","performanceMetrics","value","children","className","fullPage","name","email","department","toLocaleTimeString","onClick","disabled","to","metric","onStatusUpdate","showAssignButton","onAssign"],"sources":["C:/Users/KADZ-TECH/Documents/dev/it-support-system/frontend/src/pages/TechnicianDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport Navbar from '../components/Navbar';\r\nimport TicketCard from '../components/TicketCard';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport ErrorBoundary from '../components/ErrorBoundary';\r\nimport ticketService from '../services/ticketService';\r\nimport userService from '../services/userService';\r\nimport '../styles/Dashboard.css';\r\n\r\n/**\r\n * TechnicianDashboard Component\r\n * \r\n * Enterprise-grade dashboard for IT technicians with real-time updates,\r\n * performance tracking, and ticket management capabilities.\r\n * \r\n * Features:\r\n * - Real-time dashboard updates\r\n * - Performance analytics\r\n * - Ticket assignment management\r\n * - SLA compliance tracking\r\n * - Responsive design\r\n * - Error boundary protection\r\n * \r\n * @version 3.0.0\r\n * @author Bugema IT Support Team\r\n */\r\nconst TechnicianDashboard = () => {\r\n  const { user, isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n  const refreshIntervalRef = useRef(null);\r\n  \r\n  // State management\r\n  const [dashboardData, setDashboardData] = useState({\r\n    assignedTickets: 0,\r\n    unassignedTickets: 0,\r\n    todayResolved: 0,\r\n    avgResolutionTime: 0,\r\n    slaMet: 0,\r\n    satisfactionRate: 0,\r\n    urgentCount: 0,\r\n    overdueCount: 0\r\n  });\r\n  \r\n  const [assignedTickets, setAssignedTickets] = useState([]);\r\n  const [unassignedTickets, setUnassignedTickets] = useState([]);\r\n  const [recentlyResolved, setRecentlyResolved] = useState([]);\r\n  const [urgentTickets, setUrgentTickets] = useState([]);\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeSection, setActiveSection] = useState('assigned');\r\n  const [lastUpdated, setLastUpdated] = useState(null);\r\n\r\n  // Authentication check\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    if (user?.role !== 'technician' && user?.role !== 'admin') {\r\n      navigate('/dashboard');\r\n      return;\r\n    }\r\n  }, [isAuthenticated, user, navigate]);\r\n\r\n  // Data fetching with cleanup\r\n  useEffect(() => {\r\n    if (isAuthenticated && user?.role === 'technician') {\r\n      fetchDashboardData();\r\n      \r\n      // Set up refresh interval (5 minutes for production)\r\n      refreshIntervalRef.current = setInterval(fetchDashboardData, 300000);\r\n      \r\n      return () => {\r\n        if (refreshIntervalRef.current) {\r\n          clearInterval(refreshIntervalRef.current);\r\n        }\r\n      };\r\n    }\r\n  }, [isAuthenticated, user]);\r\n\r\n  /**\r\n   * Fetches all dashboard data with error handling and performance tracking\r\n   */\r\n  const fetchDashboardData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const startTime = performance.now();\r\n      \r\n      // Fetch all data in parallel for performance\r\n      const [\r\n        statsResponse,\r\n        assignedResponse,\r\n        unassignedResponse,\r\n        resolvedResponse\r\n      ] = await Promise.all([\r\n        userService.getTechnicianStats().catch(() => ({})),\r\n        fetchTicketsWithFallback({ \r\n          assignedTo: user?._id || user?.id,\r\n          status: ['open', 'in-progress'],\r\n          limit: 8,\r\n          sortBy: 'urgency',\r\n          sortOrder: 'desc'\r\n        }),\r\n        fetchTicketsWithFallback({ \r\n          assignedTo: null, \r\n          status: 'open',\r\n          limit: 6,\r\n          sortBy: 'createdAt',\r\n          sortOrder: 'desc'\r\n        }),\r\n        fetchTicketsWithFallback({ \r\n          status: ['resolved', 'closed'],\r\n          limit: 4,\r\n          sortBy: 'updatedAt',\r\n          sortOrder: 'desc',\r\n          assignedTo: user?._id || user?.id\r\n        })\r\n      ]);\r\n\r\n      // Process and validate responses\r\n      processDashboardData(\r\n        statsResponse,\r\n        assignedResponse,\r\n        unassignedResponse,\r\n        resolvedResponse\r\n      );\r\n      \r\n      const endTime = performance.now();\r\n      console.log(`Dashboard data loaded in ${(endTime - startTime).toFixed(2)}ms`);\r\n      \r\n      setLastUpdated(new Date());\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching dashboard data:', error);\r\n      handleDashboardError(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  /**\r\n   * Safe ticket fetching with fallback handling\r\n   */\r\n  const fetchTicketsWithFallback = async (filters) => {\r\n    try {\r\n      const response = await ticketService.getTickets(filters);\r\n      \r\n      if (response && response.success) {\r\n        const tickets = response.data?.tickets || \r\n                       response.tickets || \r\n                       response.data?.data?.tickets || \r\n                       response.data || \r\n                       [];\r\n        \r\n        return Array.isArray(tickets) ? tickets : [];\r\n      }\r\n      \r\n      return [];\r\n    } catch (error) {\r\n      console.warn('Ticket fetch failed, using fallback:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Processes and validates dashboard data\r\n   */\r\n  const processDashboardData = (stats, assigned, unassigned, resolved) => {\r\n    // Validate and sanitize ticket data\r\n    const sanitizedAssigned = sanitizeTicketArray(assigned);\r\n    const sanitizedUnassigned = sanitizeTicketArray(unassigned);\r\n    const sanitizedResolved = sanitizeTicketArray(resolved);\r\n    \r\n    // Extract urgent tickets\r\n    const urgent = [\r\n      ...sanitizedAssigned.filter(t => t.urgency === 'critical' || t.urgency === 'high'),\r\n      ...sanitizedUnassigned.filter(t => t.urgency === 'critical' || t.urgency === 'high')\r\n    ];\r\n\r\n    // Update state\r\n    setAssignedTickets(sanitizedAssigned);\r\n    setUnassignedTickets(sanitizedUnassigned);\r\n    setRecentlyResolved(sanitizedResolved);\r\n    setUrgentTickets(urgent);\r\n    \r\n    // Update dashboard statistics\r\n    setDashboardData(prev => ({\r\n      ...prev,\r\n      assignedTickets: sanitizedAssigned.length,\r\n      unassignedTickets: sanitizedUnassigned.length,\r\n      todayResolved: calculateTodayResolved(sanitizedResolved),\r\n      avgResolutionTime: stats.avgResolutionTime || 0,\r\n      slaMet: stats.slaMet || 0,\r\n      satisfactionRate: stats.satisfactionRate || 0,\r\n      urgentCount: urgent.length,\r\n      overdueCount: calculateOverdueTickets(sanitizedAssigned)\r\n    }));\r\n  };\r\n\r\n  /**\r\n   * Sanitizes and validates ticket array\r\n   */\r\n  const sanitizeTicketArray = (tickets) => {\r\n    if (!Array.isArray(tickets)) return [];\r\n    \r\n    return tickets\r\n      .filter(ticket => ticket && (ticket._id || ticket.id))\r\n      .map(ticket => ({\r\n        ...ticket,\r\n        // Ensure required fields exist\r\n        _id: ticket._id || ticket.id,\r\n        title: ticket.title || 'Untitled Ticket',\r\n        status: ticket.status || 'open',\r\n        urgency: ticket.urgency || 'medium',\r\n        issueType: ticket.issueType || 'other',\r\n        // Format dates for display\r\n        formattedCreatedAt: formatDateForDisplay(ticket.createdAt),\r\n        formattedUpdatedAt: formatDateForDisplay(ticket.updatedAt)\r\n      }));\r\n  };\r\n\r\n  /**\r\n   * Calculates tickets resolved today\r\n   */\r\n  const calculateTodayResolved = (resolvedTickets) => {\r\n    const today = new Date().toDateString();\r\n    return resolvedTickets.filter(ticket => {\r\n      const resolvedDate = new Date(ticket.updatedAt || ticket.createdAt);\r\n      return resolvedDate.toDateString() === today;\r\n    }).length;\r\n  };\r\n\r\n  /**\r\n   * Calculates overdue tickets\r\n   */\r\n  const calculateOverdueTickets = (tickets) => {\r\n    const now = new Date();\r\n    return tickets.filter(ticket => {\r\n      if (!ticket.createdAt) return false;\r\n      \r\n      const createdDate = new Date(ticket.createdAt);\r\n      const hoursSinceCreation = (now - createdDate) / (1000 * 60 * 60);\r\n      \r\n      // SLA thresholds based on urgency\r\n      const slaHours = {\r\n        critical: 4,\r\n        high: 24,\r\n        medium: 48,\r\n        low: 72\r\n      };\r\n      \r\n      const threshold = slaHours[ticket.urgency] || 48;\r\n      return hoursSinceCreation > threshold && ticket.status !== 'resolved';\r\n    }).length;\r\n  };\r\n\r\n  /**\r\n   * Handles dashboard errors with user-friendly messages\r\n   */\r\n  const handleDashboardError = (error) => {\r\n    const errorMap = {\r\n      'Network Error': 'Unable to connect to server. Please check your internet connection.',\r\n      'Request failed with status code 401': 'Session expired. Please log in again.',\r\n      'Request failed with status code 403': 'You do not have permission to view this dashboard.',\r\n      'Request failed with status code 500': 'Server error. Please try again later.'\r\n    };\r\n    \r\n    const errorMessage = errorMap[error.message] || \r\n                        'Unable to load dashboard data. Please try again.';\r\n    \r\n    setError({\r\n      message: errorMessage,\r\n      type: 'dashboard',\r\n      retryable: true\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handles manual refresh\r\n   */\r\n  const handleManualRefresh = () => {\r\n    setError(null);\r\n    fetchDashboardData();\r\n  };\r\n\r\n  /**\r\n   * Handles ticket assignment\r\n   */\r\n  const handleAssignTicket = async (ticketId) => {\r\n    try {\r\n      await ticketService.updateTicket(ticketId, {\r\n        assignedTo: user?._id || user?.id,\r\n        status: 'in-progress',\r\n        assignedAt: new Date().toISOString()\r\n      });\r\n      \r\n      await fetchDashboardData();\r\n    } catch (error) {\r\n      console.error('Error assigning ticket:', error);\r\n      setError({\r\n        message: 'Failed to assign ticket. Please try again.',\r\n        type: 'assignment',\r\n        retryable: true\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Formats date for display\r\n   */\r\n  const formatDateForDisplay = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    \r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffHours = diffMs / (1000 * 60 * 60);\r\n    \r\n    if (diffHours < 1) {\r\n      return 'Just now';\r\n    } else if (diffHours < 24) {\r\n      return `${Math.floor(diffHours)} hours ago`;\r\n    } else {\r\n      return date.toLocaleDateString('en-US', {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Quick actions configuration\r\n   */\r\n  const quickActions = [\r\n    {\r\n      id: 'view-queue',\r\n      label: 'View Queue',\r\n      description: 'See all unassigned tickets',\r\n      icon: 'ðŸ“‹',\r\n      action: () => setActiveSection('unassigned'),\r\n      color: 'primary'\r\n    },\r\n    {\r\n      id: 'my-tickets',\r\n      label: 'My Tickets',\r\n      description: 'View assigned to me',\r\n      icon: 'ðŸ‘¤', \r\n      action: () => setActiveSection('assigned'),\r\n      color: 'secondary'\r\n    },\r\n    {\r\n      id: 'knowledge-base',\r\n      label: 'Knowledge Base',\r\n      description: 'Common solutions & guides',\r\n      icon: 'ðŸ“š',\r\n      path: '/knowledge-base',\r\n      color: 'info'\r\n    },\r\n    {\r\n      id: 'performance',\r\n      label: 'Performance',\r\n      description: 'View detailed analytics',\r\n      icon: 'ðŸ“Š',\r\n      path: '/technician/analytics',\r\n      color: 'success'\r\n    }\r\n  ];\r\n\r\n  /**\r\n   * Performance metrics configuration\r\n   */\r\n  const performanceMetrics = [\r\n    { \r\n      id: 'assigned', \r\n      label: 'Assigned', \r\n      value: dashboardData.assignedTickets,\r\n      description: 'Tickets assigned to you'\r\n    },\r\n    { \r\n      id: 'resolved-today', \r\n      label: 'Resolved Today', \r\n      value: dashboardData.todayResolved,\r\n      description: 'Tickets resolved today'\r\n    },\r\n    { \r\n      id: 'sla-met', \r\n      label: 'SLA Met', \r\n      value: `${dashboardData.slaMet}%`,\r\n      description: 'Service level agreement compliance'\r\n    },\r\n    { \r\n      id: 'avg-time', \r\n      label: 'Avg. Time', \r\n      value: `${dashboardData.avgResolutionTime}m`,\r\n      description: 'Average resolution time'\r\n    },\r\n    { \r\n      id: 'satisfaction', \r\n      label: 'Satisfaction', \r\n      value: `${dashboardData.satisfactionRate}%`,\r\n      description: 'User satisfaction rate'\r\n    },\r\n    { \r\n      id: 'urgent', \r\n      label: 'Urgent', \r\n      value: dashboardData.urgentCount,\r\n      description: 'High/Critical priority tickets'\r\n    }\r\n  ];\r\n\r\n  // Loading state\r\n  if (loading && assignedTickets.length === 0) {\r\n    return (\r\n      <>\r\n        <Navbar />\r\n        <div className=\"loading-container\">\r\n          <LoadingSpinner \r\n            message=\"Loading technician dashboard...\" \r\n            fullPage={true}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <>\r\n        <Navbar />\r\n        <div className=\"technician-dashboard\">\r\n          {/* Dashboard Header */}\r\n          <header className=\"dashboard-header\">\r\n            <div className=\"header-content\">\r\n              <div>\r\n                <h1 className=\"page-title\">Technician Dashboard</h1>\r\n                <p className=\"page-subtitle\">\r\n                  Welcome back, <strong>{user?.name || user?.email}</strong>\r\n                  {user?.department && ` â€¢ ${user.department}`}\r\n                </p>\r\n              </div>\r\n              \r\n              {lastUpdated && (\r\n                <div className=\"last-updated\">\r\n                  <span className=\"update-icon\">ðŸ”„</span>\r\n                  Last updated: {lastUpdated.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"header-actions\">\r\n              <button\r\n                onClick={handleManualRefresh}\r\n                className=\"btn btn-secondary btn-icon\"\r\n                disabled={loading}\r\n                aria-label=\"Refresh dashboard\"\r\n              >\r\n                <span className=\"icon\">ðŸ”„</span>\r\n                Refresh\r\n              </button>\r\n              \r\n              <Link to=\"/tickets\" className=\"btn btn-primary\">\r\n                View All Tickets\r\n              </Link>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Error Display */}\r\n          {error && (\r\n            <div className={`alert alert-${error.type}`}>\r\n              <div className=\"alert-content\">\r\n                <strong>Error:</strong> {error.message}\r\n              </div>\r\n              <div className=\"alert-actions\">\r\n                {error.retryable && (\r\n                  <button onClick={handleManualRefresh} className=\"btn btn-sm\">\r\n                    Retry\r\n                  </button>\r\n                )}\r\n                <button onClick={() => setError(null)} className=\"btn btn-sm btn-text\">\r\n                  Dismiss\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Critical Alert Banner */}\r\n          {urgentTickets.length > 0 && (\r\n            <div className=\"critical-alert\" role=\"alert\">\r\n              <div className=\"alert-content\">\r\n                <span className=\"alert-icon\">ðŸš¨</span>\r\n                <div className=\"alert-text\">\r\n                  <strong>Urgent Attention Required</strong>\r\n                  <span>{urgentTickets.length} high-priority tickets need immediate action</span>\r\n                </div>\r\n              </div>\r\n              <button \r\n                onClick={() => setActiveSection('assigned')}\r\n                className=\"btn btn-danger\"\r\n              >\r\n                View Urgent Tickets\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Performance Stats */}\r\n          <section className=\"performance-stats\" aria-label=\"Performance statistics\">\r\n            <div className=\"stats-grid\">\r\n              {performanceMetrics.map(metric => (\r\n                <div key={metric.id} className={`stat-card stat-${metric.id}`}>\r\n                  <div className=\"stat-content\">\r\n                    <div className=\"stat-value\" aria-label={metric.label}>\r\n                      {metric.value}\r\n                    </div>\r\n                    <div className=\"stat-label\">{metric.label}</div>\r\n                    <div className=\"stat-description\">{metric.description}</div>\r\n                  </div>\r\n                  <div className=\"stat-trend\">\r\n                    {/* Trend indicator could be added here */}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Quick Actions */}\r\n          <section className=\"quick-actions-section\" aria-label=\"Quick actions\">\r\n            <h2 className=\"section-title\">Quick Actions</h2>\r\n            <div className=\"actions-grid\">\r\n              {quickActions.map(action => (\r\n                action.path ? (\r\n                  <Link\r\n                    key={action.id}\r\n                    to={action.path}\r\n                    className={`action-card action-${action.color}`}\r\n                    aria-label={action.label}\r\n                  >\r\n                    <div className=\"action-icon\">{action.icon}</div>\r\n                    <div className=\"action-content\">\r\n                      <span className=\"action-label\">{action.label}</span>\r\n                      <span className=\"action-description\">{action.description}</span>\r\n                    </div>\r\n                    <div className=\"action-arrow\">â†’</div>\r\n                  </Link>\r\n                ) : (\r\n                  <button\r\n                    key={action.id}\r\n                    onClick={action.action}\r\n                    className={`action-card action-${action.color}`}\r\n                    aria-label={action.label}\r\n                  >\r\n                    <div className=\"action-icon\">{action.icon}</div>\r\n                    <div className=\"action-content\">\r\n                      <span className=\"action-label\">{action.label}</span>\r\n                      <span className=\"action-description\">{action.description}</span>\r\n                    </div>\r\n                    <div className=\"action-arrow\">â†’</div>\r\n                  </button>\r\n                )\r\n              ))}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Main Ticket Management */}\r\n          <main className=\"ticket-management\" aria-label=\"Ticket management\">\r\n            <div className=\"management-header\">\r\n              <h2 className=\"section-title\">Ticket Management</h2>\r\n              \r\n              <nav className=\"management-tabs\" aria-label=\"Ticket categories\">\r\n                <button\r\n                  className={`tab-button ${activeSection === 'assigned' ? 'active' : ''}`}\r\n                  onClick={() => setActiveSection('assigned')}\r\n                  aria-label=\"View assigned tickets\"\r\n                  aria-selected={activeSection === 'assigned'}\r\n                >\r\n                  My Tickets\r\n                  <span className=\"tab-count\">{assignedTickets.length}</span>\r\n                </button>\r\n                <button\r\n                  className={`tab-button ${activeSection === 'unassigned' ? 'active' : ''}`}\r\n                  onClick={() => setActiveSection('unassigned')}\r\n                  aria-label=\"View unassigned tickets\"\r\n                  aria-selected={activeSection === 'unassigned'}\r\n                >\r\n                  Unassigned\r\n                  <span className=\"tab-count\">{unassignedTickets.length}</span>\r\n                </button>\r\n                <button\r\n                  className={`tab-button ${activeSection === 'resolved' ? 'active' : ''}`}\r\n                  onClick={() => setActiveSection('resolved')}\r\n                  aria-label=\"View recently resolved tickets\"\r\n                  aria-selected={activeSection === 'resolved'}\r\n                >\r\n                  Recently Resolved\r\n                  <span className=\"tab-count\">{recentlyResolved.length}</span>\r\n                </button>\r\n              </nav>\r\n            </div>\r\n\r\n            <div className=\"tab-content\">\r\n              {/* Assigned Tickets */}\r\n              {activeSection === 'assigned' && (\r\n                <div className=\"tab-pane\" aria-label=\"Assigned tickets\">\r\n                  <div className=\"pane-header\">\r\n                    <h3>Tickets Assigned to You</h3>\r\n                    <p className=\"pane-subtitle\">\r\n                      {assignedTickets.length} tickets requiring your attention\r\n                      {dashboardData.overdueCount > 0 && (\r\n                        <span className=\"overdue-badge\">\r\n                          {dashboardData.overdueCount} overdue\r\n                        </span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  {assignedTickets.length === 0 ? (\r\n                    <div className=\"empty-state\" aria-label=\"No assigned tickets\">\r\n                      <div className=\"empty-icon\">âœ…</div>\r\n                      <h4>No Assigned Tickets</h4>\r\n                      <p>All clear! Check unassigned tickets to help colleagues.</p>\r\n                      <button \r\n                        onClick={() => setActiveSection('unassigned')}\r\n                        className=\"btn btn-primary\"\r\n                      >\r\n                        View Unassigned Tickets\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"tickets-grid\" role=\"list\" aria-label=\"Assigned tickets list\">\r\n                      {assignedTickets.map(ticket => (\r\n                        <div key={ticket._id} className=\"ticket-card-wrapper\" role=\"listitem\">\r\n                          <TicketCard \r\n                            ticket={ticket} \r\n                            onStatusUpdate={fetchDashboardData}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Unassigned Tickets */}\r\n              {activeSection === 'unassigned' && (\r\n                <div className=\"tab-pane\" aria-label=\"Unassigned tickets\">\r\n                  <div className=\"pane-header\">\r\n                    <h3>Unassigned Tickets</h3>\r\n                    <p className=\"pane-subtitle\">\r\n                      {unassignedTickets.length} tickets waiting for assignment\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  {unassignedTickets.length === 0 ? (\r\n                    <div className=\"empty-state\" aria-label=\"No unassigned tickets\">\r\n                      <div className=\"empty-icon\">ðŸŽ‰</div>\r\n                      <h4>No Unassigned Tickets</h4>\r\n                      <p>Great job team! All tickets are currently assigned.</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"tickets-grid\" role=\"list\" aria-label=\"Unassigned tickets list\">\r\n                      {unassignedTickets.map(ticket => (\r\n                        <div key={ticket._id} className=\"ticket-card-wrapper\" role=\"listitem\">\r\n                          <TicketCard \r\n                            ticket={ticket}\r\n                            showAssignButton={true}\r\n                            onAssign={handleAssignTicket}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Recently Resolved */}\r\n              {activeSection === 'resolved' && (\r\n                <div className=\"tab-pane\" aria-label=\"Recently resolved tickets\">\r\n                  <div className=\"pane-header\">\r\n                    <h3>Recently Resolved</h3>\r\n                    <p className=\"pane-subtitle\">\r\n                      Your recently completed tickets\r\n                    </p>\r\n                  </div>\r\n                  \r\n                  {recentlyResolved.length === 0 ? (\r\n                    <div className=\"empty-state\" aria-label=\"No recently resolved tickets\">\r\n                      <div className=\"empty-icon\">ðŸ“Š</div>\r\n                      <h4>No Recent Resolutions</h4>\r\n                      <p>Completed tickets will appear here.</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"tickets-grid\" role=\"list\" aria-label=\"Recently resolved tickets list\">\r\n                      {recentlyResolved.map(ticket => (\r\n                        <div key={ticket._id} className=\"ticket-card-wrapper\" role=\"listitem\">\r\n                          <TicketCard ticket={ticket} />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </main>\r\n\r\n          {/* Overlay Loading */}\r\n          {loading && assignedTickets.length > 0 && (\r\n            <div className=\"loading-overlay\">\r\n              <LoadingSpinner message=\"Updating dashboard...\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default TechnicianDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}